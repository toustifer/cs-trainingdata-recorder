"use strict";var vC=Object.create;var yl=Object.defineProperty;var EC=Object.getOwnPropertyDescriptor;var SC=Object.getOwnPropertyNames;var bC=Object.getPrototypeOf,xC=Object.prototype.hasOwnProperty;var ye=(e,t)=>()=>(e&&(t=e(e=0)),t);var g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Dt=(e,t)=>{for(var r in t)yl(e,r,{get:t[r],enumerable:!0})},CC=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of SC(t))!xC.call(e,i)&&i!==r&&yl(e,i,{get:()=>t[i],enumerable:!(n=EC(t,i))||n.enumerable});return e};var ee=(e,t,r)=>(r=e!=null?vC(bC(e)):{},CC(t||!e||!e.__esModule?yl(r,"default",{value:e,enumerable:!0}):r,e));var qd=g(wl=>{var Md="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");wl.encode=function(e){if(0<=e&&e<Md.length)return Md[e];throw new TypeError("Must be between 0 and 63: "+e)};wl.decode=function(e){var t=65,r=90,n=97,i=122,s=48,o=57,a=43,l=47,c=26,u=52;return t<=e&&e<=r?e-t:n<=e&&e<=i?e-n+c:s<=e&&e<=o?e-s+u:e==a?62:e==l?63:-1}});var El=g(vl=>{var Ud=qd(),_l=5,$d=1<<_l,Bd=$d-1,Wd=$d;function AC(e){return e<0?(-e<<1)+1:(e<<1)+0}function TC(e){var t=(e&1)===1,r=e>>1;return t?-r:r}vl.encode=function(t){var r="",n,i=AC(t);do n=i&Bd,i>>>=_l,i>0&&(n|=Wd),r+=Ud.encode(n);while(i>0);return r};vl.decode=function(t,r,n){var i=t.length,s=0,o=0,a,l;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(l=Ud.decode(t.charCodeAt(r++)),l===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));a=!!(l&Wd),l&=Bd,s=s+(l<<o),o+=_l}while(a);n.value=TC(s),n.rest=r}});var vn=g(Fe=>{function OC(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}Fe.getArg=OC;var Gd=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,PC=/^data:.+\,.+$/;function wi(e){var t=e.match(Gd);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}Fe.urlParse=wi;function wn(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}Fe.urlGenerate=wn;function Sl(e){var t=e,r=wi(e);if(r){if(!r.path)return e;t=r.path}for(var n=Fe.isAbsolute(t),i=t.split(/\/+/),s,o=0,a=i.length-1;a>=0;a--)s=i[a],s==="."?i.splice(a,1):s===".."?o++:o>0&&(s===""?(i.splice(a+1,o),o=0):(i.splice(a,2),o--));return t=i.join("/"),t===""&&(t=n?"/":"."),r?(r.path=t,wn(r)):t}Fe.normalize=Sl;function jd(e,t){e===""&&(e="."),t===""&&(t=".");var r=wi(t),n=wi(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),wn(r);if(r||t.match(PC))return t;if(n&&!n.host&&!n.path)return n.host=t,wn(n);var i=t.charAt(0)==="/"?t:Sl(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=i,wn(n)):i}Fe.join=jd;Fe.isAbsolute=function(e){return e.charAt(0)==="/"||Gd.test(e)};function NC(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}Fe.relative=NC;var Hd=(function(){var e=Object.create(null);return!("__proto__"in e)})();function Vd(e){return e}function DC(e){return zd(e)?"$"+e:e}Fe.toSetString=Hd?Vd:DC;function RC(e){return zd(e)?e.slice(1):e}Fe.fromSetString=Hd?Vd:RC;function zd(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}function IC(e,t,r){var n=_n(e.source,t.source);return n!==0||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:_n(e.name,t.name)}Fe.compareByOriginalPositions=IC;function FC(e,t,r){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0||r)||(n=_n(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:_n(e.name,t.name)}Fe.compareByGeneratedPositionsDeflated=FC;function _n(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}function LC(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=_n(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:_n(e.name,t.name)}Fe.compareByGeneratedPositionsInflated=LC;function kC(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}Fe.parseSourceMapInput=kC;function MC(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var n=wi(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}t=jd(wn(n),t)}return Sl(t)}Fe.computeSourceURL=MC});var Cl=g(Yd=>{var bl=vn(),xl=Object.prototype.hasOwnProperty,Lr=typeof Map<"u";function Wt(){this._array=[],this._set=Lr?new Map:Object.create(null)}Wt.fromArray=function(t,r){for(var n=new Wt,i=0,s=t.length;i<s;i++)n.add(t[i],r);return n};Wt.prototype.size=function(){return Lr?this._set.size:Object.getOwnPropertyNames(this._set).length};Wt.prototype.add=function(t,r){var n=Lr?t:bl.toSetString(t),i=Lr?this.has(t):xl.call(this._set,n),s=this._array.length;(!i||r)&&this._array.push(t),i||(Lr?this._set.set(t,s):this._set[n]=s)};Wt.prototype.has=function(t){if(Lr)return this._set.has(t);var r=bl.toSetString(t);return xl.call(this._set,r)};Wt.prototype.indexOf=function(t){if(Lr){var r=this._set.get(t);if(r>=0)return r}else{var n=bl.toSetString(t);if(xl.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')};Wt.prototype.at=function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)};Wt.prototype.toArray=function(){return this._array.slice()};Yd.ArraySet=Wt});var Jd=g(Xd=>{var Kd=vn();function qC(e,t){var r=e.generatedLine,n=t.generatedLine,i=e.generatedColumn,s=t.generatedColumn;return n>r||n==r&&s>=i||Kd.compareByGeneratedPositionsInflated(e,t)<=0}function qs(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}qs.prototype.unsortedForEach=function(t,r){this._array.forEach(t,r)};qs.prototype.add=function(t){qC(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))};qs.prototype.toArray=function(){return this._sorted||(this._array.sort(Kd.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};Xd.MappingList=qs});var Al=g(Qd=>{var _i=El(),we=vn(),Us=Cl().ArraySet,UC=Jd().MappingList;function dt(e){e||(e={}),this._file=we.getArg(e,"file",null),this._sourceRoot=we.getArg(e,"sourceRoot",null),this._skipValidation=we.getArg(e,"skipValidation",!1),this._sources=new Us,this._names=new Us,this._mappings=new UC,this._sourcesContents=null}dt.prototype._version=3;dt.fromSourceMap=function(t){var r=t.sourceRoot,n=new dt({file:t.file,sourceRoot:r});return t.eachMapping(function(i){var s={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(s.source=i.source,r!=null&&(s.source=we.relative(r,s.source)),s.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(s.name=i.name)),n.addMapping(s)}),t.sources.forEach(function(i){var s=i;r!==null&&(s=we.relative(r,i)),n._sources.has(s)||n._sources.add(s);var o=t.sourceContentFor(i);o!=null&&n.setSourceContent(i,o)}),n};dt.prototype.addMapping=function(t){var r=we.getArg(t,"generated"),n=we.getArg(t,"original",null),i=we.getArg(t,"source",null),s=we.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,n,i,s),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:s})};dt.prototype.setSourceContent=function(t,r){var n=t;this._sourceRoot!=null&&(n=we.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[we.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[we.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};dt.prototype.applySourceMap=function(t,r,n){var i=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var s=this._sourceRoot;s!=null&&(i=we.relative(s,i));var o=new Us,a=new Us;this._mappings.unsortedForEach(function(l){if(l.source===i&&l.originalLine!=null){var c=t.originalPositionFor({line:l.originalLine,column:l.originalColumn});c.source!=null&&(l.source=c.source,n!=null&&(l.source=we.join(n,l.source)),s!=null&&(l.source=we.relative(s,l.source)),l.originalLine=c.line,l.originalColumn=c.column,c.name!=null&&(l.name=c.name))}var u=l.source;u!=null&&!o.has(u)&&o.add(u);var f=l.name;f!=null&&!a.has(f)&&a.add(f)},this),this._sources=o,this._names=a,t.sources.forEach(function(l){var c=t.sourceContentFor(l);c!=null&&(n!=null&&(l=we.join(n,l)),s!=null&&(l=we.relative(s,l)),this.setSourceContent(l,c))},this)};dt.prototype._validateMapping=function(t,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!n&&!i)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:i}))}};dt.prototype._serializeMappings=function(){for(var t=0,r=1,n=0,i=0,s=0,o=0,a="",l,c,u,f,h=this._mappings.toArray(),p=0,y=h.length;p<y;p++){if(c=h[p],l="",c.generatedLine!==r)for(t=0;c.generatedLine!==r;)l+=";",r++;else if(p>0){if(!we.compareByGeneratedPositionsInflated(c,h[p-1]))continue;l+=","}l+=_i.encode(c.generatedColumn-t),t=c.generatedColumn,c.source!=null&&(f=this._sources.indexOf(c.source),l+=_i.encode(f-o),o=f,l+=_i.encode(c.originalLine-1-i),i=c.originalLine-1,l+=_i.encode(c.originalColumn-n),n=c.originalColumn,c.name!=null&&(u=this._names.indexOf(c.name),l+=_i.encode(u-s),s=u)),a+=l}return a};dt.prototype._generateSourcesContent=function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=we.relative(r,n));var i=we.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)};dt.prototype.toJSON=function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t};dt.prototype.toString=function(){return JSON.stringify(this.toJSON())};Qd.SourceMapGenerator=dt});var Zd=g(kr=>{kr.GREATEST_LOWER_BOUND=1;kr.LEAST_UPPER_BOUND=2;function Tl(e,t,r,n,i,s){var o=Math.floor((t-e)/2)+e,a=i(r,n[o],!0);return a===0?o:a>0?t-o>1?Tl(o,t,r,n,i,s):s==kr.LEAST_UPPER_BOUND?t<n.length?t:-1:o:o-e>1?Tl(e,o,r,n,i,s):s==kr.LEAST_UPPER_BOUND?o:e<0?-1:e}kr.search=function(t,r,n,i){if(r.length===0)return-1;var s=Tl(-1,r.length,t,r,n,i||kr.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&n(r[s],r[s-1],!0)===0;)--s;return s}});var th=g(eh=>{function Ol(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function $C(e,t){return Math.round(e+Math.random()*(t-e))}function Pl(e,t,r,n){if(r<n){var i=$C(r,n),s=r-1;Ol(e,i,n);for(var o=e[n],a=r;a<n;a++)t(e[a],o)<=0&&(s+=1,Ol(e,s,a));Ol(e,s+1,a);var l=s+1;Pl(e,t,r,l-1),Pl(e,t,l+1,n)}}eh.quickSort=function(e,t){Pl(e,t,0,e.length-1)}});var nh=g($s=>{var U=vn(),Nl=Zd(),En=Cl().ArraySet,BC=El(),vi=th().quickSort;function se(e,t){var r=e;return typeof e=="string"&&(r=U.parseSourceMapInput(e)),r.sections!=null?new _t(r,t):new De(r,t)}se.fromSourceMap=function(e,t){return De.fromSourceMap(e,t)};se.prototype._version=3;se.prototype.__generatedMappings=null;Object.defineProperty(se.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});se.prototype.__originalMappings=null;Object.defineProperty(se.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});se.prototype._charIsMappingSeparator=function(t,r){var n=t.charAt(r);return n===";"||n===","};se.prototype._parseMappings=function(t,r){throw new Error("Subclasses must implement _parseMappings")};se.GENERATED_ORDER=1;se.ORIGINAL_ORDER=2;se.GREATEST_LOWER_BOUND=1;se.LEAST_UPPER_BOUND=2;se.prototype.eachMapping=function(t,r,n){var i=r||null,s=n||se.GENERATED_ORDER,o;switch(s){case se.GENERATED_ORDER:o=this._generatedMappings;break;case se.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;o.map(function(l){var c=l.source===null?null:this._sources.at(l.source);return c=U.computeSourceURL(a,c,this._sourceMapURL),{source:c,generatedLine:l.generatedLine,generatedColumn:l.generatedColumn,originalLine:l.originalLine,originalColumn:l.originalColumn,name:l.name===null?null:this._names.at(l.name)}},this).forEach(t,i)};se.prototype.allGeneratedPositionsFor=function(t){var r=U.getArg(t,"line"),n={source:U.getArg(t,"source"),originalLine:r,originalColumn:U.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",U.compareByOriginalPositions,Nl.LEAST_UPPER_BOUND);if(s>=0){var o=this._originalMappings[s];if(t.column===void 0)for(var a=o.originalLine;o&&o.originalLine===a;)i.push({line:U.getArg(o,"generatedLine",null),column:U.getArg(o,"generatedColumn",null),lastColumn:U.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s];else for(var l=o.originalColumn;o&&o.originalLine===r&&o.originalColumn==l;)i.push({line:U.getArg(o,"generatedLine",null),column:U.getArg(o,"generatedColumn",null),lastColumn:U.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s]}return i};$s.SourceMapConsumer=se;function De(e,t){var r=e;typeof e=="string"&&(r=U.parseSourceMapInput(e));var n=U.getArg(r,"version"),i=U.getArg(r,"sources"),s=U.getArg(r,"names",[]),o=U.getArg(r,"sourceRoot",null),a=U.getArg(r,"sourcesContent",null),l=U.getArg(r,"mappings"),c=U.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);o&&(o=U.normalize(o)),i=i.map(String).map(U.normalize).map(function(u){return o&&U.isAbsolute(o)&&U.isAbsolute(u)?U.relative(o,u):u}),this._names=En.fromArray(s.map(String),!0),this._sources=En.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(u){return U.computeSourceURL(o,u,t)}),this.sourceRoot=o,this.sourcesContent=a,this._mappings=l,this._sourceMapURL=t,this.file=c}De.prototype=Object.create(se.prototype);De.prototype.consumer=se;De.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=U.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};De.fromSourceMap=function(t,r){var n=Object.create(De.prototype),i=n._names=En.fromArray(t._names.toArray(),!0),s=n._sources=En.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(p){return U.computeSourceURL(n.sourceRoot,p,r)});for(var o=t._mappings.toArray().slice(),a=n.__generatedMappings=[],l=n.__originalMappings=[],c=0,u=o.length;c<u;c++){var f=o[c],h=new rh;h.generatedLine=f.generatedLine,h.generatedColumn=f.generatedColumn,f.source&&(h.source=s.indexOf(f.source),h.originalLine=f.originalLine,h.originalColumn=f.originalColumn,f.name&&(h.name=i.indexOf(f.name)),l.push(h)),a.push(h)}return vi(n.__originalMappings,U.compareByOriginalPositions),n};De.prototype._version=3;Object.defineProperty(De.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function rh(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}De.prototype._parseMappings=function(t,r){for(var n=1,i=0,s=0,o=0,a=0,l=0,c=t.length,u=0,f={},h={},p=[],y=[],w,S,x,C,q;u<c;)if(t.charAt(u)===";")n++,u++,i=0;else if(t.charAt(u)===",")u++;else{for(w=new rh,w.generatedLine=n,C=u;C<c&&!this._charIsMappingSeparator(t,C);C++);if(S=t.slice(u,C),x=f[S],x)u+=S.length;else{for(x=[];u<C;)BC.decode(t,u,h),q=h.value,u=h.rest,x.push(q);if(x.length===2)throw new Error("Found a source, but no line and column");if(x.length===3)throw new Error("Found a source and line, but no column");f[S]=x}w.generatedColumn=i+x[0],i=w.generatedColumn,x.length>1&&(w.source=a+x[1],a+=x[1],w.originalLine=s+x[2],s=w.originalLine,w.originalLine+=1,w.originalColumn=o+x[3],o=w.originalColumn,x.length>4&&(w.name=l+x[4],l+=x[4])),y.push(w),typeof w.originalLine=="number"&&p.push(w)}vi(y,U.compareByGeneratedPositionsDeflated),this.__generatedMappings=y,vi(p,U.compareByOriginalPositions),this.__originalMappings=p};De.prototype._findMapping=function(t,r,n,i,s,o){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return Nl.search(t,r,s,o)};De.prototype.computeColumnSpans=function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}};De.prototype.originalPositionFor=function(t){var r={generatedLine:U.getArg(t,"line"),generatedColumn:U.getArg(t,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",U.compareByGeneratedPositionsDeflated,U.getArg(t,"bias",se.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var s=U.getArg(i,"source",null);s!==null&&(s=this._sources.at(s),s=U.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var o=U.getArg(i,"name",null);return o!==null&&(o=this._names.at(o)),{source:s,line:U.getArg(i,"originalLine",null),column:U.getArg(i,"originalColumn",null),name:o}}}return{source:null,line:null,column:null,name:null}};De.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1};De.prototype.sourceContentFor=function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var i=t;this.sourceRoot!=null&&(i=U.relative(this.sourceRoot,i));var s;if(this.sourceRoot!=null&&(s=U.urlParse(this.sourceRoot))){var o=i.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!s.path||s.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')};De.prototype.generatedPositionFor=function(t){var r=U.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:U.getArg(t,"line"),originalColumn:U.getArg(t,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",U.compareByOriginalPositions,U.getArg(t,"bias",se.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===n.source)return{line:U.getArg(s,"generatedLine",null),column:U.getArg(s,"generatedColumn",null),lastColumn:U.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};$s.BasicSourceMapConsumer=De;function _t(e,t){var r=e;typeof e=="string"&&(r=U.parseSourceMapInput(e));var n=U.getArg(r,"version"),i=U.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new En,this._names=new En;var s={line:-1,column:0};this._sections=i.map(function(o){if(o.url)throw new Error("Support for url field in sections not implemented.");var a=U.getArg(o,"offset"),l=U.getArg(a,"line"),c=U.getArg(a,"column");if(l<s.line||l===s.line&&c<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=a,{generatedOffset:{generatedLine:l+1,generatedColumn:c+1},consumer:new se(U.getArg(o,"map"),t)}})}_t.prototype=Object.create(se.prototype);_t.prototype.constructor=se;_t.prototype._version=3;Object.defineProperty(_t.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}});_t.prototype.originalPositionFor=function(t){var r={generatedLine:U.getArg(t,"line"),generatedColumn:U.getArg(t,"column")},n=Nl.search(r,this._sections,function(s,o){var a=s.generatedLine-o.generatedOffset.generatedLine;return a||s.generatedColumn-o.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}};_t.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})};_t.prototype.sourceContentFor=function(t,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],s=i.consumer.sourceContentFor(t,!0);if(s)return s}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')};_t.prototype.generatedPositionFor=function(t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(U.getArg(t,"source"))!==-1){var i=n.consumer.generatedPositionFor(t);if(i){var s={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}};_t.prototype._parseMappings=function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],s=i.consumer._generatedMappings,o=0;o<s.length;o++){var a=s[o],l=i.consumer._sources.at(a.source);l=U.computeSourceURL(i.consumer.sourceRoot,l,this._sourceMapURL),this._sources.add(l),l=this._sources.indexOf(l);var c=null;a.name&&(c=i.consumer._names.at(a.name),this._names.add(c),c=this._names.indexOf(c));var u={source:l,generatedLine:a.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(i.generatedOffset.generatedLine===a.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:c};this.__generatedMappings.push(u),typeof u.originalLine=="number"&&this.__originalMappings.push(u)}vi(this.__generatedMappings,U.compareByGeneratedPositionsDeflated),vi(this.__originalMappings,U.compareByOriginalPositions)};$s.IndexedSourceMapConsumer=_t});var sh=g(ih=>{var WC=Al().SourceMapGenerator,Bs=vn(),GC=/(\r?\n)/,jC=10,Sn="$$$isSourceNode$$$";function ot(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=e??null,this.column=t??null,this.source=r??null,this.name=i??null,this[Sn]=!0,n!=null&&this.add(n)}ot.fromStringWithSourceMap=function(t,r,n){var i=new ot,s=t.split(GC),o=0,a=function(){var h=y(),p=y()||"";return h+p;function y(){return o<s.length?s[o++]:void 0}},l=1,c=0,u=null;return r.eachMapping(function(h){if(u!==null)if(l<h.generatedLine)f(u,a()),l++,c=0;else{var p=s[o]||"",y=p.substr(0,h.generatedColumn-c);s[o]=p.substr(h.generatedColumn-c),c=h.generatedColumn,f(u,y),u=h;return}for(;l<h.generatedLine;)i.add(a()),l++;if(c<h.generatedColumn){var p=s[o]||"";i.add(p.substr(0,h.generatedColumn)),s[o]=p.substr(h.generatedColumn),c=h.generatedColumn}u=h},this),o<s.length&&(u&&f(u,a()),i.add(s.splice(o).join(""))),r.sources.forEach(function(h){var p=r.sourceContentFor(h);p!=null&&(n!=null&&(h=Bs.join(n,h)),i.setSourceContent(h,p))}),i;function f(h,p){if(h===null||h.source===void 0)i.add(p);else{var y=n?Bs.join(n,h.source):h.source;i.add(new ot(h.originalLine,h.originalColumn,y,p,h.name))}}};ot.prototype.add=function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[Sn]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this};ot.prototype.prepend=function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[Sn]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this};ot.prototype.walk=function(t){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[Sn]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})};ot.prototype.join=function(t){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this};ot.prototype.replaceRight=function(t,r){var n=this.children[this.children.length-1];return n[Sn]?n.replaceRight(t,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this};ot.prototype.setSourceContent=function(t,r){this.sourceContents[Bs.toSetString(t)]=r};ot.prototype.walkSourceContents=function(t){for(var r=0,n=this.children.length;r<n;r++)this.children[r][Sn]&&this.children[r].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)t(Bs.fromSetString(i[r]),this.sourceContents[i[r]])};ot.prototype.toString=function(){var t="";return this.walk(function(r){t+=r}),t};ot.prototype.toStringWithSourceMap=function(t){var r={code:"",line:1,column:0},n=new WC(t),i=!1,s=null,o=null,a=null,l=null;return this.walk(function(c,u){r.code+=c,u.source!==null&&u.line!==null&&u.column!==null?((s!==u.source||o!==u.line||a!==u.column||l!==u.name)&&n.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:r.line,column:r.column},name:u.name}),s=u.source,o=u.line,a=u.column,l=u.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),s=null,i=!1);for(var f=0,h=c.length;f<h;f++)c.charCodeAt(f)===jC?(r.line++,r.column=0,f+1===h?(s=null,i=!1):i&&n.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:r.line,column:r.column},name:u.name})):r.column++}),this.walkSourceContents(function(c,u){n.setSourceContent(c,u)}),{code:r.code,map:n}};ih.SourceNode=ot});var oh=g(Ws=>{Ws.SourceMapGenerator=Al().SourceMapGenerator;Ws.SourceMapConsumer=nh().SourceMapConsumer;Ws.SourceNode=sh().SourceNode});var lh=g((DB,ah)=>{var HC=Object.prototype.toString,Dl=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function VC(e){return HC.call(e).slice(8,-1)==="ArrayBuffer"}function zC(e,t,r){t>>>=0;var n=e.byteLength-t;if(n<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=n;else if(r>>>=0,r>n)throw new RangeError("'length' is out of bounds");return Dl?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}function YC(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return Dl?Buffer.from(e,t):new Buffer(e,t)}function KC(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return VC(e)?zC(e,t,r):typeof e=="string"?YC(e,t):Dl?Buffer.from(e):new Buffer(e)}ah.exports=KC});var gh=g((qr,Ll)=>{var XC=oh().SourceMapConsumer,Rl=require("path"),Rt;try{Rt=require("fs"),(!Rt.existsSync||!Rt.readFileSync)&&(Rt=null)}catch{}var JC=lh();function uh(e,t){return e.require(t)}var ch=!1,fh=!1,Il=!1,Ei="auto",Mr={},Si={},QC=/^data:application\/json[^,]+base64,/,ar=[],lr=[];function kl(){return Ei==="browser"?!0:Ei==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}function ZC(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}function eA(){return typeof process=="object"&&process!==null?process.version:""}function tA(){if(typeof process=="object"&&process!==null)return process.stderr}function rA(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}function Gs(e){return function(t){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}}var Ml=Gs(ar);ar.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(n,i){return i?"":"/"})),e in Mr)return Mr[e];var t="";try{if(Rt)Rt.existsSync(e)&&(t=Rt.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return Mr[e]=t});function Fl(e,t){if(!e)return t;var r=Rl.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",s=r.slice(i.length);return i&&/^\/\w\:/.test(s)?(i+="/",i+Rl.resolve(r.slice(i.length),t).replace(/\\/g,"/")):i+Rl.resolve(r.slice(i.length),t)}function nA(e){var t;if(kl())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch{}t=Ml(e);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,s,o;o=i.exec(t);)s=o;return s?s[1]:null}var ql=Gs(lr);lr.push(function(e){var t=nA(e);if(!t)return null;var r;if(QC.test(t)){var n=t.slice(t.indexOf(",")+1);r=JC(n,"base64").toString(),t=e}else t=Fl(e,t),r=Ml(t);return r?{url:t,map:r}:null});function Ul(e){var t=Si[e.source];if(!t){var r=ql(e.source);r?(t=Si[e.source]={url:r.url,map:new XC(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(i,s){var o=t.map.sourcesContent[s];if(o){var a=Fl(t.url,i);Mr[a]=o}})):t=Si[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var n=t.map.originalPositionFor(e);if(n.source!==null)return n.source=Fl(t.url,n.source),n}return e}function hh(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=Ul({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+hh(t[2])+")":e}function iA(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var n=this.getColumnNumber();n&&(t+=":"+n)}}var i="",s=this.getFunctionName(),o=!0,a=this.isConstructor(),l=!(this.isToplevel()||a);if(l){var c=this.getTypeName();c==="[object Object]"&&(c="null");var u=this.getMethodName();s?(c&&s.indexOf(c)!=0&&(i+=c+"."),i+=s,u&&s.indexOf("."+u)!=s.length-u.length-1&&(i+=" [as "+u+"]")):i+=c+"."+(u||"<anonymous>")}else a?i+="new "+(s||"<anonymous>"):s?i+=s:(i+=t,o=!1);return o&&(i+=" ("+t+")"),i}function dh(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=iA,t}function ph(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var n=e.getLineNumber(),i=e.getColumnNumber()-1,s=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,o=s.test(eA())?0:62;n===1&&i>o&&!kl()&&!e.isEval()&&(i-=o);var a=Ul({source:r,line:n,column:i});t.curPosition=a,e=dh(e);var l=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?l():t.nextPosition.name||l()},e.getFileName=function(){return a.source},e.getLineNumber=function(){return a.line},e.getColumnNumber=function(){return a.column+1},e.getScriptNameOrSourceURL=function(){return a.source},e}var c=e.isEval()&&e.getEvalOrigin();return c&&(c=hh(c),e=dh(e),e.getEvalOrigin=function(){return c}),e}function sA(e,t){Il&&(Mr={},Si={});for(var r=e.name||"Error",n=e.message||"",i=r+": "+n,s={nextPosition:null,curPosition:null},o=[],a=t.length-1;a>=0;a--)o.push(`
    at `+ph(t[a],s)),s.nextPosition=s.curPosition;return s.curPosition=s.nextPosition=null,i+o.reverse().join("")}function mh(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],n=+t[2],i=+t[3],s=Mr[r];if(!s&&Rt&&Rt.existsSync(r))try{s=Rt.readFileSync(r,"utf8")}catch{s=""}if(s){var o=s.split(/(?:\r\n|\r|\n)/)[n-1];if(o)return r+":"+n+`
`+o+`
`+new Array(i).join(" ")+"^"}}return null}function oA(e){var t=mh(e),r=tA();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),rA(1)}function aA(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,n=this.listeners(t).length>0;if(r&&!n)return oA(arguments[1])}return e.apply(this,arguments)}}var lA=ar.slice(0),uA=lr.slice(0);qr.wrapCallSite=ph;qr.getErrorSource=mh;qr.mapSourcePosition=Ul;qr.retrieveSourceMap=ql;qr.install=function(e){if(e=e||{},e.environment&&(Ei=e.environment,["node","browser","auto"].indexOf(Ei)===-1))throw new Error("environment "+Ei+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(ar.length=0),ar.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(lr.length=0),lr.unshift(e.retrieveSourceMap)),e.hookRequire&&!kl()){var t=uh(Ll,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(s,o){return Mr[o]=s,Si[o]=void 0,r.call(this,s,o)},t.prototype._compile.__sourceMapSupport=!0)}if(Il||(Il="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),ch||(ch=!0,Error.prepareStackTrace=sA),!fh){var n="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var i=uh(Ll,"worker_threads");i.isMainThread===!1&&(n=!1)}catch{}n&&ZC()&&(fh=!0,aA())}};qr.resetRetrieveHandlers=function(){ar.length=0,lr.length=0,ar=lA.slice(0),lr=uA.slice(0),ql=Gs(lr),Ml=Gs(ar)}});var Z=g($l=>{"use strict";$l.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{e.call(this,...t,(i,s)=>i!=null?n(i):r(s))})},"name",{value:e.name})};$l.fromPromise=function(e){return Object.defineProperty(function(...t){let r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(n=>r(null,n),r)},"name",{value:e.name})}});var wh=g((FB,yh)=>{var ur=require("constants"),cA=process.cwd,js=null,fA=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return js||(js=cA.call(process)),js};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Bl=process.chdir,process.chdir=function(e){js=null,Bl.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Bl));var Bl;yh.exports=dA;function dA(e){ur.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(u,f,h){h&&process.nextTick(h)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(u,f,h,p){p&&process.nextTick(p)},e.lchownSync=function(){}),fA==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:(function(u){function f(h,p,y){var w=Date.now(),S=0;u(h,p,function x(C){if(C&&(C.code==="EACCES"||C.code==="EPERM"||C.code==="EBUSY")&&Date.now()-w<6e4){setTimeout(function(){e.stat(p,function(q,H){q&&q.code==="ENOENT"?u(h,p,x):y(C)})},S),S<100&&(S+=10);return}y&&y(C)})}return Object.setPrototypeOf&&Object.setPrototypeOf(f,u),f})(e.rename)),e.read=typeof e.read!="function"?e.read:(function(u){function f(h,p,y,w,S,x){var C;if(x&&typeof x=="function"){var q=0;C=function(H,de,P){if(H&&H.code==="EAGAIN"&&q<10)return q++,u.call(e,h,p,y,w,S,C);x.apply(this,arguments)}}return u.call(e,h,p,y,w,S,C)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,u),f})(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:(function(u){return function(f,h,p,y,w){for(var S=0;;)try{return u.call(e,f,h,p,y,w)}catch(x){if(x.code==="EAGAIN"&&S<10){S++;continue}throw x}}})(e.readSync);function t(u){u.lchmod=function(f,h,p){u.open(f,ur.O_WRONLY|ur.O_SYMLINK,h,function(y,w){if(y){p&&p(y);return}u.fchmod(w,h,function(S){u.close(w,function(x){p&&p(S||x)})})})},u.lchmodSync=function(f,h){var p=u.openSync(f,ur.O_WRONLY|ur.O_SYMLINK,h),y=!0,w;try{w=u.fchmodSync(p,h),y=!1}finally{if(y)try{u.closeSync(p)}catch{}else u.closeSync(p)}return w}}function r(u){ur.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(f,h,p,y){u.open(f,ur.O_SYMLINK,function(w,S){if(w){y&&y(w);return}u.futimes(S,h,p,function(x){u.close(S,function(C){y&&y(x||C)})})})},u.lutimesSync=function(f,h,p){var y=u.openSync(f,ur.O_SYMLINK),w,S=!0;try{w=u.futimesSync(y,h,p),S=!1}finally{if(S)try{u.closeSync(y)}catch{}else u.closeSync(y)}return w}):u.futimes&&(u.lutimes=function(f,h,p,y){y&&process.nextTick(y)},u.lutimesSync=function(){})}function n(u){return u&&function(f,h,p){return u.call(e,f,h,function(y){c(y)&&(y=null),p&&p.apply(this,arguments)})}}function i(u){return u&&function(f,h){try{return u.call(e,f,h)}catch(p){if(!c(p))throw p}}}function s(u){return u&&function(f,h,p,y){return u.call(e,f,h,p,function(w){c(w)&&(w=null),y&&y.apply(this,arguments)})}}function o(u){return u&&function(f,h,p){try{return u.call(e,f,h,p)}catch(y){if(!c(y))throw y}}}function a(u){return u&&function(f,h,p){typeof h=="function"&&(p=h,h=null);function y(w,S){S&&(S.uid<0&&(S.uid+=4294967296),S.gid<0&&(S.gid+=4294967296)),p&&p.apply(this,arguments)}return h?u.call(e,f,h,y):u.call(e,f,y)}}function l(u){return u&&function(f,h){var p=h?u.call(e,f,h):u.call(e,f);return p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),p}}function c(u){if(!u||u.code==="ENOSYS")return!0;var f=!process.getuid||process.getuid()!==0;return!!(f&&(u.code==="EINVAL"||u.code==="EPERM"))}}});var Eh=g((LB,vh)=>{var _h=require("stream").Stream;vh.exports=hA;function hA(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);_h.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,l=o.length;a<l;a++){var c=o[a];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}e.open(this.path,this.flags,this.mode,function(u,f){if(u){s.emit("error",u),s.readable=!1;return}s.fd=f,s.emit("open",f),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);_h.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var bh=g((kB,Sh)=>{"use strict";Sh.exports=mA;var pA=Object.getPrototypeOf||function(e){return e.__proto__};function mA(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:pA(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}});var ge=g((MB,jl)=>{var he=require("fs"),gA=wh(),yA=Eh(),wA=bh(),Hs=require("util"),Re,zs;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Re=Symbol.for("graceful-fs.queue"),zs=Symbol.for("graceful-fs.previous")):(Re="___graceful-fs.queue",zs="___graceful-fs.previous");function _A(){}function Ah(e,t){Object.defineProperty(e,Re,{get:function(){return t}})}var Ur=_A;Hs.debuglog?Ur=Hs.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Ur=function(){var e=Hs.format.apply(Hs,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});he[Re]||(xh=global[Re]||[],Ah(he,xh),he.close=(function(e){function t(r,n){return e.call(he,r,function(i){i||Ch(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,zs,{value:e}),t})(he.close),he.closeSync=(function(e){function t(r){e.apply(he,arguments),Ch()}return Object.defineProperty(t,zs,{value:e}),t})(he.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Ur(he[Re]),require("assert").equal(he[Re].length,0)}));var xh;global[Re]||Ah(global,he[Re]);jl.exports=Wl(wA(he));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!he.__patched&&(jl.exports=Wl(he),he.__patched=!0);function Wl(e){gA(e),e.gracefulify=Wl,e.createReadStream=de,e.createWriteStream=P;var t=e.readFile;e.readFile=r;function r($,v,b){return typeof v=="function"&&(b=v,v=null),O($,v,b);function O(I,M,R,T){return t(I,M,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?bn([O,[I,M,R],j,T||Date.now(),Date.now()]):typeof R=="function"&&R.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i($,v,b,O){return typeof b=="function"&&(O=b,b=null),I($,v,b,O);function I(M,R,T,j,W){return n(M,R,T,function(F){F&&(F.code==="EMFILE"||F.code==="ENFILE")?bn([I,[M,R,T,j],F,W||Date.now(),Date.now()]):typeof j=="function"&&j.apply(this,arguments)})}}var s=e.appendFile;s&&(e.appendFile=o);function o($,v,b,O){return typeof b=="function"&&(O=b,b=null),I($,v,b,O);function I(M,R,T,j,W){return s(M,R,T,function(F){F&&(F.code==="EMFILE"||F.code==="ENFILE")?bn([I,[M,R,T,j],F,W||Date.now(),Date.now()]):typeof j=="function"&&j.apply(this,arguments)})}}var a=e.copyFile;a&&(e.copyFile=l);function l($,v,b,O){return typeof b=="function"&&(O=b,b=0),I($,v,b,O);function I(M,R,T,j,W){return a(M,R,T,function(F){F&&(F.code==="EMFILE"||F.code==="ENFILE")?bn([I,[M,R,T,j],F,W||Date.now(),Date.now()]):typeof j=="function"&&j.apply(this,arguments)})}}var c=e.readdir;e.readdir=f;var u=/^v[0-5]\./;function f($,v,b){typeof v=="function"&&(b=v,v=null);var O=u.test(process.version)?function(R,T,j,W){return c(R,I(R,T,j,W))}:function(R,T,j,W){return c(R,T,I(R,T,j,W))};return O($,v,b);function I(M,R,T,j){return function(W,F){W&&(W.code==="EMFILE"||W.code==="ENFILE")?bn([O,[M,R,T],W,j||Date.now(),Date.now()]):(F&&F.sort&&F.sort(),typeof T=="function"&&T.call(this,W,F))}}}if(process.version.substr(0,4)==="v0.8"){var h=yA(e);x=h.ReadStream,q=h.WriteStream}var p=e.ReadStream;p&&(x.prototype=Object.create(p.prototype),x.prototype.open=C);var y=e.WriteStream;y&&(q.prototype=Object.create(y.prototype),q.prototype.open=H),Object.defineProperty(e,"ReadStream",{get:function(){return x},set:function($){x=$},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return q},set:function($){q=$},enumerable:!0,configurable:!0});var w=x;Object.defineProperty(e,"FileReadStream",{get:function(){return w},set:function($){w=$},enumerable:!0,configurable:!0});var S=q;Object.defineProperty(e,"FileWriteStream",{get:function(){return S},set:function($){S=$},enumerable:!0,configurable:!0});function x($,v){return this instanceof x?(p.apply(this,arguments),this):x.apply(Object.create(x.prototype),arguments)}function C(){var $=this;E($.path,$.flags,$.mode,function(v,b){v?($.autoClose&&$.destroy(),$.emit("error",v)):($.fd=b,$.emit("open",b),$.read())})}function q($,v){return this instanceof q?(y.apply(this,arguments),this):q.apply(Object.create(q.prototype),arguments)}function H(){var $=this;E($.path,$.flags,$.mode,function(v,b){v?($.destroy(),$.emit("error",v)):($.fd=b,$.emit("open",b))})}function de($,v){return new e.ReadStream($,v)}function P($,v){return new e.WriteStream($,v)}var X=e.open;e.open=E;function E($,v,b,O){return typeof b=="function"&&(O=b,b=null),I($,v,b,O);function I(M,R,T,j,W){return X(M,R,T,function(F,ie){F&&(F.code==="EMFILE"||F.code==="ENFILE")?bn([I,[M,R,T,j],F,W||Date.now(),Date.now()]):typeof j=="function"&&j.apply(this,arguments)})}}return e}function bn(e){Ur("ENQUEUE",e[0].name,e[1]),he[Re].push(e),Gl()}var Vs;function Ch(){for(var e=Date.now(),t=0;t<he[Re].length;++t)he[Re][t].length>2&&(he[Re][t][3]=e,he[Re][t][4]=e);Gl()}function Gl(){if(clearTimeout(Vs),Vs=void 0,he[Re].length!==0){var e=he[Re].shift(),t=e[0],r=e[1],n=e[2],i=e[3],s=e[4];if(i===void 0)Ur("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){Ur("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,l=Math.max(s-i,1),c=Math.min(l*1.2,100);a>=c?(Ur("RETRY",t.name,r),t.apply(null,r.concat([i]))):he[Re].push(e)}Vs===void 0&&(Vs=setTimeout(Gl,0))}}});var We=g(Gt=>{"use strict";var Th=Z().fromCallback,Be=ge(),vA=["access","appendFile","chmod","chown","close","copyFile","cp","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","glob","lchmod","lchown","lutimes","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","statfs","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof Be[e]=="function");Object.assign(Gt,Be);vA.forEach(e=>{Gt[e]=Th(Be[e])});Gt.exists=function(e,t){return typeof t=="function"?Be.exists(e,t):new Promise(r=>Be.exists(e,r))};Gt.read=function(e,t,r,n,i,s){return typeof s=="function"?Be.read(e,t,r,n,i,s):new Promise((o,a)=>{Be.read(e,t,r,n,i,(l,c,u)=>{if(l)return a(l);o({bytesRead:c,buffer:u})})})};Gt.write=function(e,t,...r){return typeof r[r.length-1]=="function"?Be.write(e,t,...r):new Promise((n,i)=>{Be.write(e,t,...r,(s,o,a)=>{if(s)return i(s);n({bytesWritten:o,buffer:a})})})};Gt.readv=function(e,t,...r){return typeof r[r.length-1]=="function"?Be.readv(e,t,...r):new Promise((n,i)=>{Be.readv(e,t,...r,(s,o,a)=>{if(s)return i(s);n({bytesRead:o,buffers:a})})})};Gt.writev=function(e,t,...r){return typeof r[r.length-1]=="function"?Be.writev(e,t,...r):new Promise((n,i)=>{Be.writev(e,t,...r,(s,o,a)=>{if(s)return i(s);n({bytesWritten:o,buffers:a})})})};typeof Be.realpath.native=="function"?Gt.realpath.native=Th(Be.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var Ph=g((UB,Oh)=>{"use strict";var EA=require("path");Oh.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(EA.parse(t).root,""))){let n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}}});var Ih=g(($B,Hl)=>{"use strict";var Nh=We(),{checkPath:Dh}=Ph(),Rh=e=>{let t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};Hl.exports.makeDir=async(e,t)=>(Dh(e),Nh.mkdir(e,{mode:Rh(t),recursive:!0}));Hl.exports.makeDirSync=(e,t)=>(Dh(e),Nh.mkdirSync(e,{mode:Rh(t),recursive:!0}))});var vt=g((BB,Fh)=>{"use strict";var SA=Z().fromPromise,{makeDir:bA,makeDirSync:Vl}=Ih(),zl=SA(bA);Fh.exports={mkdirs:zl,mkdirsSync:Vl,mkdirp:zl,mkdirpSync:Vl,ensureDir:zl,ensureDirSync:Vl}});var cr=g((WB,kh)=>{"use strict";var xA=Z().fromPromise,Lh=We();function CA(e){return Lh.access(e).then(()=>!0).catch(()=>!1)}kh.exports={pathExists:xA(CA),pathExistsSync:Lh.existsSync}});var Yl=g((GB,Mh)=>{"use strict";var xn=We(),AA=Z().fromPromise;async function TA(e,t,r){let n=await xn.open(e,"r+"),i=null;try{await xn.futimes(n,t,r)}finally{try{await xn.close(n)}catch(s){i=s}}if(i)throw i}function OA(e,t,r){let n=xn.openSync(e,"r+");return xn.futimesSync(n,t,r),xn.closeSync(n)}Mh.exports={utimesMillis:AA(TA),utimesMillisSync:OA}});var $r=g((jB,Bh)=>{"use strict";var Cn=We(),xe=require("path"),qh=Z().fromPromise;function PA(e,t,r){let n=r.dereference?i=>Cn.stat(i,{bigint:!0}):i=>Cn.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,s])=>({srcStat:i,destStat:s}))}function NA(e,t,r){let n,i=r.dereference?o=>Cn.statSync(o,{bigint:!0}):o=>Cn.lstatSync(o,{bigint:!0}),s=i(e);try{n=i(t)}catch(o){if(o.code==="ENOENT")return{srcStat:s,destStat:null};throw o}return{srcStat:s,destStat:n}}async function DA(e,t,r,n){let{srcStat:i,destStat:s}=await PA(e,t,n);if(s){if(bi(i,s)){let o=xe.basename(e),a=xe.basename(t);if(r==="move"&&o!==a&&o.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Kl(e,t))throw new Error(Ys(e,t,r));return{srcStat:i,destStat:s}}function RA(e,t,r,n){let{srcStat:i,destStat:s}=NA(e,t,n);if(s){if(bi(i,s)){let o=xe.basename(e),a=xe.basename(t);if(r==="move"&&o!==a&&o.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Kl(e,t))throw new Error(Ys(e,t,r));return{srcStat:i,destStat:s}}async function Uh(e,t,r,n){let i=xe.resolve(xe.dirname(e)),s=xe.resolve(xe.dirname(r));if(s===i||s===xe.parse(s).root)return;let o;try{o=await Cn.stat(s,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(bi(t,o))throw new Error(Ys(e,r,n));return Uh(e,t,s,n)}function $h(e,t,r,n){let i=xe.resolve(xe.dirname(e)),s=xe.resolve(xe.dirname(r));if(s===i||s===xe.parse(s).root)return;let o;try{o=Cn.statSync(s,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(bi(t,o))throw new Error(Ys(e,r,n));return $h(e,t,s,n)}function bi(e,t){return t.ino!==void 0&&t.dev!==void 0&&t.ino===e.ino&&t.dev===e.dev}function Kl(e,t){let r=xe.resolve(e).split(xe.sep).filter(i=>i),n=xe.resolve(t).split(xe.sep).filter(i=>i);return r.every((i,s)=>n[s]===i)}function Ys(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}Bh.exports={checkPaths:qh(DA),checkPathsSync:RA,checkParentPaths:qh(Uh),checkParentPathsSync:$h,isSrcSubdir:Kl,areIdentical:bi}});var Gh=g((HB,Wh)=>{"use strict";async function IA(e,t){let r=[];for await(let n of e)r.push(t(n).then(()=>null,i=>i??new Error("unknown error")));await Promise.all(r.map(n=>n.then(i=>{if(i!==null)throw i})))}Wh.exports={asyncIteratorConcurrentProcess:IA}});var Yh=g((VB,zh)=>{"use strict";var Le=We(),xi=require("path"),{mkdirs:FA}=vt(),{pathExists:LA}=cr(),{utimesMillis:kA}=Yl(),Ci=$r(),{asyncIteratorConcurrentProcess:MA}=Gh();async function qA(e,t,r={}){typeof r=="function"&&(r={filter:r}),r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");let{srcStat:n,destStat:i}=await Ci.checkPaths(e,t,"copy",r);if(await Ci.checkParentPaths(e,n,t,"copy"),!await Hh(e,t,r))return;let o=xi.dirname(t);await LA(o)||await FA(o),await Vh(i,e,t,r)}async function Hh(e,t,r){return r.filter?r.filter(e,t):!0}async function Vh(e,t,r,n){let s=await(n.dereference?Le.stat:Le.lstat)(t);if(s.isDirectory())return WA(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return UA(s,e,t,r,n);if(s.isSymbolicLink())return GA(e,t,r,n);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}async function UA(e,t,r,n,i){if(!t)return jh(e,r,n,i);if(i.overwrite)return await Le.unlink(n),jh(e,r,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}async function jh(e,t,r,n){if(await Le.copyFile(t,r),n.preserveTimestamps){$A(e.mode)&&await BA(r,e.mode);let i=await Le.stat(t);await kA(r,i.atime,i.mtime)}return Le.chmod(r,e.mode)}function $A(e){return(e&128)===0}function BA(e,t){return Le.chmod(e,t|128)}async function WA(e,t,r,n,i){t||await Le.mkdir(n),await MA(await Le.opendir(r),async s=>{let o=xi.join(r,s.name),a=xi.join(n,s.name);if(await Hh(o,a,i)){let{destStat:c}=await Ci.checkPaths(o,a,"copy",i);await Vh(c,o,a,i)}}),t||await Le.chmod(n,e.mode)}async function GA(e,t,r,n){let i=await Le.readlink(t);if(n.dereference&&(i=xi.resolve(process.cwd(),i)),!e)return Le.symlink(i,r);let s=null;try{s=await Le.readlink(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Le.symlink(i,r);throw o}if(n.dereference&&(s=xi.resolve(process.cwd(),s)),i!==s){if(Ci.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(Ci.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`)}return await Le.unlink(r),Le.symlink(i,r)}zh.exports=qA});var Zh=g((zB,Qh)=>{"use strict";var Ge=ge(),Ai=require("path"),jA=vt().mkdirsSync,HA=Yl().utimesMillisSync,Ti=$r();function VA(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:n,destStat:i}=Ti.checkPathsSync(e,t,"copy",r);if(Ti.checkParentPathsSync(e,n,t,"copy"),r.filter&&!r.filter(e,t))return;let s=Ai.dirname(t);return Ge.existsSync(s)||jA(s),Kh(i,e,t,r)}function Kh(e,t,r,n){let s=(n.dereference?Ge.statSync:Ge.lstatSync)(t);if(s.isDirectory())return ZA(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return zA(s,e,t,r,n);if(s.isSymbolicLink())return rT(e,t,r,n);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function zA(e,t,r,n,i){return t?YA(e,r,n,i):Xh(e,r,n,i)}function YA(e,t,r,n){if(n.overwrite)return Ge.unlinkSync(r),Xh(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function Xh(e,t,r,n){return Ge.copyFileSync(t,r),n.preserveTimestamps&&KA(e.mode,t,r),Xl(r,e.mode)}function KA(e,t,r){return XA(e)&&JA(r,e),QA(t,r)}function XA(e){return(e&128)===0}function JA(e,t){return Xl(e,t|128)}function Xl(e,t){return Ge.chmodSync(e,t)}function QA(e,t){let r=Ge.statSync(e);return HA(t,r.atime,r.mtime)}function ZA(e,t,r,n,i){return t?Jh(r,n,i):eT(e.mode,r,n,i)}function eT(e,t,r,n){return Ge.mkdirSync(r),Jh(t,r,n),Xl(r,e)}function Jh(e,t,r){let n=Ge.opendirSync(e);try{let i;for(;(i=n.readSync())!==null;)tT(i.name,e,t,r)}finally{n.closeSync()}}function tT(e,t,r,n){let i=Ai.join(t,e),s=Ai.join(r,e);if(n.filter&&!n.filter(i,s))return;let{destStat:o}=Ti.checkPathsSync(i,s,"copy",n);return Kh(o,i,s,n)}function rT(e,t,r,n){let i=Ge.readlinkSync(t);if(n.dereference&&(i=Ai.resolve(process.cwd(),i)),e){let s;try{s=Ge.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Ge.symlinkSync(i,r);throw o}if(n.dereference&&(s=Ai.resolve(process.cwd(),s)),i!==s){if(Ti.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(Ti.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`)}return nT(i,r)}else return Ge.symlinkSync(i,r)}function nT(e,t){return Ge.unlinkSync(t),Ge.symlinkSync(e,t)}Qh.exports=VA});var Ks=g((YB,ep)=>{"use strict";var iT=Z().fromPromise;ep.exports={copy:iT(Yh()),copySync:Zh()}});var Oi=g((KB,rp)=>{"use strict";var tp=ge(),sT=Z().fromCallback;function oT(e,t){tp.rm(e,{recursive:!0,force:!0},t)}function aT(e){tp.rmSync(e,{recursive:!0,force:!0})}rp.exports={remove:sT(oT),removeSync:aT}});var cp=g((XB,up)=>{"use strict";var lT=Z().fromPromise,sp=We(),op=require("path"),ap=vt(),lp=Oi(),np=lT(async function(t){let r;try{r=await sp.readdir(t)}catch{return ap.mkdirs(t)}return Promise.all(r.map(n=>lp.remove(op.join(t,n))))});function ip(e){let t;try{t=sp.readdirSync(e)}catch{return ap.mkdirsSync(e)}t.forEach(r=>{r=op.join(e,r),lp.removeSync(r)})}up.exports={emptyDirSync:ip,emptydirSync:ip,emptyDir:np,emptydir:np}});var pp=g((JB,hp)=>{"use strict";var uT=Z().fromPromise,fp=require("path"),jt=We(),dp=vt();async function cT(e){let t;try{t=await jt.stat(e)}catch{}if(t&&t.isFile())return;let r=fp.dirname(e),n=null;try{n=await jt.stat(r)}catch(i){if(i.code==="ENOENT"){await dp.mkdirs(r),await jt.writeFile(e,"");return}else throw i}n.isDirectory()?await jt.writeFile(e,""):await jt.readdir(r)}function fT(e){let t;try{t=jt.statSync(e)}catch{}if(t&&t.isFile())return;let r=fp.dirname(e);try{jt.statSync(r).isDirectory()||jt.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")dp.mkdirsSync(r);else throw n}jt.writeFileSync(e,"")}hp.exports={createFile:uT(cT),createFileSync:fT}});var _p=g((QB,wp)=>{"use strict";var dT=Z().fromPromise,mp=require("path"),fr=We(),gp=vt(),{pathExists:hT}=cr(),{areIdentical:yp}=$r();async function pT(e,t){let r;try{r=await fr.lstat(t)}catch{}let n;try{n=await fr.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}if(r&&yp(n,r))return;let i=mp.dirname(t);await hT(i)||await gp.mkdirs(i),await fr.link(e,t)}function mT(e,t){let r;try{r=fr.lstatSync(t)}catch{}try{let s=fr.lstatSync(e);if(r&&yp(s,r))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}let n=mp.dirname(t);return fr.existsSync(n)||gp.mkdirsSync(n),fr.linkSync(e,t)}wp.exports={createLink:dT(pT),createLinkSync:mT}});var Ep=g((ZB,vp)=>{"use strict";var dr=require("path"),Pi=We(),{pathExists:gT}=cr(),yT=Z().fromPromise;async function wT(e,t){if(dr.isAbsolute(e)){try{await Pi.lstat(e)}catch(s){throw s.message=s.message.replace("lstat","ensureSymlink"),s}return{toCwd:e,toDst:e}}let r=dr.dirname(t),n=dr.join(r,e);if(await gT(n))return{toCwd:n,toDst:e};try{await Pi.lstat(e)}catch(s){throw s.message=s.message.replace("lstat","ensureSymlink"),s}return{toCwd:e,toDst:dr.relative(r,e)}}function _T(e,t){if(dr.isAbsolute(e)){if(!Pi.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}let r=dr.dirname(t),n=dr.join(r,e);if(Pi.existsSync(n))return{toCwd:n,toDst:e};if(!Pi.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:dr.relative(r,e)}}vp.exports={symlinkPaths:yT(wT),symlinkPathsSync:_T}});var xp=g((eW,bp)=>{"use strict";var Sp=We(),vT=Z().fromPromise;async function ET(e,t){if(t)return t;let r;try{r=await Sp.lstat(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}function ST(e,t){if(t)return t;let r;try{r=Sp.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}bp.exports={symlinkType:vT(ET),symlinkTypeSync:ST}});var Op=g((tW,Tp)=>{"use strict";var bT=Z().fromPromise,Cp=require("path"),It=We(),{mkdirs:xT,mkdirsSync:CT}=vt(),{symlinkPaths:AT,symlinkPathsSync:TT}=Ep(),{symlinkType:OT,symlinkTypeSync:PT}=xp(),{pathExists:NT}=cr(),{areIdentical:Ap}=$r();async function DT(e,t,r){let n;try{n=await It.lstat(t)}catch{}if(n&&n.isSymbolicLink()){let[a,l]=await Promise.all([It.stat(e),It.stat(t)]);if(Ap(a,l))return}let i=await AT(e,t);e=i.toDst;let s=await OT(i.toCwd,r),o=Cp.dirname(t);return await NT(o)||await xT(o),It.symlink(e,t,s)}function RT(e,t,r){let n;try{n=It.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){let a=It.statSync(e),l=It.statSync(t);if(Ap(a,l))return}let i=TT(e,t);e=i.toDst,r=PT(i.toCwd,r);let s=Cp.dirname(t);return It.existsSync(s)||CT(s),It.symlinkSync(e,t,r)}Tp.exports={createSymlink:bT(DT),createSymlinkSync:RT}});var kp=g((rW,Lp)=>{"use strict";var{createFile:Pp,createFileSync:Np}=pp(),{createLink:Dp,createLinkSync:Rp}=_p(),{createSymlink:Ip,createSymlinkSync:Fp}=Op();Lp.exports={createFile:Pp,createFileSync:Np,ensureFile:Pp,ensureFileSync:Np,createLink:Dp,createLinkSync:Rp,ensureLink:Dp,ensureLinkSync:Rp,createSymlink:Ip,createSymlinkSync:Fp,ensureSymlink:Ip,ensureSymlinkSync:Fp}});var Xs=g((nW,Mp)=>{function IT(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:i}={}){let s=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+s}function FT(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}Mp.exports={stringify:IT,stripBom:FT}});var Bp=g((iW,$p)=>{var An;try{An=ge()}catch{An=require("fs")}var Js=Z(),{stringify:qp,stripBom:Up}=Xs();async function LT(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||An,n="throws"in t?t.throws:!0,i=await Js.fromCallback(r.readFile)(e,t);i=Up(i);let s;try{s=JSON.parse(i,t?t.reviver:null)}catch(o){if(n)throw o.message=`${e}: ${o.message}`,o;return null}return s}var kT=Js.fromPromise(LT);function MT(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||An,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=Up(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message=`${e}: ${i.message}`,i;return null}}async function qT(e,t,r={}){let n=r.fs||An,i=qp(t,r);await Js.fromCallback(n.writeFile)(e,i,r)}var UT=Js.fromPromise(qT);function $T(e,t,r={}){let n=r.fs||An,i=qp(t,r);return n.writeFileSync(e,i,r)}var BT={readFile:kT,readFileSync:MT,writeFile:UT,writeFileSync:$T};$p.exports=BT});var Gp=g((sW,Wp)=>{"use strict";var Qs=Bp();Wp.exports={readJson:Qs.readFile,readJsonSync:Qs.readFileSync,writeJson:Qs.writeFile,writeJsonSync:Qs.writeFileSync}});var Zs=g((oW,Vp)=>{"use strict";var WT=Z().fromPromise,Jl=We(),jp=require("path"),Hp=vt(),GT=cr().pathExists;async function jT(e,t,r="utf-8"){let n=jp.dirname(e);return await GT(n)||await Hp.mkdirs(n),Jl.writeFile(e,t,r)}function HT(e,...t){let r=jp.dirname(e);Jl.existsSync(r)||Hp.mkdirsSync(r),Jl.writeFileSync(e,...t)}Vp.exports={outputFile:WT(jT),outputFileSync:HT}});var Yp=g((aW,zp)=>{"use strict";var{stringify:VT}=Xs(),{outputFile:zT}=Zs();async function YT(e,t,r={}){let n=VT(t,r);await zT(e,n,r)}zp.exports=YT});var Xp=g((lW,Kp)=>{"use strict";var{stringify:KT}=Xs(),{outputFileSync:XT}=Zs();function JT(e,t,r){let n=KT(t,r);XT(e,n,r)}Kp.exports=JT});var Qp=g((uW,Jp)=>{"use strict";var QT=Z().fromPromise,je=Gp();je.outputJson=QT(Yp());je.outputJsonSync=Xp();je.outputJSON=je.outputJson;je.outputJSONSync=je.outputJsonSync;je.writeJSON=je.writeJson;je.writeJSONSync=je.writeJsonSync;je.readJSON=je.readJson;je.readJSONSync=je.readJsonSync;Jp.exports=je});var nm=g((cW,rm)=>{"use strict";var ZT=We(),Zp=require("path"),{copy:eO}=Ks(),{remove:tm}=Oi(),{mkdirp:tO}=vt(),{pathExists:rO}=cr(),em=$r();async function nO(e,t,r={}){let n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=await em.checkPaths(e,t,"move",r);await em.checkParentPaths(e,i,t,"move");let o=Zp.dirname(t);return Zp.parse(o).root!==o&&await tO(o),iO(e,t,n,s)}async function iO(e,t,r,n){if(!n){if(r)await tm(t);else if(await rO(t))throw new Error("dest already exists.")}try{await ZT.rename(e,t)}catch(i){if(i.code!=="EXDEV")throw i;await sO(e,t,r)}}async function sO(e,t,r){return await eO(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),tm(e)}rm.exports=nO});var lm=g((fW,am)=>{"use strict";var sm=ge(),Zl=require("path"),oO=Ks().copySync,om=Oi().removeSync,aO=vt().mkdirpSync,im=$r();function lO(e,t,r){r=r||{};let n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=im.checkPathsSync(e,t,"move",r);return im.checkParentPathsSync(e,i,t,"move"),uO(t)||aO(Zl.dirname(t)),cO(e,t,n,s)}function uO(e){let t=Zl.dirname(e);return Zl.parse(t).root===t}function cO(e,t,r,n){if(n)return Ql(e,t,r);if(r)return om(t),Ql(e,t,r);if(sm.existsSync(t))throw new Error("dest already exists.");return Ql(e,t,r)}function Ql(e,t,r){try{sm.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return fO(e,t,r)}}function fO(e,t,r){return oO(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),om(e)}am.exports=lO});var cm=g((dW,um)=>{"use strict";var dO=Z().fromPromise;um.exports={move:dO(nm()),moveSync:lm()}});var hr=g((hW,fm)=>{"use strict";fm.exports={...We(),...Ks(),...cp(),...kp(),...Qp(),...vt(),...cm(),...Zs(),...cr(),...Oi()}});var bt,On=ye(()=>{"use strict";bt=process.platform==="win32"});var Lm=g((Fm,fo)=>{(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof fo=="object"&&fo.exports?fo.exports=t():e.moo=t()})(Fm,function(){"use strict";var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=typeof new RegExp().sticky=="boolean";function n(v){return v&&t.call(v)==="[object RegExp]"}function i(v){return v&&typeof v=="object"&&!n(v)&&!Array.isArray(v)}function s(v){return v.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(v){var b=new RegExp("|"+v);return b.exec("").length-1}function a(v){return"("+v+")"}function l(v){if(!v.length)return"(?!)";var b=v.map(function(O){return"(?:"+O+")"}).join("|");return"(?:"+b+")"}function c(v){if(typeof v=="string")return"(?:"+s(v)+")";if(n(v)){if(v.ignoreCase)throw new Error("RegExp /i flag not allowed");if(v.global)throw new Error("RegExp /g flag is implied");if(v.sticky)throw new Error("RegExp /y flag is implied");if(v.multiline)throw new Error("RegExp /m flag is implied");return v.source}else throw new Error("Not a pattern: "+v)}function u(v,b){return v.length>b?v:Array(b-v.length+1).join(" ")+v}function f(v,b){for(var O=v.length,I=0;;){var M=v.lastIndexOf(`
`,O-1);if(M===-1||(I++,O=M,I===b)||O===0)break}var R=I<b?0:O+1;return v.substring(R).split(`
`)}function h(v){for(var b=Object.getOwnPropertyNames(v),O=[],I=0;I<b.length;I++){var M=b[I],R=v[M],T=[].concat(R);if(M==="include"){for(var j=0;j<T.length;j++)O.push({include:T[j]});continue}var W=[];T.forEach(function(F){i(F)?(W.length&&O.push(y(M,W)),O.push(y(M,F)),W=[]):W.push(F)}),W.length&&O.push(y(M,W))}return O}function p(v){for(var b=[],O=0;O<v.length;O++){var I=v[O];if(I.include){for(var M=[].concat(I.include),R=0;R<M.length;R++)b.push({include:M[R]});continue}if(!I.type)throw new Error("Rule has no type: "+JSON.stringify(I));b.push(y(I.type,I))}return b}function y(v,b){if(i(b)||(b={match:b}),b.include)throw new Error("Matching rules cannot also include states");var O={defaultType:v,lineBreaks:!!b.error||!!b.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var I in b)e.call(b,I)&&(O[I]=b[I]);if(typeof O.type=="string"&&v!==O.type)throw new Error("Type transform cannot be a string (type '"+O.type+"' for token '"+v+"')");var M=O.match;return O.match=Array.isArray(M)?M:M?[M]:[],O.match.sort(function(R,T){return n(R)&&n(T)?0:n(T)?-1:n(R)?1:T.length-R.length}),O}function w(v){return Array.isArray(v)?p(v):h(v)}var S=y("error",{lineBreaks:!0,shouldThrow:!0});function x(v,b){for(var O=null,I=Object.create(null),M=!0,R=null,T=[],j=[],W=0;W<v.length;W++)v[W].fallback&&(M=!1);for(var W=0;W<v.length;W++){var F=v[W];if(F.include)throw new Error("Inheritance is not allowed in stateless lexers");if(F.error||F.fallback){if(O)throw!F.fallback==!O.fallback?new Error("Multiple "+(F.fallback?"fallback":"error")+" rules not allowed (for token '"+F.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+F.defaultType+"')");O=F}var ie=F.match.slice();if(M)for(;ie.length&&typeof ie[0]=="string"&&ie[0].length===1;){var wt=ie.shift();I[wt.charCodeAt(0)]=F}if(F.pop||F.push||F.next){if(!b)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+F.defaultType+"')");if(F.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+F.defaultType+"')")}if(ie.length!==0){M=!1,T.push(F);for(var Ut=0;Ut<ie.length;Ut++){var Nt=ie[Ut];if(n(Nt)){if(R===null)R=Nt.unicode;else if(R!==Nt.unicode&&F.fallback===!1)throw new Error("If one rule is /u then all must be")}}var $t=l(ie.map(c)),st=new RegExp($t);if(st.test(""))throw new Error("RegExp matches empty string: "+st);var m=o($t);if(m>0)throw new Error("RegExp has capture groups: "+st+`
Use (?: \u2026 ) instead`);if(!F.lineBreaks&&st.test(`
`))throw new Error("Rule should declare lineBreaks: "+st);j.push(a($t))}}var d=O&&O.fallback,A=r&&!d?"ym":"gm",_=r||d?"":"|";R===!0&&(A+="u");var Q=new RegExp(l(j)+_,A);return{regexp:Q,groups:T,fast:I,error:O||S}}function C(v){var b=x(w(v));return new P({start:b},"start")}function q(v,b,O){var I=v&&(v.push||v.next);if(I&&!O[I])throw new Error("Missing state '"+I+"' (in token '"+v.defaultType+"' of state '"+b+"')");if(v&&v.pop&&+v.pop!=1)throw new Error("pop must be 1 (in token '"+v.defaultType+"' of state '"+b+"')")}function H(v,b){var O=v.$all?w(v.$all):[];delete v.$all;var I=Object.getOwnPropertyNames(v);b||(b=I[0]);for(var M=Object.create(null),R=0;R<I.length;R++){var T=I[R];M[T]=w(v[T]).concat(O)}for(var R=0;R<I.length;R++)for(var T=I[R],j=M[T],W=Object.create(null),F=0;F<j.length;F++){var ie=j[F];if(ie.include){var wt=[F,1];if(ie.include!==T&&!W[ie.include]){W[ie.include]=!0;var Ut=M[ie.include];if(!Ut)throw new Error("Cannot include nonexistent state '"+ie.include+"' (in state '"+T+"')");for(var Nt=0;Nt<Ut.length;Nt++){var $t=Ut[Nt];j.indexOf($t)===-1&&wt.push($t)}}j.splice.apply(j,wt),F--}}for(var st=Object.create(null),R=0;R<I.length;R++){var T=I[R];st[T]=x(M[T],!0)}for(var R=0;R<I.length;R++){for(var m=I[R],d=st[m],A=d.groups,F=0;F<A.length;F++)q(A[F],m,st);for(var _=Object.getOwnPropertyNames(d.fast),F=0;F<_.length;F++)q(d.fast[_[F]],m,st)}return new P(st,b)}function de(v){for(var b=typeof Map<"u",O=b?new Map:Object.create(null),I=Object.getOwnPropertyNames(v),M=0;M<I.length;M++){var R=I[M],T=v[R],j=Array.isArray(T)?T:[T];j.forEach(function(W){if(typeof W!="string")throw new Error("keyword must be string (in keyword '"+R+"')");b?O.set(W,R):O[W]=R})}return function(W){return b?O.get(W):O[W]}}var P=function(v,b){this.startState=b,this.states=v,this.buffer="",this.stack=[],this.reset()};P.prototype.reset=function(v,b){return this.buffer=v||"",this.index=0,this.line=b?b.line:1,this.col=b?b.col:1,this.queuedToken=b?b.queuedToken:null,this.queuedText=b?b.queuedText:"",this.queuedThrow=b?b.queuedThrow:null,this.setState(b?b.state:this.startState),this.stack=b&&b.stack?b.stack.slice():[],this},P.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},P.prototype.setState=function(v){if(!(!v||this.state===v)){this.state=v;var b=this.states[v];this.groups=b.groups,this.error=b.error,this.re=b.regexp,this.fast=b.fast}},P.prototype.popState=function(){this.setState(this.stack.pop())},P.prototype.pushState=function(v){this.stack.push(this.state),this.setState(v)};var X=r?function(v,b){return v.exec(b)}:function(v,b){var O=v.exec(b);return O[0].length===0?null:O};P.prototype._getGroup=function(v){for(var b=this.groups.length,O=0;O<b;O++)if(v[O+1]!==void 0)return this.groups[O];throw new Error("Cannot find token type for matched text")};function E(){return this.value}if(P.prototype.next=function(){var v=this.index;if(this.queuedGroup){var b=this._token(this.queuedGroup,this.queuedText,v);return this.queuedGroup=null,this.queuedText="",b}var O=this.buffer;if(v!==O.length){var T=this.fast[O.charCodeAt(v)];if(T)return this._token(T,O.charAt(v),v);var I=this.re;I.lastIndex=v;var M=X(I,O),R=this.error;if(M==null)return this._token(R,O.slice(v,O.length),v);var T=this._getGroup(M),j=M[0];return R.fallback&&M.index!==v?(this.queuedGroup=T,this.queuedText=j,this._token(R,O.slice(v,M.index),v)):this._token(T,j,v)}},P.prototype._token=function(v,b,O){var I=0;if(v.lineBreaks){var M=/\n/g,R=1;if(b===`
`)I=1;else for(;M.exec(b);)I++,R=M.lastIndex}var T={type:typeof v.type=="function"&&v.type(b)||v.defaultType,value:typeof v.value=="function"?v.value(b):b,text:b,toString:E,offset:O,lineBreaks:I,line:this.line,col:this.col},j=b.length;if(this.index+=j,this.line+=I,I!==0?this.col=j-R+1:this.col+=j,v.shouldThrow){var W=new Error(this.formatError(T,"invalid syntax"));throw W}return v.pop?this.popState():v.push?this.pushState(v.push):v.next&&this.setState(v.next),T},typeof Symbol<"u"&&Symbol.iterator){var $=function(v){this.lexer=v};$.prototype.next=function(){var v=this.lexer.next();return{value:v,done:!v}},$.prototype[Symbol.iterator]=function(){return this},P.prototype[Symbol.iterator]=function(){return new $(this)}}return P.prototype.formatError=function(v,b){if(v==null)var O=this.buffer.slice(this.index),v={text:O,offset:this.index,lineBreaks:O.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var I=2,M=Math.max(v.line-I,1),R=v.line+I,T=String(R).length,j=f(this.buffer,this.line-v.line+I+1).slice(0,5),W=[];W.push(b+" at line "+v.line+" col "+v.col+":"),W.push("");for(var F=0;F<j.length;F++){var ie=j[F],wt=M+F;W.push(u(String(wt),T)+"  "+ie),wt===v.line&&W.push(u("",T+v.col+1)+"^")}return W.join(`
`)},P.prototype.clone=function(){return new P(this.states,this.state)},P.prototype.has=function(v){return!0},{compile:C,states:H,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:de}})});var km=g(zt=>{"use strict";var GO=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zt,"__esModule",{value:!0});zt.lexer=zt.states=void 0;var jO=GO(Lm());zt.states={body:{doubleapos:{match:"''",value:()=>"'"},quoted:{lineBreaks:!0,match:/'[{}#](?:[^']|'')*'(?!')/u,value:e=>e.slice(1,-1).replace(/''/g,"'")},argument:{lineBreaks:!0,match:/\{\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,push:"arg",value:e=>e.substring(1).trim()},octothorpe:"#",end:{match:"}",pop:1},content:{lineBreaks:!0,match:/[^][^{}#']*/u}},arg:{select:{lineBreaks:!0,match:/,\s*(?:plural|select|selectordinal)\s*,\s*/u,next:"select",value:e=>e.split(",")[1].trim()},"func-args":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*,/u,next:"body",value:e=>e.split(",")[1].trim()},"func-simple":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,value:e=>e.substring(1).trim()},end:{match:"}",pop:1}},select:{offset:{lineBreaks:!0,match:/\s*offset\s*:\s*\d+\s*/u,value:e=>e.split(":")[1].trim()},case:{lineBreaks:!0,match:/\s*(?:=\d+|[^\p{Pat_Syn}\p{Pat_WS}]+)\s*\{/u,push:"body",value:e=>e.substring(0,e.indexOf("{")).trim()},end:{match:/\s*\}/u,pop:1}}};zt.lexer=jO.default.states(zt.states)});var Um=g(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.ParseError=void 0;Ri.parse=zO;var qm=km(),ho=e=>({offset:e.offset,line:e.line,col:e.col,text:e.text,lineBreaks:e.lineBreaks}),pu=e=>e==="plural"||e==="select"||e==="selectordinal";function HO(e,t){let r="",n="";for(let s of t){let o=s.ctx.text;switch(n+=o,s.type){case"content":r+=s.value;break;case"argument":case"function":case"octothorpe":r+=o;break;default:throw new _e(e,`Unsupported part in strict mode function arg style: ${o}`)}}return[{type:"content",value:r.trim(),ctx:Object.assign({},t[0].ctx,{text:n})}]}var VO=["number","date","time","spellout","ordinal","duration"],Mm=["zero","one","two","few","many","other"],_e=class extends Error{constructor(t,r){super(qm.lexer.formatError(t,r))}};Ri.ParseError=_e;var mu=class{constructor(t,r){var n,i,s,o;this.lexer=qm.lexer.reset(t),this.cardinalKeys=(n=r?.cardinal)!==null&&n!==void 0?n:Mm,this.ordinalKeys=(i=r?.ordinal)!==null&&i!==void 0?i:Mm,this.strict=(s=r?.strict)!==null&&s!==void 0?s:!1,this.strictPluralKeys=(o=r?.strictPluralKeys)!==null&&o!==void 0?o:!0}parse(){return this.parseBody(!1,!0)}checkSelectKey(t,r,n){if(n[0]==="="){if(r==="select")throw new _e(t,`The case ${n} is not valid with select`)}else if(r!=="select"){let i=r==="plural"?this.cardinalKeys:this.ordinalKeys;if(this.strictPluralKeys&&i.length>0&&!i.includes(n)){let s=`The ${r} case ${n} is not valid in this locale`;throw new _e(t,s)}}}parseSelect({value:t},r,n,i){let s={type:i,arg:t,cases:[],ctx:n};i==="plural"||i==="selectordinal"?r=!0:this.strict&&(r=!1);for(let o of this.lexer)switch(o.type){case"offset":if(i==="select")throw new _e(o,"Unexpected plural offset for select");if(s.cases.length>0)throw new _e(o,"Plural offset must be set before cases");s.pluralOffset=Number(o.value),n.text+=o.text,n.lineBreaks+=o.lineBreaks;break;case"case":{this.checkSelectKey(o,i,o.value),s.cases.push({key:o.value,tokens:this.parseBody(r),ctx:ho(o)});break}case"end":return s;default:throw new _e(o,`Unexpected lexer token: ${o.type}`)}throw new _e(null,"Unexpected message end")}parseArgToken(t,r){let n=ho(t),i=this.lexer.next();if(!i)throw new _e(null,"Unexpected message end");if(n.text+=i.text,n.lineBreaks+=i.lineBreaks,this.strict&&(i.type==="func-simple"||i.type==="func-args")&&!VO.includes(i.value)){let s=`Invalid strict mode function arg type: ${i.value}`;throw new _e(t,s)}switch(i.type){case"end":return{type:"argument",arg:t.value,ctx:n};case"func-simple":{let s=this.lexer.next();if(!s)throw new _e(null,"Unexpected message end");if(s.type!=="end")throw new _e(s,`Unexpected lexer token: ${s.type}`);if(n.text+=s.text,pu(i.value.toLowerCase()))throw new _e(i,`Invalid type identifier: ${i.value}`);return{type:"function",arg:t.value,key:i.value,ctx:n}}case"func-args":{if(pu(i.value.toLowerCase())){let o=`Invalid type identifier: ${i.value}`;throw new _e(i,o)}let s=this.parseBody(this.strict?!1:r);return this.strict&&s.length>0&&(s=HO(t,s)),{type:"function",arg:t.value,key:i.value,param:s,ctx:n}}case"select":if(pu(i.value))return this.parseSelect(t,r,n,i.value);throw new _e(i,`Unexpected select type ${i.value}`);default:throw new _e(i,`Unexpected lexer token: ${i.type}`)}}parseBody(t,r){let n=[],i=null;for(let s of this.lexer)if(s.type==="argument")i&&(i=null),n.push(this.parseArgToken(s,t));else if(s.type==="octothorpe"&&t)i&&(i=null),n.push({type:"octothorpe",ctx:ho(s)});else{if(s.type==="end"&&!r)return n;{let o=s.value;if(!t&&s.type==="quoted"&&o[0]==="#"){if(o.includes("{")){let a=`Unsupported escape pattern: ${o}`;throw new _e(s,a)}o=s.text}i?(i.value+=o,i.ctx.text+=s.text,i.ctx.lineBreaks+=s.lineBreaks):(i={type:"content",value:o,ctx:ho(s)},n.push(i))}}if(r)return n;throw new _e(null,"Unexpected message end")}};function zO(e,t={}){return new mu(e,t).parse()}});var ng=g(($W,rg)=>{var Nn;try{Nn=ge()}catch{Nn=require("fs")}function vP(e,t,r){r==null&&(r=t,t={}),typeof t=="string"&&(t={encoding:t}),t=t||{};var n=t.fs||Nn,i=!0;"throws"in t&&(i=t.throws),n.readFile(e,t,function(s,o){if(s)return r(s);o=tg(o);var a;try{a=JSON.parse(o,t?t.reviver:null)}catch(l){return i?(l.message=e+": "+l.message,r(l)):r(null,null)}r(null,a)})}function EP(e,t){t=t||{},typeof t=="string"&&(t={encoding:t});var r=t.fs||Nn,n=!0;"throws"in t&&(n=t.throws);try{var i=r.readFileSync(e,t);return i=tg(i),JSON.parse(i,t.reviver)}catch(s){if(n)throw s.message=e+": "+s.message,s;return null}}function eg(e,t){var r,n=`
`;typeof t=="object"&&t!==null&&(t.spaces&&(r=t.spaces),t.EOL&&(n=t.EOL));var i=JSON.stringify(e,t?t.replacer:null,r);return i.replace(/\n/g,n)+n}function SP(e,t,r,n){n==null&&(n=r,r={}),r=r||{};var i=r.fs||Nn,s="";try{s=eg(t,r)}catch(o){n&&n(o,null);return}i.writeFile(e,s,r,n)}function bP(e,t,r){r=r||{};var n=r.fs||Nn,i=eg(t,r);return n.writeFileSync(e,i,r)}function tg(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e=e.replace(/^\uFEFF/,""),e}var xP={readFile:vP,readFileSync:EP,writeFile:SP,writeFileSync:bP};rg.exports=xP});var ag=g((BW,og)=>{var Fi=require("path"),ig=require("fs"),sg=parseInt("0777",8);og.exports=Dn.mkdirp=Dn.mkdirP=Dn;function Dn(e,t,r,n){typeof t=="function"?(r=t,t={}):(!t||typeof t!="object")&&(t={mode:t});var i=t.mode,s=t.fs||ig;i===void 0&&(i=sg),n||(n=null);var o=r||function(){};e=Fi.resolve(e),s.mkdir(e,i,function(a){if(!a)return n=n||e,o(null,n);switch(a.code){case"ENOENT":if(Fi.dirname(e)===e)return o(a);Dn(Fi.dirname(e),t,function(l,c){l?o(l,c):Dn(e,t,o,c)});break;default:s.stat(e,function(l,c){l||!c.isDirectory()?o(a,n):o(null,n)});break}})}Dn.sync=function e(t,r,n){(!r||typeof r!="object")&&(r={mode:r});var i=r.mode,s=r.fs||ig;i===void 0&&(i=sg),n||(n=null),t=Fi.resolve(t);try{s.mkdirSync(t,i),n=n||t}catch(a){switch(a.code){case"ENOENT":n=e(Fi.dirname(t),r,n),e(t,r,n);break;default:var o;try{o=s.statSync(t)}catch{throw a}if(!o.isDirectory())throw a;break}}return n}});var fg=g((WW,cg)=>{"use strict";var lg=require("path"),wo=require("electron"),ug=ng(),CP=ag();cg.exports=function(e){let t=wo.app||wo.remote.app,r=wo.screen||wo.remote.screen,n,i,s,o=100,a=Object.assign({file:"window-state.json",path:t.getPath("userData"),maximize:!0,fullScreen:!0},e),l=lg.join(a.path,a.file);function c(P){return!P.isMaximized()&&!P.isMinimized()&&!P.isFullScreen()}function u(){return n&&Number.isInteger(n.x)&&Number.isInteger(n.y)&&Number.isInteger(n.width)&&n.width>0&&Number.isInteger(n.height)&&n.height>0}function f(){let P=r.getPrimaryDisplay().bounds;n={width:a.defaultWidth||800,height:a.defaultHeight||600,x:0,y:0,displayBounds:P}}function h(P){return n.x>=P.x&&n.y>=P.y&&n.x+n.width<=P.x+P.width&&n.y+n.height<=P.y+P.height}function p(){if(!r.getAllDisplays().some(X=>h(X.bounds)))return f()}function y(){if(!(n&&(u()||n.isMaximized||n.isFullScreen))){n=null;return}u()&&n.displayBounds&&p()}function w(P){if(P=P||i,!!P)try{let X=P.getBounds();c(P)&&(n.x=X.x,n.y=X.y,n.width=X.width,n.height=X.height),n.isMaximized=P.isMaximized(),n.isFullScreen=P.isFullScreen(),n.displayBounds=r.getDisplayMatching(X).bounds}catch{}}function S(P){P&&w(P);try{CP.sync(lg.dirname(l)),ug.writeFileSync(l,n)}catch{}}function x(){clearTimeout(s),s=setTimeout(w,o)}function C(){w()}function q(){de(),S()}function H(P){a.maximize&&n.isMaximized&&P.maximize(),a.fullScreen&&n.isFullScreen&&P.setFullScreen(!0),P.on("resize",x),P.on("move",x),P.on("close",C),P.on("closed",q),i=P}function de(){i&&(i.removeListener("resize",x),i.removeListener("move",x),clearTimeout(s),i.removeListener("close",C),i.removeListener("closed",q),i=null)}try{n=ug.readFileSync(l)}catch{}return y(),n=Object.assign({width:a.defaultWidth||800,height:a.defaultHeight||600},n),{get x(){return n.x},get y(){return n.y},get width(){return n.width},get height(){return n.height},get displayBounds(){return n.displayBounds},get isMaximized(){return n.isMaximized},get isFullScreen(){return n.isFullScreen},saveState:S,unmanage:de,manage:H,resetStateToDefault:f}}});var Ag=g(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.setValueSafe=ue.setValue=ue.createKeySafe=ue.createKey=ue.enumerateKeysSafe=ue.enumerateKeys=ue.enumerateValuesSafe=ue.enumerateValues=ue.HKEY=ue.RegistryValueType=void 0;var mr=process.platform==="win32"?require("../../build/Release/registry.node"):null;function AP(e,t){throw new Error(t)}var Eo;(function(e){e.REG_BINARY="REG_BINARY",e.REG_DWORD="REG_DWORD",e.REG_DWORD_LITTLE_ENDIAN="REG_DWORD_LITTLE_ENDIAN",e.REG_DWORD_BIG_ENDIAN="REG_DWORD_BIG_ENDIAN",e.REG_EXPAND_SZ="REG_EXPAND_SZ",e.REG_LINK="REG_LINK",e.REG_MULTI_SZ="REG_MULTI_SZ",e.REG_NONE="REG_NONE",e.REG_QWORD="REG_QWORD",e.REG_QWORD_LITTLE_ENDIAN="REG_QWORD_LITTLE_ENDIAN",e.REG_SZ="REG_SZ"})(Eo=ue.RegistryValueType||(ue.RegistryValueType={}));var Ct;(function(e){e.HKEY_CLASSES_ROOT="HKEY_CLASSES_ROOT",e.HKEY_CURRENT_CONFIG="HKEY_CURRENT_CONFIG",e.HKEY_DYN_DATA="HKEY_DYN_DATA",e.HKEY_CURRENT_USER_LOCAL_SETTINGS="HKEY_CURRENT_USER_LOCAL_SETTINGS",e.HKEY_CURRENT_USER="HKEY_CURRENT_USER",e.HKEY_LOCAL_MACHINE="HKEY_LOCAL_MACHINE",e.HKEY_PERFORMANCE_DATA="HKEY_PERFORMANCE_DATA",e.HKEY_PERFORMANCE_TEXT="HKEY_PERFORMANCE_TEXT",e.HKEY_PERFORMANCE_NLSTEXT="HKEY_PERFORMANCE_NLSTEXT",e.HKEY_USERS="HKEY_USERS"})(Ct=ue.HKEY||(ue.HKEY={}));function So(e){return e===Ct.HKEY_CLASSES_ROOT?2147483648:e===Ct.HKEY_CURRENT_USER?2147483649:e===Ct.HKEY_LOCAL_MACHINE?2147483650:e===Ct.HKEY_USERS?2147483651:e===Ct.HKEY_PERFORMANCE_DATA?2147483652:e===Ct.HKEY_CURRENT_CONFIG?2147483653:e===Ct.HKEY_DYN_DATA?2147483654:e===Ct.HKEY_CURRENT_USER_LOCAL_SETTINGS?2147483655:e===Ct.HKEY_PERFORMANCE_TEXT?2147483728:e===Ct.HKEY_PERFORMANCE_NLSTEXT?2147483744:AP(e,"The key does not map to an expected number value")}function Sg(e,t){if(!mr)return[];let r=So(e);return mr.readValues(r,t)}ue.enumerateValues=Sg;function TP(e,t){try{return Sg(e,t)}catch{return[]}}ue.enumerateValuesSafe=TP;function bg(e,t){if(!mr)return[];let r=So(e);return mr.enumKeys(r,t)}ue.enumerateKeys=bg;function OP(e,t){try{return bg(e,t)}catch{return[]}}ue.enumerateKeysSafe=OP;function xg(e,t){if(!mr)return!1;let r=So(e);return mr.createKey(r,t)}ue.createKey=xg;function PP(e,t){try{return xg(e,t)}catch{return!1}}ue.createKeySafe=PP;function Cg(e,t,r,n,i){if(!mr||n!=Eo.REG_SZ&&n!=Eo.REG_EXPAND_SZ&&n!=Eo.REG_DWORD)return!1;let s=So(e);return mr.setValue(s,t,r,n,i)}ue.setValue=Cg;function NP(e,t,r,n,i){try{return Cg(e,t,r,n,i)}catch{return!1}}ue.setValueSafe=NP});var Au=g(jr=>{"use strict";var DP=jr&&jr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),RP=jr&&jr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&DP(t,e,r)};Object.defineProperty(jr,"__esModule",{value:!0});RP(Ag(),jr)});var Fg=g(ki=>{"use strict";var IP=ki&&ki.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ki,"__esModule",{value:!0});ki.getBinaryPath=kP;var FP=IP(require("node:path"));function LP(){let e={"darwin-x64":"bin/darwin-x64/csda","darwin-arm64":"bin/darwin-arm64/csda","linux-x64":"bin/linux-x64/csda","linux-arm64":"bin/linux-arm64/csda","win32-x64":"bin/windows-x64/csda.exe"},t=`${process.platform}-${process.arch}`;if(!e[t])throw new Error(`Unsupported platform: ${t}`);return e[t]}function kP(){return FP.default.join(__dirname,LP())}});var Lg=g(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.GameMode=D.CompetitiveRank=D.Cs2RankType=D.CsgoRankType=D.HostageState=D.GameModeSurvival=D.GameModeSkirmish=D.GameModeCoOperative=D.GameModeCustom=D.GameModeTraining=D.GameModeGunGame=D.GameModeClassic=D.GameType=D.EconomyType=D.GrenadeName=D.HitGroup=D.PlayerColor=D.RoundEndReason=D.WeaponName=D.WeaponType=D.TeamLetter=D.TeamNumber=D.ExportFormat=D.DemoType=D.SupportedDemoSources=D.DemoSource=D.Game=void 0;D.Game={CSGO:"CSGO",CS2:"CS2",CS2LT:"CS2 LT"};D.DemoSource={Cevo:"cevo",Challengermode:"challengermode",Ebot:"ebot",Esea:"esea",Esl:"esl",Esplay:"esplay",Esportal:"esportal",FaceIt:"faceit",Fastcup:"fastcup",FiveEPlay:"5eplay",Gamersclub:"gamersclub",MatchZy:"matchzy",PerfectWorld:"perfectworld",Popflash:"popflash",Renown:"renown",Unknown:"unknown",Valve:"valve"};D.SupportedDemoSources=[D.DemoSource.Challengermode,D.DemoSource.Ebot,D.DemoSource.Esea,D.DemoSource.Esl,D.DemoSource.Esplay,D.DemoSource.Esportal,D.DemoSource.FaceIt,D.DemoSource.FiveEPlay,D.DemoSource.Fastcup,D.DemoSource.Gamersclub,D.DemoSource.MatchZy,D.DemoSource.PerfectWorld,D.DemoSource.Popflash,D.DemoSource.Renown,D.DemoSource.Valve];D.DemoType={POV:"POV",GOTV:"GOTV"};D.ExportFormat={CSV:"csv",JSON:"json",CSDM:"csdm"};D.TeamNumber={UNASSIGNED:0,SPECTATOR:1,T:2,CT:3};D.TeamLetter={A:"A",B:"B"};D.WeaponType={Unknown:"unknown",Pistol:"pistol",SMG:"smg",Shotgun:"shotgun",Rifle:"rifle",Sniper:"sniper",MachineGun:"machine_gun",Grenade:"grenade",Equipment:"equipment",Melee:"melee",World:"world"};D.WeaponName={AK47:"AK-47",AUG:"AUG",AWP:"AWP",Bomb:"C4",CZ75:"CZ75 Auto",Decoy:"Decoy Grenade",Deagle:"Desert Eagle",DefuseKit:"Defuse Kit",DualBerettas:"Dual Berettas",Famas:"FAMAS",FiveSeven:"Five-SeveN",Flashbang:"Flashbang",G3SG1:"G3SG1",GalilAR:"Galil AR",Glock:"Glock-18",HEGrenade:"HE Grenade",Helmet:"Kevlar + Helmet",Kevlar:"Kevlar Vest",Incendiary:"Incendiary Grenade",Knife:"Knife",M249:"M249",M4A1:"M4A1",M4A4:"M4A4",Mac10:"MAC-10",MAG7:"MAG-7",Molotov:"Molotov",MP5:"MP5-SD",MP7:"MP7",MP9:"MP9",Negev:"Negev",Nova:"Nova",P2000:"P2000",P250:"P250",P90:"P90",PPBizon:"PP-Bizon",Revolver:"R8 Revolver",SawedOff:"Sawed-Off",Scar20:"SCAR-20",Scout:"SSG 08",SG553:"SG 553",Smoke:"Smoke Grenade",Tec9:"Tec-9",UMP45:"UMP-45",Unknown:"Unknown",USP:"USP-S",World:"World",XM1014:"XM1014",Zeus:"Zeus x27"};D.RoundEndReason={StillInProgress:0,TargetBombed:1,VipEscaped:2,VipKilled:3,TerroristsEscaped:4,CounterTerroristsStoppedEscape:5,TerroristsStopped:6,BombDefused:7,CtWin:8,TerroristWin:9,Draw:10,HostagesRescued:11,TargetSaved:12,HostagesNotRescued:13,TerroristsNotEscaped:14,VipNotEscaped:15,GameStart:16,TerroristsSurrender:17,CounterTerroristsSurrender:18,TerroristsPlanted:19,CounterTerroristsReachedHostage:20};D.PlayerColor={Grey:-1,Yellow:0,Purple:1,Green:2,Blue:3,Orange:4};D.HitGroup={Generic:0,Head:1,Chest:2,Stomach:3,LeftArm:4,RightArm:5,LeftLeg:6,RightLeg:7,Neck:8,Gear:10};D.GrenadeName={Smoke:D.WeaponName.Smoke,Flashbang:D.WeaponName.Flashbang,HE:D.WeaponName.HEGrenade,Decoy:D.WeaponName.Decoy,Molotov:D.WeaponName.Molotov,Incendiary:D.WeaponName.Incendiary};D.EconomyType={Pistol:"pistol",Eco:"eco",Semi:"semi",ForceBuy:"force-buy",Full:"full"};D.GameType={Classic:0,GunGame:1,Training:2,Custom:3,CoOperative:4,Skirmish:5,FFA:6};D.GameModeClassic={Casual:0,Competitive:1,Scrimmage2V2:2,Scrimmage5V5:3};D.GameModeGunGame={Progressive:0,Bomb:1,Deathmatch:2};D.GameModeTraining={Training:0};D.GameModeCustom={Custom:0};D.GameModeCoOperative={CoOperative:0,CoOperativeMission:1};D.GameModeSkirmish={Skirmish:0};D.GameModeSurvival={Survival:0};D.HostageState={Idle:0,BeingUntied:1,GettingPickedUp:2,BeingCarried:3,FollowingPlayer:4,GettingDropped:5,Rescued:6,Dead:7};D.CsgoRankType={Unknown:-1,None:0,ClassicCompetitive:6,Wingman2v2:7,DangerZone:10};D.Cs2RankType={Unknown:-1,None:0,Wingman2v2:7,PremierMode:11,ClassicCompetitive:12};D.CompetitiveRank={Unknown:0,SilverI:1,SilverII:2,SilverIII:3,SilverIV:4,SilverElite:5,SilverEliteMaster:6,GoldNovaI:7,GoldNovaII:8,GoldNovaIII:9,GoldNovaMaster:10,MasterGuardianI:11,MasterGuardianII:12,MasterGuardianElite:13,DistinguishedMasterGuardian:14,LegendaryEagle:15,LegendaryEagleMaster:16,SupremeMasterFirstClass:17,GlobalElite:18};D.GameMode={Casual:"casual",Premier:"premier",Competitive:"competitive",Scrimmage2V2:"scrimcomp2v2",Scrimmage5V5:"scrimcomp5v5",Deathmatch:"deathmatch",GunGameProgressive:"gungameprogressive",GunGameBomb:"gungametrbomb",Custom:"custom",CoOperative:"cooperative",CoOperativeMission:"coopmission",Skirmish:"skirmish",Survival:"survival"}});var kg=g(Ft=>{"use strict";var MP=Ft&&Ft.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),qP=Ft&&Ft.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&MP(t,e,r)},UP=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.analyzeDemo=GP;var $P=require("node:child_process"),BP=UP(require("node:fs/promises")),WP=Fg();async function GP({demoPath:e,outputFolderPath:t,format:r,source:n,analyzePositions:i,minify:s,onStart:o,onStdout:a,onStderr:l,onEnd:c,executablePath:u}){return await BP.default.mkdir(t,{recursive:!0}),new Promise((f,h)=>{let y=[`"${u??(0,WP.getBinaryPath)()}"`,`-demo-path="${e}"`,`-output="${t}"`,`-format="${r}"`];n&&y.push(`-source="${n}"`),i&&y.push(`-positions="${i}"`),s&&y.push("-minify");let w=y.join(" ");o&&o(w);let S=(0,$P.exec)(w,{windowsHide:!0,maxBuffer:void 0});a&&S.stdout?.on("data",x=>{a(x)}),l&&S.stderr?.on("data",x=>{l(x)}),S.on("exit",x=>{c&&c(x),x===0?f():h()})})}qP(Lg(),Ft)});var Kt=g((GG,Wg)=>{"use strict";var $g=["nodebuffer","arraybuffer","fragments"],Bg=typeof Blob<"u";Bg&&$g.push("blob");Wg.exports={BINARY_TYPES:$g,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:Bg,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var qi=g((jG,Co)=>{"use strict";var{EMPTY_BUFFER:HP}=Kt(),Ou=Buffer[Symbol.species];function VP(e,t){if(e.length===0)return HP;if(e.length===1)return e[0];let r=Buffer.allocUnsafe(t),n=0;for(let i=0;i<e.length;i++){let s=e[i];r.set(s,n),n+=s.length}return n<t?new Ou(r.buffer,r.byteOffset,n):r}function Gg(e,t,r,n,i){for(let s=0;s<i;s++)r[n+s]=e[s]^t[s&3]}function jg(e,t){for(let r=0;r<e.length;r++)e[r]^=t[r&3]}function zP(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)}function Pu(e){if(Pu.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=new Ou(e):ArrayBuffer.isView(e)?t=new Ou(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),Pu.readOnly=!1),t}Co.exports={concat:VP,mask:Gg,toArrayBuffer:zP,toBuffer:Pu,unmask:jg};if(!process.env.WS_NO_BUFFER_UTIL)try{let e=require("bufferutil");Co.exports.mask=function(t,r,n,i,s){s<48?Gg(t,r,n,i,s):e.mask(t,r,n,i,s)},Co.exports.unmask=function(t,r){t.length<32?jg(t,r):e.unmask(t,r)}}catch{}});var zg=g((HG,Vg)=>{"use strict";var Hg=Symbol("kDone"),Nu=Symbol("kRun"),Du=class{constructor(t){this[Hg]=()=>{this.pending--,this[Nu]()},this.concurrency=t||1/0,this.jobs=[],this.pending=0}add(t){this.jobs.push(t),this[Nu]()}[Nu](){if(this.pending!==this.concurrency&&this.jobs.length){let t=this.jobs.shift();this.pending++,t(this[Hg])}}};Vg.exports=Du});var $i=g((VG,Jg)=>{"use strict";var Ui=require("zlib"),Yg=qi(),YP=zg(),{kStatusCode:Kg}=Kt(),KP=Buffer[Symbol.species],XP=Buffer.from([0,0,255,255]),To=Symbol("permessage-deflate"),Xt=Symbol("total-length"),Fn=Symbol("callback"),gr=Symbol("buffers"),Ln=Symbol("error"),Ao,Ru=class{constructor(t,r,n){if(this._maxPayload=n|0,this._options=t||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!Ao){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Ao=new YP(i)}}static get extensionName(){return"permessage-deflate"}offer(){let t={};return this._options.serverNoContextTakeover&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(t.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(t.client_max_window_bits=!0),t}accept(t){return t=this.normalizeParams(t),this.params=this._isServer?this.acceptAsServer(t):this.acceptAsClient(t),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let t=this._deflate[Fn];this._deflate.close(),this._deflate=null,t&&t(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(t){let r=this._options,n=t.find(i=>!(r.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>i.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(t){let r=t[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(t){return t.forEach(r=>{Object.keys(r).forEach(n=>{let i=r[n];if(i.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(i=i[0],n==="client_max_window_bits"){if(i!==!0){let s=+i;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=s}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else if(n==="server_max_window_bits"){let s=+i;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=s}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=i})}),t}decompress(t,r,n){Ao.add(i=>{this._decompress(t,r,(s,o)=>{i(),n(s,o)})})}compress(t,r,n){Ao.add(i=>{this._compress(t,r,(s,o)=>{i(),n(s,o)})})}_decompress(t,r,n){let i=this._isServer?"client":"server";if(!this._inflate){let s=`${i}_max_window_bits`,o=typeof this.params[s]!="number"?Ui.Z_DEFAULT_WINDOWBITS:this.params[s];this._inflate=Ui.createInflateRaw({...this._options.zlibInflateOptions,windowBits:o}),this._inflate[To]=this,this._inflate[Xt]=0,this._inflate[gr]=[],this._inflate.on("error",QP),this._inflate.on("data",Xg)}this._inflate[Fn]=n,this._inflate.write(t),r&&this._inflate.write(XP),this._inflate.flush(()=>{let s=this._inflate[Ln];if(s){this._inflate.close(),this._inflate=null,n(s);return}let o=Yg.concat(this._inflate[gr],this._inflate[Xt]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Xt]=0,this._inflate[gr]=[],r&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),n(null,o)})}_compress(t,r,n){let i=this._isServer?"server":"client";if(!this._deflate){let s=`${i}_max_window_bits`,o=typeof this.params[s]!="number"?Ui.Z_DEFAULT_WINDOWBITS:this.params[s];this._deflate=Ui.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:o}),this._deflate[Xt]=0,this._deflate[gr]=[],this._deflate.on("data",JP)}this._deflate[Fn]=n,this._deflate.write(t),this._deflate.flush(Ui.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let s=Yg.concat(this._deflate[gr],this._deflate[Xt]);r&&(s=new KP(s.buffer,s.byteOffset,s.length-4)),this._deflate[Fn]=null,this._deflate[Xt]=0,this._deflate[gr]=[],r&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),n(null,s)})}};Jg.exports=Ru;function JP(e){this[gr].push(e),this[Xt]+=e.length}function Xg(e){if(this[Xt]+=e.length,this[To]._maxPayload<1||this[Xt]<=this[To]._maxPayload){this[gr].push(e);return}this[Ln]=new RangeError("Max payload size exceeded"),this[Ln].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Ln][Kg]=1009,this.removeListener("data",Xg),this.reset()}function QP(e){if(this[To]._inflate=null,this[Ln]){this[Fn](this[Ln]);return}e[Kg]=1007,this[Fn](e)}});var kn=g((zG,Oo)=>{"use strict";var{isUtf8:Qg}=require("buffer"),{hasBlob:ZP}=Kt(),eN=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function tN(e){return e>=1e3&&e<=1014&&e!==1004&&e!==1005&&e!==1006||e>=3e3&&e<=4999}function Iu(e){let t=e.length,r=0;for(;r<t;)if((e[r]&128)===0)r++;else if((e[r]&224)===192){if(r+1===t||(e[r+1]&192)!==128||(e[r]&254)===192)return!1;r+=2}else if((e[r]&240)===224){if(r+2>=t||(e[r+1]&192)!==128||(e[r+2]&192)!==128||e[r]===224&&(e[r+1]&224)===128||e[r]===237&&(e[r+1]&224)===160)return!1;r+=3}else if((e[r]&248)===240){if(r+3>=t||(e[r+1]&192)!==128||(e[r+2]&192)!==128||(e[r+3]&192)!==128||e[r]===240&&(e[r+1]&240)===128||e[r]===244&&e[r+1]>143||e[r]>244)return!1;r+=4}else return!1;return!0}function rN(e){return ZP&&typeof e=="object"&&typeof e.arrayBuffer=="function"&&typeof e.type=="string"&&typeof e.stream=="function"&&(e[Symbol.toStringTag]==="Blob"||e[Symbol.toStringTag]==="File")}Oo.exports={isBlob:rN,isValidStatusCode:tN,isValidUTF8:Iu,tokenChars:eN};if(Qg)Oo.exports.isValidUTF8=function(e){return e.length<24?Iu(e):Qg(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let e=require("utf-8-validate");Oo.exports.isValidUTF8=function(t){return t.length<32?Iu(t):e(t)}}catch{}});var qu=g((YG,sy)=>{"use strict";var{Writable:nN}=require("stream"),Zg=$i(),{BINARY_TYPES:iN,EMPTY_BUFFER:ey,kStatusCode:sN,kWebSocket:oN}=Kt(),{concat:Fu,toArrayBuffer:aN,unmask:lN}=qi(),{isValidStatusCode:uN,isValidUTF8:ty}=kn(),Po=Buffer[Symbol.species],ht=0,ry=1,ny=2,iy=3,Lu=4,ku=5,No=6,Mu=class extends nN{constructor(t={}){super(),this._allowSynchronousEvents=t.allowSynchronousEvents!==void 0?t.allowSynchronousEvents:!0,this._binaryType=t.binaryType||iN[0],this._extensions=t.extensions||{},this._isServer=!!t.isServer,this._maxPayload=t.maxPayload|0,this._skipUTF8Validation=!!t.skipUTF8Validation,this[oN]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=ht}_write(t,r,n){if(this._opcode===8&&this._state==ht)return n();this._bufferedBytes+=t.length,this._buffers.push(t),this.startLoop(n)}consume(t){if(this._bufferedBytes-=t,t===this._buffers[0].length)return this._buffers.shift();if(t<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new Po(n.buffer,n.byteOffset+t,n.length-t),new Po(n.buffer,n.byteOffset,t)}let r=Buffer.allocUnsafe(t);do{let n=this._buffers[0],i=r.length-t;t>=n.length?r.set(this._buffers.shift(),i):(r.set(new Uint8Array(n.buffer,n.byteOffset,t),i),this._buffers[0]=new Po(n.buffer,n.byteOffset+t,n.length-t)),t-=n.length}while(t>0);return r}startLoop(t){this._loop=!0;do switch(this._state){case ht:this.getInfo(t);break;case ry:this.getPayloadLength16(t);break;case ny:this.getPayloadLength64(t);break;case iy:this.getMask();break;case Lu:this.getData(t);break;case ku:case No:this._loop=!1;return}while(this._loop);this._errored||t()}getInfo(t){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if((r[0]&48)!==0){let i=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");t(i);return}let n=(r[0]&64)===64;if(n&&!this._extensions[Zg.extensionName]){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");t(i);return}if(this._fin=(r[0]&128)===128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");t(i);return}if(!this._fragmented){let i=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");t(i);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");t(i);return}this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let i=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");t(i);return}if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");t(i);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let i=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");t(i);return}}else{let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");t(i);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)===128,this._isServer){if(!this._masked){let i=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");t(i);return}}else if(this._masked){let i=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");t(i);return}this._payloadLength===126?this._state=ry:this._payloadLength===127?this._state=ny:this.haveLength(t)}getPayloadLength16(t){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(t)}getPayloadLength64(t){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),n=r.readUInt32BE(0);if(n>Math.pow(2,21)-1){let i=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");t(i);return}this._payloadLength=n*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength(t)}haveLength(t){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let r=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");t(r);return}this._masked?this._state=iy:this._state=Lu}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Lu}getData(t){let r=ey;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&lN(r,this._mask)}if(this._opcode>7){this.controlMessage(r,t);return}if(this._compressed){this._state=ku,this.decompress(r,t);return}r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage(t)}decompress(t,r){this._extensions[Zg.extensionName].decompress(t,this._fin,(i,s)=>{if(i)return r(i);if(s.length){if(this._messageLength+=s.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let o=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");r(o);return}this._fragments.push(s)}this.dataMessage(r),this._state===ht&&this.startLoop(r)})}dataMessage(t){if(!this._fin){this._state=ht;return}let r=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=Fu(n,r):this._binaryType==="arraybuffer"?i=aN(Fu(n,r)):this._binaryType==="blob"?i=new Blob(n):i=n,this._allowSynchronousEvents?(this.emit("message",i,!0),this._state=ht):(this._state=No,setImmediate(()=>{this.emit("message",i,!0),this._state=ht,this.startLoop(t)}))}else{let i=Fu(n,r);if(!this._skipUTF8Validation&&!ty(i)){let s=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");t(s);return}this._state===ku||this._allowSynchronousEvents?(this.emit("message",i,!1),this._state=ht):(this._state=No,setImmediate(()=>{this.emit("message",i,!1),this._state=ht,this.startLoop(t)}))}}controlMessage(t,r){if(this._opcode===8){if(t.length===0)this._loop=!1,this.emit("conclude",1005,ey),this.end();else{let n=t.readUInt16BE(0);if(!uN(n)){let s=this.createError(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");r(s);return}let i=new Po(t.buffer,t.byteOffset+2,t.length-2);if(!this._skipUTF8Validation&&!ty(i)){let s=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");r(s);return}this._loop=!1,this.emit("conclude",n,i),this.end()}this._state=ht;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",t),this._state=ht):(this._state=No,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",t),this._state=ht,this.startLoop(r)}))}createError(t,r,n,i,s){this._loop=!1,this._errored=!0;let o=new t(n?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(o,this.createError),o.code=s,o[sN]=i,o}};sy.exports=Mu});var Bu=g((XG,ly)=>{"use strict";var{Duplex:KG}=require("stream"),{randomFillSync:cN}=require("crypto"),oy=$i(),{EMPTY_BUFFER:fN,kWebSocket:dN,NOOP:hN}=Kt(),{isBlob:Mn,isValidStatusCode:pN}=kn(),{mask:ay,toBuffer:Hr}=qi(),pt=Symbol("kByteLength"),mN=Buffer.alloc(4),Do=8*1024,Vr,qn=Do,At=0,gN=1,yN=2,Uu=class e{constructor(t,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=t,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=At,this.onerror=hN,this[dN]=void 0}static frame(t,r){let n,i=!1,s=2,o=!1;r.mask&&(n=r.maskBuffer||mN,r.generateMask?r.generateMask(n):(qn===Do&&(Vr===void 0&&(Vr=Buffer.alloc(Do)),cN(Vr,0,Do),qn=0),n[0]=Vr[qn++],n[1]=Vr[qn++],n[2]=Vr[qn++],n[3]=Vr[qn++]),o=(n[0]|n[1]|n[2]|n[3])===0,s=6);let a;typeof t=="string"?(!r.mask||o)&&r[pt]!==void 0?a=r[pt]:(t=Buffer.from(t),a=t.length):(a=t.length,i=r.mask&&r.readOnly&&!o);let l=a;a>=65536?(s+=8,l=127):a>125&&(s+=2,l=126);let c=Buffer.allocUnsafe(i?a+s:s);return c[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(c[0]|=64),c[1]=l,l===126?c.writeUInt16BE(a,2):l===127&&(c[2]=c[3]=0,c.writeUIntBE(a,4,6)),r.mask?(c[1]|=128,c[s-4]=n[0],c[s-3]=n[1],c[s-2]=n[2],c[s-1]=n[3],o?[c,t]:i?(ay(t,n,c,s,a),[c]):(ay(t,n,t,0,a),[c,t])):[c,t]}close(t,r,n,i){let s;if(t===void 0)s=fN;else{if(typeof t!="number"||!pN(t))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)s=Buffer.allocUnsafe(2),s.writeUInt16BE(t,0);else{let a=Buffer.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");s=Buffer.allocUnsafe(2+a),s.writeUInt16BE(t,0),typeof r=="string"?s.write(r,2):s.set(r,2)}}let o={[pt]:s.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==At?this.enqueue([this.dispatch,s,!1,o,i]):this.sendFrame(e.frame(s,o),i)}ping(t,r,n){let i,s;if(typeof t=="string"?(i=Buffer.byteLength(t),s=!1):Mn(t)?(i=t.size,s=!1):(t=Hr(t),i=t.length,s=Hr.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[pt]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:s,rsv1:!1};Mn(t)?this._state!==At?this.enqueue([this.getBlobData,t,!1,o,n]):this.getBlobData(t,!1,o,n):this._state!==At?this.enqueue([this.dispatch,t,!1,o,n]):this.sendFrame(e.frame(t,o),n)}pong(t,r,n){let i,s;if(typeof t=="string"?(i=Buffer.byteLength(t),s=!1):Mn(t)?(i=t.size,s=!1):(t=Hr(t),i=t.length,s=Hr.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[pt]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:s,rsv1:!1};Mn(t)?this._state!==At?this.enqueue([this.getBlobData,t,!1,o,n]):this.getBlobData(t,!1,o,n):this._state!==At?this.enqueue([this.dispatch,t,!1,o,n]):this.sendFrame(e.frame(t,o),n)}send(t,r,n){let i=this._extensions[oy.extensionName],s=r.binary?2:1,o=r.compress,a,l;typeof t=="string"?(a=Buffer.byteLength(t),l=!1):Mn(t)?(a=t.size,l=!1):(t=Hr(t),a=t.length,l=Hr.readOnly),this._firstFragment?(this._firstFragment=!1,o&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(o=a>=i._threshold),this._compress=o):(o=!1,s=0),r.fin&&(this._firstFragment=!0);let c={[pt]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:l,rsv1:o};Mn(t)?this._state!==At?this.enqueue([this.getBlobData,t,this._compress,c,n]):this.getBlobData(t,this._compress,c,n):this._state!==At?this.enqueue([this.dispatch,t,this._compress,c,n]):this.dispatch(t,this._compress,c,n)}getBlobData(t,r,n,i){this._bufferedBytes+=n[pt],this._state=yN,t.arrayBuffer().then(s=>{if(this._socket.destroyed){let a=new Error("The socket was closed while the blob was being read");process.nextTick($u,this,a,i);return}this._bufferedBytes-=n[pt];let o=Hr(s);r?this.dispatch(o,r,n,i):(this._state=At,this.sendFrame(e.frame(o,n),i),this.dequeue())}).catch(s=>{process.nextTick(wN,this,s,i)})}dispatch(t,r,n,i){if(!r){this.sendFrame(e.frame(t,n),i);return}let s=this._extensions[oy.extensionName];this._bufferedBytes+=n[pt],this._state=gN,s.compress(t,n.fin,(o,a)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");$u(this,l,i);return}this._bufferedBytes-=n[pt],this._state=At,n.readOnly=!1,this.sendFrame(e.frame(a,n),i),this.dequeue()})}dequeue(){for(;this._state===At&&this._queue.length;){let t=this._queue.shift();this._bufferedBytes-=t[3][pt],Reflect.apply(t[0],this,t.slice(1))}}enqueue(t){this._bufferedBytes+=t[3][pt],this._queue.push(t)}sendFrame(t,r){t.length===2?(this._socket.cork(),this._socket.write(t[0]),this._socket.write(t[1],r),this._socket.uncork()):this._socket.write(t[0],r)}};ly.exports=Uu;function $u(e,t,r){typeof r=="function"&&r(t);for(let n=0;n<e._queue.length;n++){let i=e._queue[n],s=i[i.length-1];typeof s=="function"&&s(t)}}function wN(e,t,r){$u(e,t,r),e.onerror(t)}});var yy=g((JG,gy)=>{"use strict";var{kForOnEventAttribute:Bi,kListener:Wu}=Kt(),uy=Symbol("kCode"),cy=Symbol("kData"),fy=Symbol("kError"),dy=Symbol("kMessage"),hy=Symbol("kReason"),Un=Symbol("kTarget"),py=Symbol("kType"),my=Symbol("kWasClean"),Jt=class{constructor(t){this[Un]=null,this[py]=t}get target(){return this[Un]}get type(){return this[py]}};Object.defineProperty(Jt.prototype,"target",{enumerable:!0});Object.defineProperty(Jt.prototype,"type",{enumerable:!0});var zr=class extends Jt{constructor(t,r={}){super(t),this[uy]=r.code===void 0?0:r.code,this[hy]=r.reason===void 0?"":r.reason,this[my]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[uy]}get reason(){return this[hy]}get wasClean(){return this[my]}};Object.defineProperty(zr.prototype,"code",{enumerable:!0});Object.defineProperty(zr.prototype,"reason",{enumerable:!0});Object.defineProperty(zr.prototype,"wasClean",{enumerable:!0});var $n=class extends Jt{constructor(t,r={}){super(t),this[fy]=r.error===void 0?null:r.error,this[dy]=r.message===void 0?"":r.message}get error(){return this[fy]}get message(){return this[dy]}};Object.defineProperty($n.prototype,"error",{enumerable:!0});Object.defineProperty($n.prototype,"message",{enumerable:!0});var Wi=class extends Jt{constructor(t,r={}){super(t),this[cy]=r.data===void 0?null:r.data}get data(){return this[cy]}};Object.defineProperty(Wi.prototype,"data",{enumerable:!0});var _N={addEventListener(e,t,r={}){for(let i of this.listeners(e))if(!r[Bi]&&i[Wu]===t&&!i[Bi])return;let n;if(e==="message")n=function(s,o){let a=new Wi("message",{data:o?s:s.toString()});a[Un]=this,Ro(t,this,a)};else if(e==="close")n=function(s,o){let a=new zr("close",{code:s,reason:o.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[Un]=this,Ro(t,this,a)};else if(e==="error")n=function(s){let o=new $n("error",{error:s,message:s.message});o[Un]=this,Ro(t,this,o)};else if(e==="open")n=function(){let s=new Jt("open");s[Un]=this,Ro(t,this,s)};else return;n[Bi]=!!r[Bi],n[Wu]=t,r.once?this.once(e,n):this.on(e,n)},removeEventListener(e,t){for(let r of this.listeners(e))if(r[Wu]===t&&!r[Bi]){this.removeListener(e,r);break}}};gy.exports={CloseEvent:zr,ErrorEvent:$n,Event:Jt,EventTarget:_N,MessageEvent:Wi};function Ro(e,t,r){typeof e=="object"&&e.handleEvent?e.handleEvent.call(e,r):e.call(t,r)}});var Gu=g((QG,wy)=>{"use strict";var{tokenChars:Gi}=kn();function Lt(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}function vN(e){let t=Object.create(null),r=Object.create(null),n=!1,i=!1,s=!1,o,a,l=-1,c=-1,u=-1,f=0;for(;f<e.length;f++)if(c=e.charCodeAt(f),o===void 0)if(u===-1&&Gi[c]===1)l===-1&&(l=f);else if(f!==0&&(c===32||c===9))u===-1&&l!==-1&&(u=f);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${f}`);u===-1&&(u=f);let p=e.slice(l,u);c===44?(Lt(t,p,r),r=Object.create(null)):o=p,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);else if(a===void 0)if(u===-1&&Gi[c]===1)l===-1&&(l=f);else if(c===32||c===9)u===-1&&l!==-1&&(u=f);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${f}`);u===-1&&(u=f),Lt(r,e.slice(l,u),!0),c===44&&(Lt(t,o,r),r=Object.create(null),o=void 0),l=u=-1}else if(c===61&&l!==-1&&u===-1)a=e.slice(l,f),l=u=-1;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(i){if(Gi[c]!==1)throw new SyntaxError(`Unexpected character at index ${f}`);l===-1?l=f:n||(n=!0),i=!1}else if(s)if(Gi[c]===1)l===-1&&(l=f);else if(c===34&&l!==-1)s=!1,u=f;else if(c===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(c===34&&e.charCodeAt(f-1)===61)s=!0;else if(u===-1&&Gi[c]===1)l===-1&&(l=f);else if(l!==-1&&(c===32||c===9))u===-1&&(u=f);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${f}`);u===-1&&(u=f);let p=e.slice(l,u);n&&(p=p.replace(/\\/g,""),n=!1),Lt(r,a,p),c===44&&(Lt(t,o,r),r=Object.create(null),o=void 0),a=void 0,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);if(l===-1||s||c===32||c===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=f);let h=e.slice(l,u);return o===void 0?Lt(t,h,r):(a===void 0?Lt(r,h,!0):n?Lt(r,a,h.replace(/\\/g,"")):Lt(r,a,h),Lt(t,o,r)),t}function EN(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(n=>[t].concat(Object.keys(n).map(i=>{let s=n[i];return Array.isArray(s)||(s=[s]),s.map(o=>o===!0?i:`${i}=${o}`).join("; ")})).join("; ")).join(", ")}).join(", ")}wy.exports={format:EN,parse:vN}});var ko=g((tj,Ny)=>{"use strict";var SN=require("events"),bN=require("https"),xN=require("http"),Ey=require("net"),CN=require("tls"),{randomBytes:AN,createHash:TN}=require("crypto"),{Duplex:ZG,Readable:ej}=require("stream"),{URL:ju}=require("url"),yr=$i(),ON=qu(),PN=Bu(),{isBlob:NN}=kn(),{BINARY_TYPES:_y,EMPTY_BUFFER:Io,GUID:DN,kForOnEventAttribute:Hu,kListener:RN,kStatusCode:IN,kWebSocket:Ce,NOOP:Sy}=Kt(),{EventTarget:{addEventListener:FN,removeEventListener:LN}}=yy(),{format:kN,parse:MN}=Gu(),{toBuffer:qN}=qi(),UN=30*1e3,by=Symbol("kAborted"),Vu=[8,13],Qt=["CONNECTING","OPEN","CLOSING","CLOSED"],$N=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,ce=class e extends SN{constructor(t,r,n){super(),this._binaryType=_y[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Io,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=e.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,t!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),xy(this,t,r,n)):(this._autoPong=n.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(t){_y.includes(t)&&(this._binaryType=t,this._receiver&&(this._receiver._binaryType=t))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(t,r,n){let i=new ON({allowSynchronousEvents:n.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation}),s=new PN(t,this._extensions,n.generateMask);this._receiver=i,this._sender=s,this._socket=t,i[Ce]=this,s[Ce]=this,t[Ce]=this,i.on("conclude",GN),i.on("drain",jN),i.on("error",HN),i.on("message",VN),i.on("ping",zN),i.on("pong",YN),s.onerror=KN,t.setTimeout&&t.setTimeout(0),t.setNoDelay&&t.setNoDelay(),r.length>0&&t.unshift(r),t.on("close",Ty),t.on("data",Lo),t.on("end",Oy),t.on("error",Py),this._readyState=e.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=e.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[yr.extensionName]&&this._extensions[yr.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=e.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(t,r){if(this.readyState!==e.CLOSED){if(this.readyState===e.CONNECTING){ut(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===e.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=e.CLOSING,this._sender.close(t,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),Ay(this)}}pause(){this.readyState===e.CONNECTING||this.readyState===e.CLOSED||(this._paused=!0,this._socket.pause())}ping(t,r,n){if(this.readyState===e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(n=t,t=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==e.OPEN){zu(this,t,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(t||Io,r,n)}pong(t,r,n){if(this.readyState===e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(n=t,t=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==e.OPEN){zu(this,t,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(t||Io,r,n)}resume(){this.readyState===e.CONNECTING||this.readyState===e.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(t,r,n){if(this.readyState===e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof t=="number"&&(t=t.toString()),this.readyState!==e.OPEN){zu(this,t,n);return}let i={binary:typeof t!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[yr.extensionName]||(i.compress=!1),this._sender.send(t||Io,i,n)}terminate(){if(this.readyState!==e.CLOSED){if(this.readyState===e.CONNECTING){ut(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=e.CLOSING,this._socket.destroy())}}};Object.defineProperty(ce,"CONNECTING",{enumerable:!0,value:Qt.indexOf("CONNECTING")});Object.defineProperty(ce.prototype,"CONNECTING",{enumerable:!0,value:Qt.indexOf("CONNECTING")});Object.defineProperty(ce,"OPEN",{enumerable:!0,value:Qt.indexOf("OPEN")});Object.defineProperty(ce.prototype,"OPEN",{enumerable:!0,value:Qt.indexOf("OPEN")});Object.defineProperty(ce,"CLOSING",{enumerable:!0,value:Qt.indexOf("CLOSING")});Object.defineProperty(ce.prototype,"CLOSING",{enumerable:!0,value:Qt.indexOf("CLOSING")});Object.defineProperty(ce,"CLOSED",{enumerable:!0,value:Qt.indexOf("CLOSED")});Object.defineProperty(ce.prototype,"CLOSED",{enumerable:!0,value:Qt.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(ce.prototype,e,{enumerable:!0})});["open","error","close","message"].forEach(e=>{Object.defineProperty(ce.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[Hu])return t[RN];return null},set(t){for(let r of this.listeners(e))if(r[Hu]){this.removeListener(e,r);break}typeof t=="function"&&this.addEventListener(e,t,{[Hu]:!0})}})});ce.prototype.addEventListener=FN;ce.prototype.removeEventListener=LN;Ny.exports=ce;function xy(e,t,r,n){let i={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:Vu[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(e._autoPong=i.autoPong,!Vu.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${Vu.join(", ")})`);let s;if(t instanceof ju)s=t;else try{s=new ju(t)}catch{throw new SyntaxError(`Invalid URL: ${t}`)}s.protocol==="http:"?s.protocol="ws:":s.protocol==="https:"&&(s.protocol="wss:"),e._url=s.href;let o=s.protocol==="wss:",a=s.protocol==="ws+unix:",l;if(s.protocol!=="ws:"&&!o&&!a?l=`The URL's protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"`:a&&!s.pathname?l="The URL's pathname is empty":s.hash&&(l="The URL contains a fragment identifier"),l){let w=new SyntaxError(l);if(e._redirects===0)throw w;Fo(e,w);return}let c=o?443:80,u=AN(16).toString("base64"),f=o?bN.request:xN.request,h=new Set,p;if(i.createConnection=i.createConnection||(o?WN:BN),i.defaultPort=i.defaultPort||c,i.port=s.port||c,i.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},i.path=s.pathname+s.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(p=new yr(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=kN({[yr.extensionName]:p.offer()})),r.length){for(let w of r){if(typeof w!="string"||!$N.test(w)||h.has(w))throw new SyntaxError("An invalid or duplicated subprotocol was specified");h.add(w)}i.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(s.username||s.password)&&(i.auth=`${s.username}:${s.password}`),a){let w=i.path.split(":");i.socketPath=w[0],i.path=w[1]}let y;if(i.followRedirects){if(e._redirects===0){e._originalIpc=a,e._originalSecure=o,e._originalHostOrSocketPath=a?i.socketPath:s.host;let w=n&&n.headers;if(n={...n,headers:{}},w)for(let[S,x]of Object.entries(w))n.headers[S.toLowerCase()]=x}else if(e.listenerCount("redirect")===0){let w=a?e._originalIpc?i.socketPath===e._originalHostOrSocketPath:!1:e._originalIpc?!1:s.host===e._originalHostOrSocketPath;(!w||e._originalSecure&&!o)&&(delete i.headers.authorization,delete i.headers.cookie,w||delete i.headers.host,i.auth=void 0)}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),y=e._req=f(i),e._redirects&&e.emit("redirect",e.url,y)}else y=e._req=f(i);i.timeout&&y.on("timeout",()=>{ut(e,y,"Opening handshake has timed out")}),y.on("error",w=>{y===null||y[by]||(y=e._req=null,Fo(e,w))}),y.on("response",w=>{let S=w.headers.location,x=w.statusCode;if(S&&i.followRedirects&&x>=300&&x<400){if(++e._redirects>i.maxRedirects){ut(e,y,"Maximum redirects exceeded");return}y.abort();let C;try{C=new ju(S,t)}catch{let H=new SyntaxError(`Invalid URL: ${S}`);Fo(e,H);return}xy(e,C,r,n)}else e.emit("unexpected-response",y,w)||ut(e,y,`Unexpected server response: ${w.statusCode}`)}),y.on("upgrade",(w,S,x)=>{if(e.emit("upgrade",w),e.readyState!==ce.CONNECTING)return;y=e._req=null;let C=w.headers.upgrade;if(C===void 0||C.toLowerCase()!=="websocket"){ut(e,S,"Invalid Upgrade header");return}let q=TN("sha1").update(u+DN).digest("base64");if(w.headers["sec-websocket-accept"]!==q){ut(e,S,"Invalid Sec-WebSocket-Accept header");return}let H=w.headers["sec-websocket-protocol"],de;if(H!==void 0?h.size?h.has(H)||(de="Server sent an invalid subprotocol"):de="Server sent a subprotocol but none was requested":h.size&&(de="Server sent no subprotocol"),de){ut(e,S,de);return}H&&(e._protocol=H);let P=w.headers["sec-websocket-extensions"];if(P!==void 0){if(!p){ut(e,S,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let X;try{X=MN(P)}catch{ut(e,S,"Invalid Sec-WebSocket-Extensions header");return}let E=Object.keys(X);if(E.length!==1||E[0]!==yr.extensionName){ut(e,S,"Server indicated an extension that was not requested");return}try{p.accept(X[yr.extensionName])}catch{ut(e,S,"Invalid Sec-WebSocket-Extensions header");return}e._extensions[yr.extensionName]=p}e.setSocket(S,x,{allowSynchronousEvents:i.allowSynchronousEvents,generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(y,e):y.end()}function Fo(e,t){e._readyState=ce.CLOSING,e._errorEmitted=!0,e.emit("error",t),e.emitClose()}function BN(e){return e.path=e.socketPath,Ey.connect(e)}function WN(e){return e.path=void 0,!e.servername&&e.servername!==""&&(e.servername=Ey.isIP(e.host)?"":e.host),CN.connect(e)}function ut(e,t,r){e._readyState=ce.CLOSING;let n=new Error(r);Error.captureStackTrace(n,ut),t.setHeader?(t[by]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(Fo,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function zu(e,t,r){if(t){let n=NN(t)?t.size:qN(t).length;e._socket?e._sender._bufferedBytes+=n:e._bufferedAmount+=n}if(r){let n=new Error(`WebSocket is not open: readyState ${e.readyState} (${Qt[e.readyState]})`);process.nextTick(r,n)}}function GN(e,t){let r=this[Ce];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,r._socket[Ce]!==void 0&&(r._socket.removeListener("data",Lo),process.nextTick(Cy,r._socket),e===1005?r.close():r.close(e,t))}function jN(){let e=this[Ce];e.isPaused||e._socket.resume()}function HN(e){let t=this[Ce];t._socket[Ce]!==void 0&&(t._socket.removeListener("data",Lo),process.nextTick(Cy,t._socket),t.close(e[IN])),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e))}function vy(){this[Ce].emitClose()}function VN(e,t){this[Ce].emit("message",e,t)}function zN(e){let t=this[Ce];t._autoPong&&t.pong(e,!this._isServer,Sy),t.emit("ping",e)}function YN(e){this[Ce].emit("pong",e)}function Cy(e){e.resume()}function KN(e){let t=this[Ce];t.readyState!==ce.CLOSED&&(t.readyState===ce.OPEN&&(t._readyState=ce.CLOSING,Ay(t)),this._socket.end(),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e)))}function Ay(e){e._closeTimer=setTimeout(e._socket.destroy.bind(e._socket),UN)}function Ty(){let e=this[Ce];this.removeListener("close",Ty),this.removeListener("data",Lo),this.removeListener("end",Oy),e._readyState=ce.CLOSING;let t;!this._readableState.endEmitted&&!e._closeFrameReceived&&!e._receiver._writableState.errorEmitted&&(t=e._socket.read())!==null&&e._receiver.write(t),e._receiver.end(),this[Ce]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",vy),e._receiver.on("finish",vy))}function Lo(e){this[Ce]._receiver.write(e)||this.pause()}function Oy(){let e=this[Ce];e._readyState=ce.CLOSING,e._receiver.end(),this.end()}function Py(){let e=this[Ce];this.removeListener("error",Py),this.on("error",Sy),e&&(e._readyState=ce.CLOSING,this.destroy())}});var Fy=g((nj,Iy)=>{"use strict";var rj=ko(),{Duplex:XN}=require("stream");function Dy(e){e.emit("close")}function JN(){!this.destroyed&&this._writableState.finished&&this.destroy()}function Ry(e){this.removeListener("error",Ry),this.destroy(),this.listenerCount("error")===0&&this.emit("error",e)}function QN(e,t){let r=!0,n=new XN({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(s,o){let a=!o&&n._readableState.objectMode?s.toString():s;n.push(a)||e.pause()}),e.once("error",function(s){n.destroyed||(r=!1,n.destroy(s))}),e.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(i,s){if(e.readyState===e.CLOSED){s(i),process.nextTick(Dy,n);return}let o=!1;e.once("error",function(l){o=!0,s(l)}),e.once("close",function(){o||s(i),process.nextTick(Dy,n)}),r&&e.terminate()},n._final=function(i){if(e.readyState===e.CONNECTING){e.once("open",function(){n._final(i)});return}e._socket!==null&&(e._socket._writableState.finished?(i(),n._readableState.endEmitted&&n.destroy()):(e._socket.once("finish",function(){i()}),e.close()))},n._read=function(){e.isPaused&&e.resume()},n._write=function(i,s,o){if(e.readyState===e.CONNECTING){e.once("open",function(){n._write(i,s,o)});return}e.send(i,o)},n.on("end",JN),n.on("error",Ry),n}Iy.exports=QN});var ky=g((ij,Ly)=>{"use strict";var{tokenChars:ZN}=kn();function eD(e){let t=new Set,r=-1,n=-1,i=0;for(i;i<e.length;i++){let o=e.charCodeAt(i);if(n===-1&&ZN[o]===1)r===-1&&(r=i);else if(i!==0&&(o===32||o===9))n===-1&&r!==-1&&(n=i);else if(o===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${i}`);n===-1&&(n=i);let a=e.slice(r,n);if(t.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);t.add(a),r=n=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let s=e.slice(r,i);if(t.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return t.add(s),t}Ly.exports={parse:eD}});var Gy=g((oj,Wy)=>{"use strict";var tD=require("events"),Mo=require("http"),{Duplex:sj}=require("stream"),{createHash:rD}=require("crypto"),My=Gu(),Yr=$i(),nD=ky(),iD=ko(),{GUID:sD,kWebSocket:oD}=Kt(),aD=/^[+/0-9A-Za-z]{22}==$/,qy=0,Uy=1,By=2,Yu=class extends tD{constructor(t,r){if(super(),t={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:iD,...t},t.port==null&&!t.server&&!t.noServer||t.port!=null&&(t.server||t.noServer)||t.server&&t.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(t.port!=null?(this._server=Mo.createServer((n,i)=>{let s=Mo.STATUS_CODES[426];i.writeHead(426,{"Content-Length":s.length,"Content-Type":"text/plain"}),i.end(s)}),this._server.listen(t.port,t.host,t.backlog,r)):t.server&&(this._server=t.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=lD(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,s,o)=>{this.handleUpgrade(i,s,o,n)}})}t.perMessageDeflate===!0&&(t.perMessageDeflate={}),t.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=t,this._state=qy}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(t){if(this._state===By){t&&this.once("close",()=>{t(new Error("The server is not running"))}),process.nextTick(ji,this);return}if(t&&this.once("close",t),this._state!==Uy)if(this._state=Uy,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(ji,this):process.nextTick(ji,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{ji(this)})}}shouldHandle(t){if(this.options.path){let r=t.url.indexOf("?");if((r!==-1?t.url.slice(0,r):t.url)!==this.options.path)return!1}return!0}handleUpgrade(t,r,n,i){r.on("error",$y);let s=t.headers["sec-websocket-key"],o=t.headers.upgrade,a=+t.headers["sec-websocket-version"];if(t.method!=="GET"){Kr(this,t,r,405,"Invalid HTTP method");return}if(o===void 0||o.toLowerCase()!=="websocket"){Kr(this,t,r,400,"Invalid Upgrade header");return}if(s===void 0||!aD.test(s)){Kr(this,t,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==13&&a!==8){Kr(this,t,r,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});return}if(!this.shouldHandle(t)){Hi(r,400);return}let l=t.headers["sec-websocket-protocol"],c=new Set;if(l!==void 0)try{c=nD.parse(l)}catch{Kr(this,t,r,400,"Invalid Sec-WebSocket-Protocol header");return}let u=t.headers["sec-websocket-extensions"],f={};if(this.options.perMessageDeflate&&u!==void 0){let h=new Yr(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let p=My.parse(u);p[Yr.extensionName]&&(h.accept(p[Yr.extensionName]),f[Yr.extensionName]=h)}catch{Kr(this,t,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let h={origin:t.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(t.socket.authorized||t.socket.encrypted),req:t};if(this.options.verifyClient.length===2){this.options.verifyClient(h,(p,y,w,S)=>{if(!p)return Hi(r,y||401,w,S);this.completeUpgrade(f,s,c,t,r,n,i)});return}if(!this.options.verifyClient(h))return Hi(r,401)}this.completeUpgrade(f,s,c,t,r,n,i)}completeUpgrade(t,r,n,i,s,o,a){if(!s.readable||!s.writable)return s.destroy();if(s[oD])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>qy)return Hi(s,503);let c=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${rD("sha1").update(r+sD).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(n.size){let f=this.options.handleProtocols?this.options.handleProtocols(n,i):n.values().next().value;f&&(c.push(`Sec-WebSocket-Protocol: ${f}`),u._protocol=f)}if(t[Yr.extensionName]){let f=t[Yr.extensionName].params,h=My.format({[Yr.extensionName]:[f]});c.push(`Sec-WebSocket-Extensions: ${h}`),u._extensions=t}this.emit("headers",c,i),s.write(c.concat(`\r
`).join(`\r
`)),s.removeListener("error",$y),u.setSocket(s,o,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(ji,this)})),a(u,i)}};Wy.exports=Yu;function lD(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let n of Object.keys(t))e.removeListener(n,t[n])}}function ji(e){e._state=By,e.emit("close")}function $y(){this.destroy()}function Hi(e,t,r,n){r=r||Mo.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${Mo.STATUS_CODES[t]}\r
`+Object.keys(n).map(i=>`${i}: ${n[i]}`).join(`\r
`)+`\r
\r
`+r)}function Kr(e,t,r,n,i,s){if(e.listenerCount("wsClientError")){let o=new Error(i);Error.captureStackTrace(o,Kr),e.emit("wsClientError",o,r,t)}else Hi(r,n,i,s)}});var Xu=ye(()=>{"use strict"});var iw,sw=ye(()=>{"use strict";iw={Download:"download",Demos:"demos",Matches:"matches",Players:"players",Teams:"teams"}});var Ju,ow=ye(()=>{"use strict";Ju={All:"all",Ranked:"ranked",Unranked:"unranked"}});var aw,lw=ye(()=>{"use strict";aw={All:"all",NotInDatabase:"not-in-database",Pending:"pending",InProgress:"in-progress",InDatabase:"in-database",Error:"error"}});var uw,cw=ye(()=>{"use strict";uw={VirtualDub:"VirtualDub",FFmpeg:"FFmpeg"}});var fw,dw=ye(()=>{"use strict";fw={AVI:"avi",MP4:"mp4",MKV:"mkv"}});var Vi,Qu=ye(()=>{"use strict";Vi={CounterStrike:"CS",HLAE:"HLAE"}});var Uo,Zu=ye(()=>{"use strict";Uo={Images:"images",ImagesAndVideo:"images-and-video",Video:"video"}});var me,Xr=ye(()=>{"use strict";Xu();sw();ow();lw();cw();dw();Qu();Zu();me={schemaVersion:10,autoDownloadUpdates:!0,database:{hostname:"127.0.0.1",port:5432,username:"postgres",password:"password",database:"csdm"},folders:[],demos:{showAllFolders:!1,currentFolderPath:"",sources:[],tagIds:[],types:[],games:[],startDate:void 0,endDate:void 0,analysisStatus:aw.All},pinnedPlayerSteamId:"",steamApiKey:"",faceitApiKey:"",ui:{locale:"en",theme:"dark",initialPage:iw.Matches,redirectDemoToMatch:!1,enableHardwareAcceleration:!0},analyze:{maxConcurrentAnalyses:4,analyzePositions:!1},playback:{width:1024,height:768,fullscreen:!1,useCustomHighlights:!0,useCustomLowlights:!0,highlights:{beforeKillDelayInSeconds:5,afterKillDelayInSeconds:2,includeDamages:!1},lowlights:{beforeKillDelayInSeconds:5,afterKillDelayInSeconds:2,includeDamages:!1},round:{beforeRoundDelayInSeconds:0,afterRoundDelayInSeconds:2},launchParameters:"",useHlae:!1,playerVoicesEnabled:!0,followSymbolicLinks:!1,customCs2SteamRuntimeScriptLocationEnabled:!1,cs2SteamRuntimeScriptPath:""},video:{recordingSystem:Vi.CounterStrike,recordingOutput:Uo.Video,closeGameAfterRecording:!0,concatenateSequences:!1,showXRay:!0,showAssists:!0,showOnlyDeathNotices:!0,deathNoticesDuration:5,playerVoicesEnabled:!0,recordAudio:!0,encoderSoftware:uw.FFmpeg,ffmpegSettings:{audioBitrate:256,constantRateFactor:23,customLocationEnabled:!1,customExecutableLocation:"",videoContainer:fw.AVI,videoCodec:"libx264",audioCodec:"libmp3lame",inputParameters:"",outputParameters:""},framerate:30,height:720,width:1280,outputFolderPath:"",hlae:{customLocationEnabled:!1,customExecutableLocation:"",configFolderEnabled:!1,configFolderPath:""}},playerProfile:{gameModes:[],games:[],demoSources:[],demoTypes:[],ranking:Ju.All,tagIds:[],maxRounds:[],startDate:void 0,endDate:void 0},download:{folderPath:void 0,downloadValveDemosAtStartup:!0,downloadValveDemosInBackground:!0,downloadFaceitDemosAtStartup:!0,downloadFaceitDemosInBackground:!0,download5EPlayDemosAtStartup:!0,download5EPlayDemosInBackground:!0,downloadRenownDemosAtStartup:!0,downloadRenownDemosInBackground:!0},matches:{gameModes:[],demoTypes:[],demoSources:[],games:[],ranking:Ju.All,tagIds:[],maxRounds:[],startDate:void 0,endDate:void 0},players:{bans:[],startDate:void 0,endDate:void 0,tagIds:[]},teams:{startDate:void 0,endDate:void 0},teamProfile:{gameModes:[],games:[],demoSources:[],demoTypes:[],tagIds:[],maxRounds:[],startDate:void 0,endDate:void 0},ban:{ignoreBanBeforeFirstSeen:!0}}});var ww={};Dt(ww,{default:()=>mD});var pD,mD,_w=ye(()=>{"use strict";pD={schemaVersion:1,run:e=>{try{let t=require("electron");if(t){let r=t.app.getLocale();e.ui.locale=r}}catch{}return Promise.resolve(e)}},mD=pD});var vw={};Dt(vw,{default:()=>yD});var gD,yD,Ew=ye(()=>{"use strict";Xr();gD={schemaVersion:2,run:e=>(e.video.ffmpegSettings.videoContainer=me.video.ffmpegSettings.videoContainer,e.playback.round=me.playback.round,Promise.resolve(e))},yD=gD});var Sw={};Dt(Sw,{default:()=>_D});var wD,_D,bw=ye(()=>{"use strict";Xr();wD={schemaVersion:3,run:e=>(e.playback.useHlae=me.playback.useHlae,Promise.resolve(e))},_D=wD});var xw={};Dt(xw,{default:()=>ED});var vD,ED,Cw=ye(()=>{"use strict";Xr();vD={schemaVersion:4,run:e=>(e.teams=me.teams,e.teamProfile=me.teamProfile,e.playback.playerVoicesEnabled=me.playback.playerVoicesEnabled,Promise.resolve(e))},ED=vD});var Aw={};Dt(Aw,{default:()=>bD});var SD,bD,Tw=ye(()=>{"use strict";Xr();SD={schemaVersion:5,run:e=>(e.players.tagIds=me.players.tagIds,e.playback.highlights.includeDamages=me.playback.highlights.includeDamages,e.playback.lowlights.includeDamages=me.playback.lowlights.includeDamages,Promise.resolve(e))},bD=SD});var Ow={};Dt(Ow,{default:()=>CD});var xD,CD,Pw=ye(()=>{"use strict";On();Qu();Zu();xD={schemaVersion:6,run:e=>(e.download.download5EPlayDemosAtStartup=!0,e.download.download5EPlayDemosInBackground=!0,e.video.showXRay=!0,e.video.playerVoicesEnabled=!0,e.ui.redirectDemoToMatch=!1,e.video.recordingSystem=bt?Vi.HLAE:Vi.CounterStrike,e.video.recordingOutput=Uo.Video,Promise.resolve(e))},CD=xD});var Nw={};Dt(Nw,{default:()=>TD});var AD,TD,Dw=ye(()=>{"use strict";AD={schemaVersion:7,run:e=>(e.matches.demoSources=e.matches.sources,delete e.matches.sources,Promise.resolve(e))},TD=AD});var Rw={};Dt(Rw,{default:()=>PD});var OD,PD,Iw=ye(()=>{"use strict";OD={schemaVersion:8,run:e=>(e.matches.demoSources||(e.matches.demoSources=[]),Promise.resolve(e))},PD=OD});var Fw={};Dt(Fw,{default:()=>DD});var ND,DD,Lw=ye(()=>{"use strict";ND={schemaVersion:9,run:e=>(e.video.showAssists=!0,e.playback.followSymbolicLinks=!1,e.playback.customCs2SteamRuntimeScriptLocationEnabled=!1,e.playback.cs2SteamRuntimeScriptPath="",e.ui.enableHardwareAcceleration=!0,Promise.resolve(e))},DD=ND});var kw={};Dt(kw,{default:()=>ID});var RD,ID,Mw=ye(()=>{"use strict";RD={schemaVersion:10,run:e=>(e.video.recordAudio=!0,e.download.downloadRenownDemosAtStartup=!0,e.download.downloadRenownDemosInBackground=!0,Promise.resolve(e))},ID=RD});var Jr=g(_r=>{"use strict";var Bw=Z().fromCallback,et=ge(),LD=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof et[e]=="function");Object.assign(_r,et);LD.forEach(e=>{_r[e]=Bw(et[e])});_r.exists=function(e,t){return typeof t=="function"?et.exists(e,t):new Promise(r=>et.exists(e,r))};_r.read=function(e,t,r,n,i,s){return typeof s=="function"?et.read(e,t,r,n,i,s):new Promise((o,a)=>{et.read(e,t,r,n,i,(l,c,u)=>{if(l)return a(l);o({bytesRead:c,buffer:u})})})};_r.write=function(e,t,...r){return typeof r[r.length-1]=="function"?et.write(e,t,...r):new Promise((n,i)=>{et.write(e,t,...r,(s,o,a)=>{if(s)return i(s);n({bytesWritten:o,buffer:a})})})};typeof et.writev=="function"&&(_r.writev=function(e,t,...r){return typeof r[r.length-1]=="function"?et.writev(e,t,...r):new Promise((n,i)=>{et.writev(e,t,...r,(s,o,a)=>{if(s)return i(s);n({bytesWritten:o,buffers:a})})})});typeof et.realpath.native=="function"?_r.realpath.native=Bw(et.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var Gw=g((WH,Ww)=>{"use strict";var kD=require("path");Ww.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(kD.parse(t).root,""))){let n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}}});var zw=g((GH,ec)=>{"use strict";var jw=Jr(),{checkPath:Hw}=Gw(),Vw=e=>{let t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};ec.exports.makeDir=async(e,t)=>(Hw(e),jw.mkdir(e,{mode:Vw(t),recursive:!0}));ec.exports.makeDirSync=(e,t)=>(Hw(e),jw.mkdirSync(e,{mode:Vw(t),recursive:!0}))});var Tt=g((jH,Yw)=>{"use strict";var MD=Z().fromPromise,{makeDir:qD,makeDirSync:tc}=zw(),rc=MD(qD);Yw.exports={mkdirs:rc,mkdirsSync:tc,mkdirp:rc,mkdirpSync:tc,ensureDir:rc,ensureDirSync:tc}});var vr=g((HH,Xw)=>{"use strict";var UD=Z().fromPromise,Kw=Jr();function $D(e){return Kw.access(e).then(()=>!0).catch(()=>!1)}Xw.exports={pathExists:UD($D),pathExistsSync:Kw.existsSync}});var nc=g((VH,Jw)=>{"use strict";var Gn=ge();function BD(e,t,r,n){Gn.open(e,"r+",(i,s)=>{if(i)return n(i);Gn.futimes(s,t,r,o=>{Gn.close(s,a=>{n&&n(o||a)})})})}function WD(e,t,r){let n=Gn.openSync(e,"r+");return Gn.futimesSync(n,t,r),Gn.closeSync(n)}Jw.exports={utimesMillis:BD,utimesMillisSync:WD}});var Qr=g((zH,e0)=>{"use strict";var jn=Jr(),Ae=require("path"),GD=require("util");function jD(e,t,r){let n=r.dereference?i=>jn.stat(i,{bigint:!0}):i=>jn.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,s])=>({srcStat:i,destStat:s}))}function HD(e,t,r){let n,i=r.dereference?o=>jn.statSync(o,{bigint:!0}):o=>jn.lstatSync(o,{bigint:!0}),s=i(e);try{n=i(t)}catch(o){if(o.code==="ENOENT")return{srcStat:s,destStat:null};throw o}return{srcStat:s,destStat:n}}function VD(e,t,r,n,i){GD.callbackify(jD)(e,t,n,(s,o)=>{if(s)return i(s);let{srcStat:a,destStat:l}=o;if(l){if(Ki(a,l)){let c=Ae.basename(e),u=Ae.basename(t);return r==="move"&&c!==u&&c.toLowerCase()===u.toLowerCase()?i(null,{srcStat:a,destStat:l,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(a.isDirectory()&&!l.isDirectory())return i(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!a.isDirectory()&&l.isDirectory())return i(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return a.isDirectory()&&ic(e,t)?i(new Error($o(e,t,r))):i(null,{srcStat:a,destStat:l})})}function zD(e,t,r,n){let{srcStat:i,destStat:s}=HD(e,t,n);if(s){if(Ki(i,s)){let o=Ae.basename(e),a=Ae.basename(t);if(r==="move"&&o!==a&&o.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&ic(e,t))throw new Error($o(e,t,r));return{srcStat:i,destStat:s}}function Qw(e,t,r,n,i){let s=Ae.resolve(Ae.dirname(e)),o=Ae.resolve(Ae.dirname(r));if(o===s||o===Ae.parse(o).root)return i();jn.stat(o,{bigint:!0},(a,l)=>a?a.code==="ENOENT"?i():i(a):Ki(t,l)?i(new Error($o(e,r,n))):Qw(e,t,o,n,i))}function Zw(e,t,r,n){let i=Ae.resolve(Ae.dirname(e)),s=Ae.resolve(Ae.dirname(r));if(s===i||s===Ae.parse(s).root)return;let o;try{o=jn.statSync(s,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(Ki(t,o))throw new Error($o(e,r,n));return Zw(e,t,s,n)}function Ki(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function ic(e,t){let r=Ae.resolve(e).split(Ae.sep).filter(i=>i),n=Ae.resolve(t).split(Ae.sep).filter(i=>i);return r.reduce((i,s,o)=>i&&n[o]===s,!0)}function $o(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}e0.exports={checkPaths:VD,checkPathsSync:zD,checkParentPaths:Qw,checkParentPathsSync:Zw,isSrcSubdir:ic,areIdentical:Ki}});var l0=g((YH,a0)=>{"use strict";var tt=ge(),Xi=require("path"),YD=Tt().mkdirs,KD=vr().pathExists,XD=nc().utimesMillis,Ji=Qr();function JD(e,t,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),Ji.checkPaths(e,t,"copy",r,(i,s)=>{if(i)return n(i);let{srcStat:o,destStat:a}=s;Ji.checkParentPaths(e,o,t,"copy",l=>l?n(l):r.filter?n0(t0,a,e,t,r,n):t0(a,e,t,r,n))})}function t0(e,t,r,n,i){let s=Xi.dirname(r);KD(s,(o,a)=>{if(o)return i(o);if(a)return Bo(e,t,r,n,i);YD(s,l=>l?i(l):Bo(e,t,r,n,i))})}function n0(e,t,r,n,i,s){Promise.resolve(i.filter(r,n)).then(o=>o?e(t,r,n,i,s):s(),o=>s(o))}function QD(e,t,r,n,i){return n.filter?n0(Bo,e,t,r,n,i):Bo(e,t,r,n,i)}function Bo(e,t,r,n,i){(n.dereference?tt.stat:tt.lstat)(t,(o,a)=>o?i(o):a.isDirectory()?sR(a,e,t,r,n,i):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?ZD(a,e,t,r,n,i):a.isSymbolicLink()?lR(e,t,r,n,i):a.isSocket()?i(new Error(`Cannot copy a socket file: ${t}`)):a.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${t}`)):i(new Error(`Unknown file: ${t}`)))}function ZD(e,t,r,n,i,s){return t?eR(e,r,n,i,s):i0(e,r,n,i,s)}function eR(e,t,r,n,i){if(n.overwrite)tt.unlink(r,s=>s?i(s):i0(e,t,r,n,i));else return n.errorOnExist?i(new Error(`'${r}' already exists`)):i()}function i0(e,t,r,n,i){tt.copyFile(t,r,s=>s?i(s):n.preserveTimestamps?tR(e.mode,t,r,i):Wo(r,e.mode,i))}function tR(e,t,r,n){return rR(e)?nR(r,e,i=>i?n(i):r0(e,t,r,n)):r0(e,t,r,n)}function rR(e){return(e&128)===0}function nR(e,t,r){return Wo(e,t|128,r)}function r0(e,t,r,n){iR(t,r,i=>i?n(i):Wo(r,e,n))}function Wo(e,t,r){return tt.chmod(e,t,r)}function iR(e,t,r){tt.stat(e,(n,i)=>n?r(n):XD(t,i.atime,i.mtime,r))}function sR(e,t,r,n,i,s){return t?s0(r,n,i,s):oR(e.mode,r,n,i,s)}function oR(e,t,r,n,i){tt.mkdir(r,s=>{if(s)return i(s);s0(t,r,n,o=>o?i(o):Wo(r,e,i))})}function s0(e,t,r,n){tt.readdir(e,(i,s)=>i?n(i):o0(s,e,t,r,n))}function o0(e,t,r,n,i){let s=e.pop();return s?aR(e,s,t,r,n,i):i()}function aR(e,t,r,n,i,s){let o=Xi.join(r,t),a=Xi.join(n,t);Ji.checkPaths(o,a,"copy",i,(l,c)=>{if(l)return s(l);let{destStat:u}=c;QD(u,o,a,i,f=>f?s(f):o0(e,r,n,i,s))})}function lR(e,t,r,n,i){tt.readlink(t,(s,o)=>{if(s)return i(s);if(n.dereference&&(o=Xi.resolve(process.cwd(),o)),e)tt.readlink(r,(a,l)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?tt.symlink(o,r,i):i(a):(n.dereference&&(l=Xi.resolve(process.cwd(),l)),Ji.isSrcSubdir(o,l)?i(new Error(`Cannot copy '${o}' to a subdirectory of itself, '${l}'.`)):e.isDirectory()&&Ji.isSrcSubdir(l,o)?i(new Error(`Cannot overwrite '${l}' with '${o}'.`)):uR(o,r,i)));else return tt.symlink(o,r,i)})}function uR(e,t,r){tt.unlink(t,n=>n?r(n):tt.symlink(e,t,r))}a0.exports=JD});var h0=g((KH,d0)=>{"use strict";var Me=ge(),Qi=require("path"),cR=Tt().mkdirsSync,fR=nc().utimesMillisSync,Zi=Qr();function dR(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:n,destStat:i}=Zi.checkPathsSync(e,t,"copy",r);return Zi.checkParentPathsSync(e,n,t,"copy"),hR(i,e,t,r)}function hR(e,t,r,n){if(n.filter&&!n.filter(t,r))return;let i=Qi.dirname(r);return Me.existsSync(i)||cR(i),u0(e,t,r,n)}function pR(e,t,r,n){if(!(n.filter&&!n.filter(t,r)))return u0(e,t,r,n)}function u0(e,t,r,n){let s=(n.dereference?Me.statSync:Me.lstatSync)(t);if(s.isDirectory())return ER(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return mR(s,e,t,r,n);if(s.isSymbolicLink())return xR(e,t,r,n);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function mR(e,t,r,n,i){return t?gR(e,r,n,i):c0(e,r,n,i)}function gR(e,t,r,n){if(n.overwrite)return Me.unlinkSync(r),c0(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function c0(e,t,r,n){return Me.copyFileSync(t,r),n.preserveTimestamps&&yR(e.mode,t,r),sc(r,e.mode)}function yR(e,t,r){return wR(e)&&_R(r,e),vR(t,r)}function wR(e){return(e&128)===0}function _R(e,t){return sc(e,t|128)}function sc(e,t){return Me.chmodSync(e,t)}function vR(e,t){let r=Me.statSync(e);return fR(t,r.atime,r.mtime)}function ER(e,t,r,n,i){return t?f0(r,n,i):SR(e.mode,r,n,i)}function SR(e,t,r,n){return Me.mkdirSync(r),f0(t,r,n),sc(r,e)}function f0(e,t,r){Me.readdirSync(e).forEach(n=>bR(n,e,t,r))}function bR(e,t,r,n){let i=Qi.join(t,e),s=Qi.join(r,e),{destStat:o}=Zi.checkPathsSync(i,s,"copy",n);return pR(o,i,s,n)}function xR(e,t,r,n){let i=Me.readlinkSync(t);if(n.dereference&&(i=Qi.resolve(process.cwd(),i)),e){let s;try{s=Me.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Me.symlinkSync(i,r);throw o}if(n.dereference&&(s=Qi.resolve(process.cwd(),s)),Zi.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(Me.statSync(r).isDirectory()&&Zi.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`);return CR(i,r)}else return Me.symlinkSync(i,r)}function CR(e,t){return Me.unlinkSync(t),Me.symlinkSync(e,t)}d0.exports=dR});var Go=g((XH,p0)=>{"use strict";var AR=Z().fromCallback;p0.exports={copy:AR(l0()),copySync:h0()}});var b0=g((JH,S0)=>{"use strict";var m0=ge(),_0=require("path"),ne=require("assert"),es=process.platform==="win32";function v0(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||m0[r],r=r+"Sync",e[r]=e[r]||m0[r]}),e.maxBusyTries=e.maxBusyTries||3}function oc(e,t,r){let n=0;typeof t=="function"&&(r=t,t={}),ne(e,"rimraf: missing path"),ne.strictEqual(typeof e,"string","rimraf: path should be a string"),ne.strictEqual(typeof r,"function","rimraf: callback function required"),ne(t,"rimraf: invalid options argument provided"),ne.strictEqual(typeof t,"object","rimraf: options should be object"),v0(t),g0(e,t,function i(s){if(s){if((s.code==="EBUSY"||s.code==="ENOTEMPTY"||s.code==="EPERM")&&n<t.maxBusyTries){n++;let o=n*100;return setTimeout(()=>g0(e,t,i),o)}s.code==="ENOENT"&&(s=null)}r(s)})}function g0(e,t,r){ne(e),ne(t),ne(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&es)return y0(e,t,n,r);if(i&&i.isDirectory())return jo(e,t,n,r);t.unlink(e,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return es?y0(e,t,s,r):jo(e,t,s,r);if(s.code==="EISDIR")return jo(e,t,s,r)}return r(s)})})}function y0(e,t,r,n){ne(e),ne(t),ne(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?jo(e,t,r,n):t.unlink(e,n)})})}function w0(e,t,r){let n;ne(e),ne(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?Ho(e,t,r):t.unlinkSync(e)}function jo(e,t,r,n){ne(e),ne(t),ne(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?TR(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function TR(e,t,r){ne(e),ne(t),ne(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let s=i.length,o;if(s===0)return t.rmdir(e,r);i.forEach(a=>{oc(_0.join(e,a),t,l=>{if(!o){if(l)return r(o=l);--s===0&&t.rmdir(e,r)}})})})}function E0(e,t){let r;t=t||{},v0(t),ne(e,"rimraf: missing path"),ne.strictEqual(typeof e,"string","rimraf: path should be a string"),ne(t,"rimraf: missing options"),ne.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&es&&w0(e,t,n)}try{r&&r.isDirectory()?Ho(e,t,null):t.unlinkSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return es?w0(e,t,n):Ho(e,t,n);if(n.code!=="EISDIR")throw n;Ho(e,t,n)}}function Ho(e,t,r){ne(e),ne(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")OR(e,t);else if(n.code!=="ENOENT")throw n}}function OR(e,t){if(ne(e),ne(t),t.readdirSync(e).forEach(r=>E0(_0.join(e,r),t)),es){let r=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-r<500)}else return t.rmdirSync(e,t)}S0.exports=oc;oc.sync=E0});var ts=g((QH,C0)=>{"use strict";var Vo=ge(),PR=Z().fromCallback,x0=b0();function NR(e,t){if(Vo.rm)return Vo.rm(e,{recursive:!0,force:!0},t);x0(e,t)}function DR(e){if(Vo.rmSync)return Vo.rmSync(e,{recursive:!0,force:!0});x0.sync(e)}C0.exports={remove:PR(NR),removeSync:DR}});var I0=g((ZH,R0)=>{"use strict";var RR=Z().fromPromise,O0=Jr(),P0=require("path"),N0=Tt(),D0=ts(),A0=RR(async function(t){let r;try{r=await O0.readdir(t)}catch{return N0.mkdirs(t)}return Promise.all(r.map(n=>D0.remove(P0.join(t,n))))});function T0(e){let t;try{t=O0.readdirSync(e)}catch{return N0.mkdirsSync(e)}t.forEach(r=>{r=P0.join(e,r),D0.removeSync(r)})}R0.exports={emptyDirSync:T0,emptydirSync:T0,emptyDir:A0,emptydir:A0}});var M0=g((e3,k0)=>{"use strict";var IR=Z().fromCallback,F0=require("path"),Er=ge(),L0=Tt();function FR(e,t){function r(){Er.writeFile(e,"",n=>{if(n)return t(n);t()})}Er.stat(e,(n,i)=>{if(!n&&i.isFile())return t();let s=F0.dirname(e);Er.stat(s,(o,a)=>{if(o)return o.code==="ENOENT"?L0.mkdirs(s,l=>{if(l)return t(l);r()}):t(o);a.isDirectory()?r():Er.readdir(s,l=>{if(l)return t(l)})})})}function LR(e){let t;try{t=Er.statSync(e)}catch{}if(t&&t.isFile())return;let r=F0.dirname(e);try{Er.statSync(r).isDirectory()||Er.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")L0.mkdirsSync(r);else throw n}Er.writeFileSync(e,"")}k0.exports={createFile:IR(FR),createFileSync:LR}});var W0=g((t3,B0)=>{"use strict";var kR=Z().fromCallback,q0=require("path"),Sr=ge(),U0=Tt(),MR=vr().pathExists,{areIdentical:$0}=Qr();function qR(e,t,r){function n(i,s){Sr.link(i,s,o=>{if(o)return r(o);r(null)})}Sr.lstat(t,(i,s)=>{Sr.lstat(e,(o,a)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),r(o);if(s&&$0(a,s))return r(null);let l=q0.dirname(t);MR(l,(c,u)=>{if(c)return r(c);if(u)return n(e,t);U0.mkdirs(l,f=>{if(f)return r(f);n(e,t)})})})})}function UR(e,t){let r;try{r=Sr.lstatSync(t)}catch{}try{let s=Sr.lstatSync(e);if(r&&$0(s,r))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}let n=q0.dirname(t);return Sr.existsSync(n)||U0.mkdirsSync(n),Sr.linkSync(e,t)}B0.exports={createLink:kR(qR),createLinkSync:UR}});var j0=g((r3,G0)=>{"use strict";var br=require("path"),rs=ge(),$R=vr().pathExists;function BR(e,t,r){if(br.isAbsolute(e))return rs.lstat(e,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:e,toDst:e}));{let n=br.dirname(t),i=br.join(n,e);return $R(i,(s,o)=>s?r(s):o?r(null,{toCwd:i,toDst:e}):rs.lstat(e,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),r(a)):r(null,{toCwd:e,toDst:br.relative(n,e)})))}}function WR(e,t){let r;if(br.isAbsolute(e)){if(r=rs.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{let n=br.dirname(t),i=br.join(n,e);if(r=rs.existsSync(i),r)return{toCwd:i,toDst:e};if(r=rs.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:br.relative(n,e)}}}G0.exports={symlinkPaths:BR,symlinkPathsSync:WR}});var z0=g((n3,V0)=>{"use strict";var H0=ge();function GR(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);H0.lstat(e,(n,i)=>{if(n)return r(null,"file");t=i&&i.isDirectory()?"dir":"file",r(null,t)})}function jR(e,t){let r;if(t)return t;try{r=H0.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}V0.exports={symlinkType:GR,symlinkTypeSync:jR}});var t_=g((i3,e_)=>{"use strict";var HR=Z().fromCallback,K0=require("path"),Ot=Jr(),X0=Tt(),VR=X0.mkdirs,zR=X0.mkdirsSync,J0=j0(),YR=J0.symlinkPaths,KR=J0.symlinkPathsSync,Q0=z0(),XR=Q0.symlinkType,JR=Q0.symlinkTypeSync,QR=vr().pathExists,{areIdentical:Z0}=Qr();function ZR(e,t,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,Ot.lstat(t,(i,s)=>{!i&&s.isSymbolicLink()?Promise.all([Ot.stat(e),Ot.stat(t)]).then(([o,a])=>{if(Z0(o,a))return n(null);Y0(e,t,r,n)}):Y0(e,t,r,n)})}function Y0(e,t,r,n){YR(e,t,(i,s)=>{if(i)return n(i);e=s.toDst,XR(s.toCwd,r,(o,a)=>{if(o)return n(o);let l=K0.dirname(t);QR(l,(c,u)=>{if(c)return n(c);if(u)return Ot.symlink(e,t,a,n);VR(l,f=>{if(f)return n(f);Ot.symlink(e,t,a,n)})})})})}function e1(e,t,r){let n;try{n=Ot.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){let a=Ot.statSync(e),l=Ot.statSync(t);if(Z0(a,l))return}let i=KR(e,t);e=i.toDst,r=JR(i.toCwd,r);let s=K0.dirname(t);return Ot.existsSync(s)||zR(s),Ot.symlinkSync(e,t,r)}e_.exports={createSymlink:HR(ZR),createSymlinkSync:e1}});var u_=g((s3,l_)=>{"use strict";var{createFile:r_,createFileSync:n_}=M0(),{createLink:i_,createLinkSync:s_}=W0(),{createSymlink:o_,createSymlinkSync:a_}=t_();l_.exports={createFile:r_,createFileSync:n_,ensureFile:r_,ensureFileSync:n_,createLink:i_,createLinkSync:s_,ensureLink:i_,ensureLinkSync:s_,createSymlink:o_,createSymlinkSync:a_,ensureSymlink:o_,ensureSymlinkSync:a_}});var zo=g((o3,c_)=>{function t1(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:i}={}){let s=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+s}function r1(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}c_.exports={stringify:t1,stripBom:r1}});var p_=g((a3,h_)=>{var Hn;try{Hn=ge()}catch{Hn=require("fs")}var Yo=Z(),{stringify:f_,stripBom:d_}=zo();async function n1(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||Hn,n="throws"in t?t.throws:!0,i=await Yo.fromCallback(r.readFile)(e,t);i=d_(i);let s;try{s=JSON.parse(i,t?t.reviver:null)}catch(o){if(n)throw o.message=`${e}: ${o.message}`,o;return null}return s}var i1=Yo.fromPromise(n1);function s1(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||Hn,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=d_(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message=`${e}: ${i.message}`,i;return null}}async function o1(e,t,r={}){let n=r.fs||Hn,i=f_(t,r);await Yo.fromCallback(n.writeFile)(e,i,r)}var a1=Yo.fromPromise(o1);function l1(e,t,r={}){let n=r.fs||Hn,i=f_(t,r);return n.writeFileSync(e,i,r)}var u1={readFile:i1,readFileSync:s1,writeFile:a1,writeFileSync:l1};h_.exports=u1});var g_=g((l3,m_)=>{"use strict";var Ko=p_();m_.exports={readJson:Ko.readFile,readJsonSync:Ko.readFileSync,writeJson:Ko.writeFile,writeJsonSync:Ko.writeFileSync}});var Xo=g((u3,__)=>{"use strict";var c1=Z().fromCallback,ns=ge(),y_=require("path"),w_=Tt(),f1=vr().pathExists;function d1(e,t,r,n){typeof r=="function"&&(n=r,r="utf8");let i=y_.dirname(e);f1(i,(s,o)=>{if(s)return n(s);if(o)return ns.writeFile(e,t,r,n);w_.mkdirs(i,a=>{if(a)return n(a);ns.writeFile(e,t,r,n)})})}function h1(e,...t){let r=y_.dirname(e);if(ns.existsSync(r))return ns.writeFileSync(e,...t);w_.mkdirsSync(r),ns.writeFileSync(e,...t)}__.exports={outputFile:c1(d1),outputFileSync:h1}});var E_=g((c3,v_)=>{"use strict";var{stringify:p1}=zo(),{outputFile:m1}=Xo();async function g1(e,t,r={}){let n=p1(t,r);await m1(e,n,r)}v_.exports=g1});var b_=g((f3,S_)=>{"use strict";var{stringify:y1}=zo(),{outputFileSync:w1}=Xo();function _1(e,t,r){let n=y1(t,r);w1(e,n,r)}S_.exports=_1});var C_=g((d3,x_)=>{"use strict";var v1=Z().fromPromise,He=g_();He.outputJson=v1(E_());He.outputJsonSync=b_();He.outputJSON=He.outputJson;He.outputJSONSync=He.outputJsonSync;He.writeJSON=He.writeJson;He.writeJSONSync=He.writeJsonSync;He.readJSON=He.readJson;He.readJSONSync=He.readJsonSync;x_.exports=He});var N_=g((h3,P_)=>{"use strict";var E1=ge(),lc=require("path"),S1=Go().copy,O_=ts().remove,b1=Tt().mkdirp,x1=vr().pathExists,A_=Qr();function C1(e,t,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};let i=r.overwrite||r.clobber||!1;A_.checkPaths(e,t,"move",r,(s,o)=>{if(s)return n(s);let{srcStat:a,isChangingCase:l=!1}=o;A_.checkParentPaths(e,a,t,"move",c=>{if(c)return n(c);if(A1(t))return T_(e,t,i,l,n);b1(lc.dirname(t),u=>u?n(u):T_(e,t,i,l,n))})})}function A1(e){let t=lc.dirname(e);return lc.parse(t).root===t}function T_(e,t,r,n,i){if(n)return ac(e,t,r,i);if(r)return O_(t,s=>s?i(s):ac(e,t,r,i));x1(t,(s,o)=>s?i(s):o?i(new Error("dest already exists.")):ac(e,t,r,i))}function ac(e,t,r,n){E1.rename(e,t,i=>i?i.code!=="EXDEV"?n(i):T1(e,t,r,n):n())}function T1(e,t,r,n){S1(e,t,{overwrite:r,errorOnExist:!0},s=>s?n(s):O_(e,n))}P_.exports=C1});var L_=g((p3,F_)=>{"use strict";var R_=ge(),cc=require("path"),O1=Go().copySync,I_=ts().removeSync,P1=Tt().mkdirpSync,D_=Qr();function N1(e,t,r){r=r||{};let n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=D_.checkPathsSync(e,t,"move",r);return D_.checkParentPathsSync(e,i,t,"move"),D1(t)||P1(cc.dirname(t)),R1(e,t,n,s)}function D1(e){let t=cc.dirname(e);return cc.parse(t).root===t}function R1(e,t,r,n){if(n)return uc(e,t,r);if(r)return I_(t),uc(e,t,r);if(R_.existsSync(t))throw new Error("dest already exists.");return uc(e,t,r)}function uc(e,t,r){try{R_.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return I1(e,t,r)}}function I1(e,t,r){return O1(e,t,{overwrite:r,errorOnExist:!0}),I_(e)}F_.exports=N1});var M_=g((m3,k_)=>{"use strict";var F1=Z().fromCallback;k_.exports={move:F1(N_()),moveSync:L_()}});var er=g((g3,q_)=>{"use strict";q_.exports={...Jr(),...Go(),...I0(),...u_(),...C_(),...Tt(),...M_(),...Xo(),...vr(),...ts()}});var Jo=g(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.CancellationError=Vn.CancellationToken=void 0;var L1=require("events"),fc=class extends L1.EventEmitter{get cancelled(){return this._cancelled||this._parent!=null&&this._parent.cancelled}set parent(t){this.removeParentCancelHandler(),this._parent=t,this.parentCancelHandler=()=>this.cancel(),this._parent.onCancel(this.parentCancelHandler)}constructor(t){super(),this.parentCancelHandler=null,this._parent=null,this._cancelled=!1,t!=null&&(this.parent=t)}cancel(){this._cancelled=!0,this.emit("cancel")}onCancel(t){this.cancelled?t():this.once("cancel",t)}createPromise(t){if(this.cancelled)return Promise.reject(new is);let r=()=>{if(n!=null)try{this.removeListener("cancel",n),n=null}catch{}},n=null;return new Promise((i,s)=>{let o=null;if(n=()=>{try{o!=null&&(o(),o=null)}finally{s(new is)}},this.cancelled){n();return}this.onCancel(n),t(i,s,a=>{o=a})}).then(i=>(r(),i)).catch(i=>{throw r(),i})}removeParentCancelHandler(){let t=this._parent;t!=null&&this.parentCancelHandler!=null&&(t.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}dispose(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}};Vn.CancellationToken=fc;var is=class extends Error{constructor(){super("cancelled")}};Vn.CancellationError=is});var ss=g(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.newError=k1;function k1(e,t){let r=new Error(e);return r.code=t,r}});var $_=g((_3,U_)=>{var zn=1e3,Yn=zn*60,Kn=Yn*60,Zr=Kn*24,M1=Zr*7,q1=Zr*365.25;U_.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return U1(e);if(r==="number"&&isFinite(e))return t.long?B1(e):$1(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function U1(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*q1;case"weeks":case"week":case"w":return r*M1;case"days":case"day":case"d":return r*Zr;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Kn;case"minutes":case"minute":case"mins":case"min":case"m":return r*Yn;case"seconds":case"second":case"secs":case"sec":case"s":return r*zn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function $1(e){var t=Math.abs(e);return t>=Zr?Math.round(e/Zr)+"d":t>=Kn?Math.round(e/Kn)+"h":t>=Yn?Math.round(e/Yn)+"m":t>=zn?Math.round(e/zn)+"s":e+"ms"}function B1(e){var t=Math.abs(e);return t>=Zr?Qo(e,t,Zr,"day"):t>=Kn?Qo(e,t,Kn,"hour"):t>=Yn?Qo(e,t,Yn,"minute"):t>=zn?Qo(e,t,zn,"second"):e+" ms"}function Qo(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var hc=g((v3,B_)=>{function W1(e){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=a,r.humanize=$_(),r.destroy=c,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let f=0;for(let h=0;h<u.length;h++)f=(f<<5)-f+u.charCodeAt(h),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=t;function r(u){let f,h=null,p,y;function w(...S){if(!w.enabled)return;let x=w,C=Number(new Date),q=C-(f||C);x.diff=q,x.prev=f,x.curr=C,f=C,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let H=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(P,X)=>{if(P==="%%")return"%";H++;let E=r.formatters[X];if(typeof E=="function"){let $=S[H];P=E.call(x,$),S.splice(H,1),H--}return P}),r.formatArgs.call(x,S),(x.log||r.log).apply(x,S)}return w.namespace=u,w.useColors=r.useColors(),w.color=r.selectColor(u),w.extend=n,w.destroy=r.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,y=r.enabled(u)),y),set:S=>{h=S}}),typeof r.init=="function"&&r.init(w),w}function n(u,f){let h=r(this.namespace+(typeof f>"u"?":":f)+u);return h.log=this.log,h}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let f=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let h of f)h[0]==="-"?r.skips.push(h.slice(1)):r.names.push(h)}function s(u,f){let h=0,p=0,y=-1,w=0;for(;h<u.length;)if(p<f.length&&(f[p]===u[h]||f[p]==="*"))f[p]==="*"?(y=p,w=h,p++):(h++,p++);else if(y!==-1)p=y+1,w++,h=w;else return!1;for(;p<f.length&&f[p]==="*";)p++;return p===f.length}function o(){let u=[...r.names,...r.skips.map(f=>"-"+f)].join(",");return r.enable(""),u}function a(u){for(let f of r.skips)if(s(u,f))return!1;for(let f of r.names)if(s(u,f))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}B_.exports=W1});var W_=g((rt,Zo)=>{rt.formatArgs=j1;rt.save=H1;rt.load=V1;rt.useColors=G1;rt.storage=z1();rt.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();rt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function G1(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function j1(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Zo.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}rt.log=console.debug||console.log||(()=>{});function H1(e){try{e?rt.storage.setItem("debug",e):rt.storage.removeItem("debug")}catch{}}function V1(){let e;try{e=rt.storage.getItem("debug")||rt.storage.getItem("DEBUG")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function z1(){try{return localStorage}catch{}}Zo.exports=hc()(rt);var{formatters:Y1}=Zo.exports;Y1.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var j_=g((E3,G_)=>{"use strict";G_.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var z_=g((S3,V_)=>{"use strict";var K1=require("os"),H_=require("tty"),mt=j_(),{env:Te}=process,xr;mt("no-color")||mt("no-colors")||mt("color=false")||mt("color=never")?xr=0:(mt("color")||mt("colors")||mt("color=true")||mt("color=always"))&&(xr=1);"FORCE_COLOR"in Te&&(Te.FORCE_COLOR==="true"?xr=1:Te.FORCE_COLOR==="false"?xr=0:xr=Te.FORCE_COLOR.length===0?1:Math.min(parseInt(Te.FORCE_COLOR,10),3));function pc(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function mc(e,t){if(xr===0)return 0;if(mt("color=16m")||mt("color=full")||mt("color=truecolor"))return 3;if(mt("color=256"))return 2;if(e&&!t&&xr===void 0)return 0;let r=xr||0;if(Te.TERM==="dumb")return r;if(process.platform==="win32"){let n=K1.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Te)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Te)||Te.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Te)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Te.TEAMCITY_VERSION)?1:0;if(Te.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Te){let n=parseInt((Te.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Te.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Te.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Te.TERM)||"COLORTERM"in Te?1:r}function X1(e){let t=mc(e,e&&e.isTTY);return pc(t)}V_.exports={supportsColor:X1,stdout:pc(mc(!0,H_.isatty(1))),stderr:pc(mc(!0,H_.isatty(2)))}});var K_=g((Oe,ta)=>{var J1=require("tty"),ea=require("util");Oe.init=iI;Oe.log=tI;Oe.formatArgs=Z1;Oe.save=rI;Oe.load=nI;Oe.useColors=Q1;Oe.destroy=ea.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Oe.colors=[6,2,3,4,5,1];try{let e=z_();e&&(e.stderr||e).level>=2&&(Oe.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Oe.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function Q1(){return"colors"in Oe.inspectOpts?!!Oe.inspectOpts.colors:J1.isatty(process.stderr.fd)}function Z1(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} \x1B[0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+ta.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=eI()+t+" "+e[0]}function eI(){return Oe.inspectOpts.hideDate?"":new Date().toISOString()+" "}function tI(...e){return process.stderr.write(ea.formatWithOptions(Oe.inspectOpts,...e)+`
`)}function rI(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function nI(){return process.env.DEBUG}function iI(e){e.inspectOpts={};let t=Object.keys(Oe.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Oe.inspectOpts[t[r]]}ta.exports=hc()(Oe);var{formatters:Y_}=ta.exports;Y_.o=function(e){return this.inspectOpts.colors=this.useColors,ea.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};Y_.O=function(e){return this.inspectOpts.colors=this.useColors,ea.inspect(e,this.inspectOpts)}});var X_=g((b3,gc)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?gc.exports=W_():gc.exports=K_()});var wc=g(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.ProgressCallbackTransform=void 0;var sI=require("stream"),yc=class extends sI.Transform{constructor(t,r,n){super(),this.total=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}this.transferred+=t.length,this.delta+=t.length;let i=Date.now();i>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=i+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,t(null)}};ra.ProgressCallbackTransform=yc});var ev=g(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.DigestTransform=Ve.HttpExecutor=Ve.HttpError=void 0;Ve.createHttpError=_c;Ve.parseJson=hI;Ve.configureRequestOptionsFromUrl=Z_;Ve.configureRequestUrl=Ec;Ve.safeGetHeader=Xn;Ve.configureRequestOptions=na;Ve.safeStringifyJson=ia;var oI=require("crypto"),aI=X_(),lI=require("fs"),uI=require("stream"),Q_=require("url"),cI=Jo(),J_=ss(),fI=wc(),os=(0,aI.default)("electron-builder");function _c(e,t=null){return new as(e.statusCode||-1,`${e.statusCode} ${e.statusMessage}`+(t==null?"":`
`+JSON.stringify(t,null,"  "))+`
Headers: `+ia(e.headers),t)}var dI=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]),as=class extends Error{constructor(t,r=`HTTP error: ${dI.get(t)||t}`,n=null){super(r),this.statusCode=t,this.description=n,this.name="HttpError",this.code=`HTTP_ERROR_${t}`}isServerError(){return this.statusCode>=500&&this.statusCode<=599}};Ve.HttpError=as;function hI(e){return e.then(t=>t==null||t.length===0?null:JSON.parse(t))}var vc=class e{constructor(){this.maxRedirects=10}request(t,r=new cI.CancellationToken,n){na(t);let i=n==null?void 0:JSON.stringify(n),s=i?Buffer.from(i):void 0;if(s!=null){os(i);let{headers:o,...a}=t;t={method:"post",headers:{"Content-Type":"application/json","Content-Length":s.length,...o},...a}}return this.doApiRequest(t,r,o=>o.end(s))}doApiRequest(t,r,n,i=0){return os.enabled&&os(`Request: ${ia(t)}`),r.createPromise((s,o,a)=>{let l=this.createRequest(t,c=>{try{this.handleResponse(c,t,r,s,o,i,n)}catch(u){o(u)}});this.addErrorAndTimeoutHandlers(l,o,t.timeout),this.addRedirectHandlers(l,t,o,i,c=>{this.doApiRequest(c,r,n,i).then(s).catch(o)}),n(l,o),a(()=>l.abort())})}addRedirectHandlers(t,r,n,i,s){}addErrorAndTimeoutHandlers(t,r,n=60*1e3){this.addTimeOutHandler(t,r,n),t.on("error",r),t.on("aborted",()=>{r(new Error("Request has been aborted by the server"))})}handleResponse(t,r,n,i,s,o,a){var l;if(os.enabled&&os(`Response: ${t.statusCode} ${t.statusMessage}, request options: ${ia(r)}`),t.statusCode===404){s(_c(t,`method: ${r.method||"GET"} url: ${r.protocol||"https:"}//${r.hostname}${r.port?`:${r.port}`:""}${r.path}

Please double check that your authentication token is correct. Due to security reasons, actual status maybe not reported, but 404.
`));return}else if(t.statusCode===204){i();return}let c=(l=t.statusCode)!==null&&l!==void 0?l:0,u=c>=300&&c<400,f=Xn(t,"location");if(u&&f!=null){if(o>this.maxRedirects){s(this.createMaxRedirectError());return}this.doApiRequest(e.prepareRedirectUrlOptions(f,r),n,a,o).then(i).catch(s);return}t.setEncoding("utf8");let h="";t.on("error",s),t.on("data",p=>h+=p),t.on("end",()=>{try{if(t.statusCode!=null&&t.statusCode>=400){let p=Xn(t,"content-type"),y=p!=null&&(Array.isArray(p)?p.find(w=>w.includes("json"))!=null:p.includes("json"));s(_c(t,`method: ${r.method||"GET"} url: ${r.protocol||"https:"}//${r.hostname}${r.port?`:${r.port}`:""}${r.path}

          Data:
          ${y?JSON.stringify(JSON.parse(h)):h}
          `))}else i(h.length===0?null:h)}catch(p){s(p)}})}async downloadToBuffer(t,r){return await r.cancellationToken.createPromise((n,i,s)=>{let o=[],a={headers:r.headers||void 0,redirect:"manual"};Ec(t,a),na(a),this.doDownload(a,{destination:null,options:r,onCancel:s,callback:l=>{l==null?n(Buffer.concat(o)):i(l)},responseHandler:(l,c)=>{let u=0;l.on("data",f=>{if(u+=f.length,u>524288e3){c(new Error("Maximum allowed size is 500 MB"));return}o.push(f)}),l.on("end",()=>{c(null)})}},0)})}doDownload(t,r,n){let i=this.createRequest(t,s=>{if(s.statusCode>=400){r.callback(new Error(`Cannot download "${t.protocol||"https:"}//${t.hostname}${t.path}", status ${s.statusCode}: ${s.statusMessage}`));return}s.on("error",r.callback);let o=Xn(s,"location");if(o!=null){n<this.maxRedirects?this.doDownload(e.prepareRedirectUrlOptions(o,t),r,n++):r.callback(this.createMaxRedirectError());return}r.responseHandler==null?mI(r,s):r.responseHandler(s,r.callback)});this.addErrorAndTimeoutHandlers(i,r.callback,t.timeout),this.addRedirectHandlers(i,t,r.callback,n,s=>{this.doDownload(s,r,n++)}),i.end()}createMaxRedirectError(){return new Error(`Too many redirects (> ${this.maxRedirects})`)}addTimeOutHandler(t,r,n){t.on("socket",i=>{i.setTimeout(n,()=>{t.abort(),r(new Error("Request timed out"))})})}static prepareRedirectUrlOptions(t,r){let n=Z_(t,{...r}),i=n.headers;if(i?.authorization){let s=new Q_.URL(t);(s.hostname.endsWith(".amazonaws.com")||s.searchParams.has("X-Amz-Credential"))&&delete i.authorization}return n}static retryOnServerError(t,r=3){for(let n=0;;n++)try{return t()}catch(i){if(n<r&&(i instanceof as&&i.isServerError()||i.code==="EPIPE"))continue;throw i}}};Ve.HttpExecutor=vc;function Z_(e,t){let r=na(t);return Ec(new Q_.URL(e),r),r}function Ec(e,t){t.protocol=e.protocol,t.hostname=e.hostname,e.port?t.port=e.port:t.port&&delete t.port,t.path=e.pathname+e.search}var ls=class extends uI.Transform{get actual(){return this._actual}constructor(t,r="sha512",n="base64"){super(),this.expected=t,this.algorithm=r,this.encoding=n,this._actual=null,this.isValidateOnEnd=!0,this.digester=(0,oI.createHash)(r)}_transform(t,r,n){this.digester.update(t),n(null,t)}_flush(t){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(r){t(r);return}t(null)}validate(){if(this._actual==null)throw(0,J_.newError)("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw(0,J_.newError)(`${this.algorithm} checksum mismatch, expected ${this.expected}, got ${this._actual}`,"ERR_CHECKSUM_MISMATCH");return null}};Ve.DigestTransform=ls;function pI(e,t,r){return e!=null&&t!=null&&e!==t?(r(new Error(`checksum mismatch: expected ${t} but got ${e} (X-Checksum-Sha2 header)`)),!1):!0}function Xn(e,t){let r=e.headers[t];return r==null?null:Array.isArray(r)?r.length===0?null:r[r.length-1]:r}function mI(e,t){if(!pI(Xn(t,"X-Checksum-Sha2"),e.options.sha2,e.callback))return;let r=[];if(e.options.onProgress!=null){let o=Xn(t,"content-length");o!=null&&r.push(new fI.ProgressCallbackTransform(parseInt(o,10),e.options.cancellationToken,e.options.onProgress))}let n=e.options.sha512;n!=null?r.push(new ls(n,"sha512",n.length===128&&!n.includes("+")&&!n.includes("Z")&&!n.includes("=")?"hex":"base64")):e.options.sha2!=null&&r.push(new ls(e.options.sha2,"sha256","hex"));let i=(0,lI.createWriteStream)(e.destination);r.push(i);let s=t;for(let o of r)o.on("error",a=>{i.close(),e.options.cancellationToken.cancelled||e.callback(a)}),s=s.pipe(o);i.on("finish",()=>{i.close(e.callback)})}function na(e,t,r){r!=null&&(e.method=r),e.headers={...e.headers};let n=e.headers;return t!=null&&(n.authorization=t.startsWith("Basic")||t.startsWith("Bearer")?t:`token ${t}`),n["User-Agent"]==null&&(n["User-Agent"]="electron-builder"),(r==null||r==="GET"||n["Cache-Control"]==null)&&(n["Cache-Control"]="no-cache"),e.protocol==null&&process.versions.electron!=null&&(e.protocol="https:"),e}function ia(e,t){return JSON.stringify(e,(r,n)=>r.endsWith("Authorization")||r.endsWith("authorization")||r.endsWith("Password")||r.endsWith("PASSWORD")||r.endsWith("Token")||r.includes("password")||r.includes("token")||t!=null&&t.has(r)?"<stripped sensitive data>":n,2)}});var rv=g(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.MemoLazy=void 0;var Sc=class{constructor(t,r){this.selector=t,this.creator=r,this.selected=void 0,this._value=void 0}get hasValue(){return this._value!==void 0}get value(){let t=this.selector();if(this._value!==void 0&&tv(this.selected,t))return this._value;this.selected=t;let r=this.creator(t);return this.value=r,r}set value(t){this._value=t}};sa.MemoLazy=Sc;function tv(e,t){if(typeof e=="object"&&e!==null&&(typeof t=="object"&&t!==null)){let i=Object.keys(e),s=Object.keys(t);return i.length===s.length&&i.every(o=>tv(e[o],t[o]))}return e===t}});var iv=g(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.githubUrl=gI;oa.getS3LikeProviderBaseUrl=yI;function gI(e,t="github.com"){return`${e.protocol||"https"}://${e.host||t}`}function yI(e){let t=e.provider;if(t==="s3")return wI(e);if(t==="spaces")return _I(e);throw new Error(`Not supported provider: ${t}`)}function wI(e){let t;if(e.accelerate==!0)t=`https://${e.bucket}.s3-accelerate.amazonaws.com`;else if(e.endpoint!=null)t=`${e.endpoint}/${e.bucket}`;else if(e.bucket.includes(".")){if(e.region==null)throw new Error(`Bucket name "${e.bucket}" includes a dot, but S3 region is missing`);e.region==="us-east-1"?t=`https://s3.amazonaws.com/${e.bucket}`:t=`https://s3-${e.region}.amazonaws.com/${e.bucket}`}else e.region==="cn-north-1"?t=`https://${e.bucket}.s3.${e.region}.amazonaws.com.cn`:t=`https://${e.bucket}.s3.amazonaws.com`;return nv(t,e.path)}function nv(e,t){return t!=null&&t.length>0&&(t.startsWith("/")||(e+="/"),e+=t),e}function _I(e){if(e.name==null)throw new Error("name is missing");if(e.region==null)throw new Error("region is missing");return nv(`https://${e.name}.${e.region}.digitaloceanspaces.com`,e.path)}});var ov=g(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.retry=sv;var vI=Jo();async function sv(e,t,r,n=0,i=0,s){var o;let a=new vI.CancellationToken;try{return await e()}catch(l){if((!((o=s?.(l))!==null&&o!==void 0)||o)&&t>0&&!a.cancelled)return await new Promise(c=>setTimeout(c,r+n*i)),await sv(e,t-1,r,n,i+1,s);throw l}}});var av=g(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.parseDn=EI;function EI(e){let t=!1,r=null,n="",i=0;e=e.trim();let s=new Map;for(let o=0;o<=e.length;o++){if(o===e.length){r!==null&&s.set(r,n);break}let a=e[o];if(t){if(a==='"'){t=!1;continue}}else{if(a==='"'){t=!0;continue}if(a==="\\"){o++;let l=parseInt(e.slice(o,o+2),16);Number.isNaN(l)?n+=e[o]:(o++,n+=String.fromCharCode(l));continue}if(r===null&&a==="="){r=n,n="";continue}if(a===","||a===";"||a==="+"){r!==null&&s.set(r,n),r=null,n="";continue}}if(a===" "&&!t){if(n.length===0)continue;if(o>i){let l=o;for(;e[l]===" ";)l++;i=l}if(i>=e.length||e[i]===","||e[i]===";"||r===null&&e[i]==="="||r!==null&&e[i]==="+"){o=i-1;continue}}n+=a}return s}});var dv=g(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.nil=Jn.UUID=void 0;var cv=require("crypto"),fv=ss(),SI="options.name must be either a string or a Buffer",lv=(0,cv.randomBytes)(16);lv[0]=lv[0]|1;var aa={},J=[];for(let e=0;e<256;e++){let t=(e+256).toString(16).substr(1);aa[t]=e,J[e]=t}var en=class e{constructor(t){this.ascii=null,this.binary=null;let r=e.check(t);if(!r)throw new Error("not a UUID");this.version=r.version,r.format==="ascii"?this.ascii=t:this.binary=t}static v5(t,r){return bI(t,"sha1",80,r)}toString(){return this.ascii==null&&(this.ascii=xI(this.binary)),this.ascii}inspect(){return`UUID v${this.version} ${this.toString()}`}static check(t,r=0){if(typeof t=="string")return t=t.toLowerCase(),/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(t)?t==="00000000-0000-0000-0000-000000000000"?{version:void 0,variant:"nil",format:"ascii"}:{version:(aa[t[14]+t[15]]&240)>>4,variant:uv((aa[t[19]+t[20]]&224)>>5),format:"ascii"}:!1;if(Buffer.isBuffer(t)){if(t.length<r+16)return!1;let n=0;for(;n<16&&t[r+n]===0;n++);return n===16?{version:void 0,variant:"nil",format:"binary"}:{version:(t[r+6]&240)>>4,variant:uv((t[r+8]&224)>>5),format:"binary"}}throw(0,fv.newError)("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}static parse(t){let r=Buffer.allocUnsafe(16),n=0;for(let i=0;i<16;i++)r[i]=aa[t[n++]+t[n++]],(i===3||i===5||i===7||i===9)&&(n+=1);return r}};Jn.UUID=en;en.OID=en.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8");function uv(e){switch(e){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}var us;(function(e){e[e.ASCII=0]="ASCII",e[e.BINARY=1]="BINARY",e[e.OBJECT=2]="OBJECT"})(us||(us={}));function bI(e,t,r,n,i=us.ASCII){let s=(0,cv.createHash)(t);if(typeof e!="string"&&!Buffer.isBuffer(e))throw(0,fv.newError)(SI,"ERR_INVALID_UUID_NAME");s.update(n),s.update(e);let a=s.digest(),l;switch(i){case us.BINARY:a[6]=a[6]&15|r,a[8]=a[8]&63|128,l=a;break;case us.OBJECT:a[6]=a[6]&15|r,a[8]=a[8]&63|128,l=new en(a);break;default:l=J[a[0]]+J[a[1]]+J[a[2]]+J[a[3]]+"-"+J[a[4]]+J[a[5]]+"-"+J[a[6]&15|r]+J[a[7]]+"-"+J[a[8]&63|128]+J[a[9]]+"-"+J[a[10]]+J[a[11]]+J[a[12]]+J[a[13]]+J[a[14]]+J[a[15]];break}return l}function xI(e){return J[e[0]]+J[e[1]]+J[e[2]]+J[e[3]]+"-"+J[e[4]]+J[e[5]]+"-"+J[e[6]]+J[e[7]]+"-"+J[e[8]]+J[e[9]]+"-"+J[e[10]]+J[e[11]]+J[e[12]]+J[e[13]]+J[e[14]]+J[e[15]]}Jn.nil=new en("00000000-0000-0000-0000-000000000000")});var hv=g(la=>{(function(e){e.parser=function(m,d){return new r(m,d)},e.SAXParser=r,e.SAXStream=c,e.createStream=l,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(m,d){if(!(this instanceof r))return new r(m,d);var A=this;i(A),A.q=A.c="",A.bufferCheckPosition=e.MAX_BUFFER_LENGTH,A.opt=d||{},A.opt.lowercase=A.opt.lowercase||A.opt.lowercasetags,A.looseCase=A.opt.lowercase?"toLowerCase":"toUpperCase",A.tags=[],A.closed=A.closedRoot=A.sawRoot=!1,A.tag=A.error=null,A.strict=!!m,A.noscript=!!(m||A.opt.noscript),A.state=E.BEGIN,A.strictEntities=A.opt.strictEntities,A.ENTITIES=A.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),A.attribList=[],A.opt.xmlns&&(A.ns=Object.create(y)),A.opt.unquotedAttributeValues===void 0&&(A.opt.unquotedAttributeValues=!m),A.trackPosition=A.opt.position!==!1,A.trackPosition&&(A.position=A.line=A.column=0),v(A,"onready")}Object.create||(Object.create=function(m){function d(){}d.prototype=m;var A=new d;return A}),Object.keys||(Object.keys=function(m){var d=[];for(var A in m)m.hasOwnProperty(A)&&d.push(A);return d});function n(m){for(var d=Math.max(e.MAX_BUFFER_LENGTH,10),A=0,_=0,Q=t.length;_<Q;_++){var Se=m[t[_]].length;if(Se>d)switch(t[_]){case"textNode":O(m);break;case"cdata":b(m,"oncdata",m.cdata),m.cdata="";break;case"script":b(m,"onscript",m.script),m.script="";break;default:M(m,"Max buffer length exceeded: "+t[_])}A=Math.max(A,Se)}var be=e.MAX_BUFFER_LENGTH-A;m.bufferCheckPosition=be+m.position}function i(m){for(var d=0,A=t.length;d<A;d++)m[t[d]]=""}function s(m){O(m),m.cdata!==""&&(b(m,"oncdata",m.cdata),m.cdata=""),m.script!==""&&(b(m,"onscript",m.script),m.script="")}r.prototype={end:function(){R(this)},write:st,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var o;try{o=require("stream").Stream}catch{o=function(){}}o||(o=function(){});var a=e.EVENTS.filter(function(m){return m!=="error"&&m!=="end"});function l(m,d){return new c(m,d)}function c(m,d){if(!(this instanceof c))return new c(m,d);o.apply(this),this._parser=new r(m,d),this.writable=!0,this.readable=!0;var A=this;this._parser.onend=function(){A.emit("end")},this._parser.onerror=function(_){A.emit("error",_),A._parser.error=null},this._decoder=null,a.forEach(function(_){Object.defineProperty(A,"on"+_,{get:function(){return A._parser["on"+_]},set:function(Q){if(!Q)return A.removeAllListeners(_),A._parser["on"+_]=Q,Q;A.on(_,Q)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(o.prototype,{constructor:{value:c}}),c.prototype.write=function(m){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(m)){if(!this._decoder){var d=require("string_decoder").StringDecoder;this._decoder=new d("utf8")}m=this._decoder.write(m)}return this._parser.write(m.toString()),this.emit("data",m),!0},c.prototype.end=function(m){return m&&m.length&&this.write(m),this._parser.end(),!0},c.prototype.on=function(m,d){var A=this;return!A._parser["on"+m]&&a.indexOf(m)!==-1&&(A._parser["on"+m]=function(){var _=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);_.splice(0,0,m),A.emit.apply(A,_)}),o.prototype.on.call(A,m,d)};var u="[CDATA[",f="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",y={xml:h,xmlns:p},w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,x=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,C=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function q(m){return m===" "||m===`
`||m==="\r"||m==="	"}function H(m){return m==='"'||m==="'"}function de(m){return m===">"||q(m)}function P(m,d){return m.test(d)}function X(m,d){return!P(m,d)}var E=0;e.STATE={BEGIN:E++,BEGIN_WHITESPACE:E++,TEXT:E++,TEXT_ENTITY:E++,OPEN_WAKA:E++,SGML_DECL:E++,SGML_DECL_QUOTED:E++,DOCTYPE:E++,DOCTYPE_QUOTED:E++,DOCTYPE_DTD:E++,DOCTYPE_DTD_QUOTED:E++,COMMENT_STARTING:E++,COMMENT:E++,COMMENT_ENDING:E++,COMMENT_ENDED:E++,CDATA:E++,CDATA_ENDING:E++,CDATA_ENDING_2:E++,PROC_INST:E++,PROC_INST_BODY:E++,PROC_INST_ENDING:E++,OPEN_TAG:E++,OPEN_TAG_SLASH:E++,ATTRIB:E++,ATTRIB_NAME:E++,ATTRIB_NAME_SAW_WHITE:E++,ATTRIB_VALUE:E++,ATTRIB_VALUE_QUOTED:E++,ATTRIB_VALUE_CLOSED:E++,ATTRIB_VALUE_UNQUOTED:E++,ATTRIB_VALUE_ENTITY_Q:E++,ATTRIB_VALUE_ENTITY_U:E++,CLOSE_TAG:E++,CLOSE_TAG_SAW_WHITE:E++,SCRIPT:E++,SCRIPT_ENDING:E++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(m){var d=e.ENTITIES[m],A=typeof d=="number"?String.fromCharCode(d):d;e.ENTITIES[m]=A});for(var $ in e.STATE)e.STATE[e.STATE[$]]=$;E=e.STATE;function v(m,d,A){m[d]&&m[d](A)}function b(m,d,A){m.textNode&&O(m),v(m,d,A)}function O(m){m.textNode=I(m.opt,m.textNode),m.textNode&&v(m,"ontext",m.textNode),m.textNode=""}function I(m,d){return m.trim&&(d=d.trim()),m.normalize&&(d=d.replace(/\s+/g," ")),d}function M(m,d){return O(m),m.trackPosition&&(d+=`
Line: `+m.line+`
Column: `+m.column+`
Char: `+m.c),d=new Error(d),m.error=d,v(m,"onerror",d),m}function R(m){return m.sawRoot&&!m.closedRoot&&T(m,"Unclosed root tag"),m.state!==E.BEGIN&&m.state!==E.BEGIN_WHITESPACE&&m.state!==E.TEXT&&M(m,"Unexpected end"),O(m),m.c="",m.closed=!0,v(m,"onend"),r.call(m,m.strict,m.opt),m}function T(m,d){if(typeof m!="object"||!(m instanceof r))throw new Error("bad call to strictFail");m.strict&&M(m,d)}function j(m){m.strict||(m.tagName=m.tagName[m.looseCase]());var d=m.tags[m.tags.length-1]||m,A=m.tag={name:m.tagName,attributes:{}};m.opt.xmlns&&(A.ns=d.ns),m.attribList.length=0,b(m,"onopentagstart",A)}function W(m,d){var A=m.indexOf(":"),_=A<0?["",m]:m.split(":"),Q=_[0],Se=_[1];return d&&m==="xmlns"&&(Q="xmlns",Se=""),{prefix:Q,local:Se}}function F(m){if(m.strict||(m.attribName=m.attribName[m.looseCase]()),m.attribList.indexOf(m.attribName)!==-1||m.tag.attributes.hasOwnProperty(m.attribName)){m.attribName=m.attribValue="";return}if(m.opt.xmlns){var d=W(m.attribName,!0),A=d.prefix,_=d.local;if(A==="xmlns")if(_==="xml"&&m.attribValue!==h)T(m,"xml: prefix must be bound to "+h+`
Actual: `+m.attribValue);else if(_==="xmlns"&&m.attribValue!==p)T(m,"xmlns: prefix must be bound to "+p+`
Actual: `+m.attribValue);else{var Q=m.tag,Se=m.tags[m.tags.length-1]||m;Q.ns===Se.ns&&(Q.ns=Object.create(Se.ns)),Q.ns[_]=m.attribValue}m.attribList.push([m.attribName,m.attribValue])}else m.tag.attributes[m.attribName]=m.attribValue,b(m,"onattribute",{name:m.attribName,value:m.attribValue});m.attribName=m.attribValue=""}function ie(m,d){if(m.opt.xmlns){var A=m.tag,_=W(m.tagName);A.prefix=_.prefix,A.local=_.local,A.uri=A.ns[_.prefix]||"",A.prefix&&!A.uri&&(T(m,"Unbound namespace prefix: "+JSON.stringify(m.tagName)),A.uri=_.prefix);var Q=m.tags[m.tags.length-1]||m;A.ns&&Q.ns!==A.ns&&Object.keys(A.ns).forEach(function(kd){b(m,"onopennamespace",{prefix:kd,uri:A.ns[kd]})});for(var Se=0,be=m.attribList.length;Se<be;Se++){var Je=m.attribList[Se],Qe=Je[0],yn=Je[1],Ne=W(Qe,!0),Bt=Ne.prefix,_C=Ne.local,Ld=Bt===""?"":A.ns[Bt]||"",gl={name:Qe,value:yn,prefix:Bt,local:_C,uri:Ld};Bt&&Bt!=="xmlns"&&!Ld&&(T(m,"Unbound namespace prefix: "+JSON.stringify(Bt)),gl.uri=Bt),m.tag.attributes[Qe]=gl,b(m,"onattribute",gl)}m.attribList.length=0}m.tag.isSelfClosing=!!d,m.sawRoot=!0,m.tags.push(m.tag),b(m,"onopentag",m.tag),d||(!m.noscript&&m.tagName.toLowerCase()==="script"?m.state=E.SCRIPT:m.state=E.TEXT,m.tag=null,m.tagName=""),m.attribName=m.attribValue="",m.attribList.length=0}function wt(m){if(!m.tagName){T(m,"Weird empty close tag."),m.textNode+="</>",m.state=E.TEXT;return}if(m.script){if(m.tagName!=="script"){m.script+="</"+m.tagName+">",m.tagName="",m.state=E.SCRIPT;return}b(m,"onscript",m.script),m.script=""}var d=m.tags.length,A=m.tagName;m.strict||(A=A[m.looseCase]());for(var _=A;d--;){var Q=m.tags[d];if(Q.name!==_)T(m,"Unexpected close tag");else break}if(d<0){T(m,"Unmatched closing tag: "+m.tagName),m.textNode+="</"+m.tagName+">",m.state=E.TEXT;return}m.tagName=A;for(var Se=m.tags.length;Se-- >d;){var be=m.tag=m.tags.pop();m.tagName=m.tag.name,b(m,"onclosetag",m.tagName);var Je={};for(var Qe in be.ns)Je[Qe]=be.ns[Qe];var yn=m.tags[m.tags.length-1]||m;m.opt.xmlns&&be.ns!==yn.ns&&Object.keys(be.ns).forEach(function(Ne){var Bt=be.ns[Ne];b(m,"onclosenamespace",{prefix:Ne,uri:Bt})})}d===0&&(m.closedRoot=!0),m.tagName=m.attribValue=m.attribName="",m.attribList.length=0,m.state=E.TEXT}function Ut(m){var d=m.entity,A=d.toLowerCase(),_,Q="";return m.ENTITIES[d]?m.ENTITIES[d]:m.ENTITIES[A]?m.ENTITIES[A]:(d=A,d.charAt(0)==="#"&&(d.charAt(1)==="x"?(d=d.slice(2),_=parseInt(d,16),Q=_.toString(16)):(d=d.slice(1),_=parseInt(d,10),Q=_.toString(10))),d=d.replace(/^0+/,""),isNaN(_)||Q.toLowerCase()!==d?(T(m,"Invalid character entity"),"&"+m.entity+";"):String.fromCodePoint(_))}function Nt(m,d){d==="<"?(m.state=E.OPEN_WAKA,m.startTagPosition=m.position):q(d)||(T(m,"Non-whitespace before first tag."),m.textNode=d,m.state=E.TEXT)}function $t(m,d){var A="";return d<m.length&&(A=m.charAt(d)),A}function st(m){var d=this;if(this.error)throw this.error;if(d.closed)return M(d,"Cannot write after close. Assign an onready handler.");if(m===null)return R(d);typeof m=="object"&&(m=m.toString());for(var A=0,_="";_=$t(m,A++),d.c=_,!!_;)switch(d.trackPosition&&(d.position++,_===`
`?(d.line++,d.column=0):d.column++),d.state){case E.BEGIN:if(d.state=E.BEGIN_WHITESPACE,_==="\uFEFF")continue;Nt(d,_);continue;case E.BEGIN_WHITESPACE:Nt(d,_);continue;case E.TEXT:if(d.sawRoot&&!d.closedRoot){for(var Q=A-1;_&&_!=="<"&&_!=="&";)_=$t(m,A++),_&&d.trackPosition&&(d.position++,_===`
`?(d.line++,d.column=0):d.column++);d.textNode+=m.substring(Q,A-1)}_==="<"&&!(d.sawRoot&&d.closedRoot&&!d.strict)?(d.state=E.OPEN_WAKA,d.startTagPosition=d.position):(!q(_)&&(!d.sawRoot||d.closedRoot)&&T(d,"Text data outside of root node."),_==="&"?d.state=E.TEXT_ENTITY:d.textNode+=_);continue;case E.SCRIPT:_==="<"?d.state=E.SCRIPT_ENDING:d.script+=_;continue;case E.SCRIPT_ENDING:_==="/"?d.state=E.CLOSE_TAG:(d.script+="<"+_,d.state=E.SCRIPT);continue;case E.OPEN_WAKA:if(_==="!")d.state=E.SGML_DECL,d.sgmlDecl="";else if(!q(_))if(P(w,_))d.state=E.OPEN_TAG,d.tagName=_;else if(_==="/")d.state=E.CLOSE_TAG,d.tagName="";else if(_==="?")d.state=E.PROC_INST,d.procInstName=d.procInstBody="";else{if(T(d,"Unencoded <"),d.startTagPosition+1<d.position){var Se=d.position-d.startTagPosition;_=new Array(Se).join(" ")+_}d.textNode+="<"+_,d.state=E.TEXT}continue;case E.SGML_DECL:if(d.sgmlDecl+_==="--"){d.state=E.COMMENT,d.comment="",d.sgmlDecl="";continue}d.doctype&&d.doctype!==!0&&d.sgmlDecl?(d.state=E.DOCTYPE_DTD,d.doctype+="<!"+d.sgmlDecl+_,d.sgmlDecl=""):(d.sgmlDecl+_).toUpperCase()===u?(b(d,"onopencdata"),d.state=E.CDATA,d.sgmlDecl="",d.cdata=""):(d.sgmlDecl+_).toUpperCase()===f?(d.state=E.DOCTYPE,(d.doctype||d.sawRoot)&&T(d,"Inappropriately located doctype declaration"),d.doctype="",d.sgmlDecl=""):_===">"?(b(d,"onsgmldeclaration",d.sgmlDecl),d.sgmlDecl="",d.state=E.TEXT):(H(_)&&(d.state=E.SGML_DECL_QUOTED),d.sgmlDecl+=_);continue;case E.SGML_DECL_QUOTED:_===d.q&&(d.state=E.SGML_DECL,d.q=""),d.sgmlDecl+=_;continue;case E.DOCTYPE:_===">"?(d.state=E.TEXT,b(d,"ondoctype",d.doctype),d.doctype=!0):(d.doctype+=_,_==="["?d.state=E.DOCTYPE_DTD:H(_)&&(d.state=E.DOCTYPE_QUOTED,d.q=_));continue;case E.DOCTYPE_QUOTED:d.doctype+=_,_===d.q&&(d.q="",d.state=E.DOCTYPE);continue;case E.DOCTYPE_DTD:_==="]"?(d.doctype+=_,d.state=E.DOCTYPE):_==="<"?(d.state=E.OPEN_WAKA,d.startTagPosition=d.position):H(_)?(d.doctype+=_,d.state=E.DOCTYPE_DTD_QUOTED,d.q=_):d.doctype+=_;continue;case E.DOCTYPE_DTD_QUOTED:d.doctype+=_,_===d.q&&(d.state=E.DOCTYPE_DTD,d.q="");continue;case E.COMMENT:_==="-"?d.state=E.COMMENT_ENDING:d.comment+=_;continue;case E.COMMENT_ENDING:_==="-"?(d.state=E.COMMENT_ENDED,d.comment=I(d.opt,d.comment),d.comment&&b(d,"oncomment",d.comment),d.comment=""):(d.comment+="-"+_,d.state=E.COMMENT);continue;case E.COMMENT_ENDED:_!==">"?(T(d,"Malformed comment"),d.comment+="--"+_,d.state=E.COMMENT):d.doctype&&d.doctype!==!0?d.state=E.DOCTYPE_DTD:d.state=E.TEXT;continue;case E.CDATA:_==="]"?d.state=E.CDATA_ENDING:d.cdata+=_;continue;case E.CDATA_ENDING:_==="]"?d.state=E.CDATA_ENDING_2:(d.cdata+="]"+_,d.state=E.CDATA);continue;case E.CDATA_ENDING_2:_===">"?(d.cdata&&b(d,"oncdata",d.cdata),b(d,"onclosecdata"),d.cdata="",d.state=E.TEXT):_==="]"?d.cdata+="]":(d.cdata+="]]"+_,d.state=E.CDATA);continue;case E.PROC_INST:_==="?"?d.state=E.PROC_INST_ENDING:q(_)?d.state=E.PROC_INST_BODY:d.procInstName+=_;continue;case E.PROC_INST_BODY:if(!d.procInstBody&&q(_))continue;_==="?"?d.state=E.PROC_INST_ENDING:d.procInstBody+=_;continue;case E.PROC_INST_ENDING:_===">"?(b(d,"onprocessinginstruction",{name:d.procInstName,body:d.procInstBody}),d.procInstName=d.procInstBody="",d.state=E.TEXT):(d.procInstBody+="?"+_,d.state=E.PROC_INST_BODY);continue;case E.OPEN_TAG:P(S,_)?d.tagName+=_:(j(d),_===">"?ie(d):_==="/"?d.state=E.OPEN_TAG_SLASH:(q(_)||T(d,"Invalid character in tag name"),d.state=E.ATTRIB));continue;case E.OPEN_TAG_SLASH:_===">"?(ie(d,!0),wt(d)):(T(d,"Forward-slash in opening tag not followed by >"),d.state=E.ATTRIB);continue;case E.ATTRIB:if(q(_))continue;_===">"?ie(d):_==="/"?d.state=E.OPEN_TAG_SLASH:P(w,_)?(d.attribName=_,d.attribValue="",d.state=E.ATTRIB_NAME):T(d,"Invalid attribute name");continue;case E.ATTRIB_NAME:_==="="?d.state=E.ATTRIB_VALUE:_===">"?(T(d,"Attribute without value"),d.attribValue=d.attribName,F(d),ie(d)):q(_)?d.state=E.ATTRIB_NAME_SAW_WHITE:P(S,_)?d.attribName+=_:T(d,"Invalid attribute name");continue;case E.ATTRIB_NAME_SAW_WHITE:if(_==="=")d.state=E.ATTRIB_VALUE;else{if(q(_))continue;T(d,"Attribute without value"),d.tag.attributes[d.attribName]="",d.attribValue="",b(d,"onattribute",{name:d.attribName,value:""}),d.attribName="",_===">"?ie(d):P(w,_)?(d.attribName=_,d.state=E.ATTRIB_NAME):(T(d,"Invalid attribute name"),d.state=E.ATTRIB)}continue;case E.ATTRIB_VALUE:if(q(_))continue;H(_)?(d.q=_,d.state=E.ATTRIB_VALUE_QUOTED):(d.opt.unquotedAttributeValues||M(d,"Unquoted attribute value"),d.state=E.ATTRIB_VALUE_UNQUOTED,d.attribValue=_);continue;case E.ATTRIB_VALUE_QUOTED:if(_!==d.q){_==="&"?d.state=E.ATTRIB_VALUE_ENTITY_Q:d.attribValue+=_;continue}F(d),d.q="",d.state=E.ATTRIB_VALUE_CLOSED;continue;case E.ATTRIB_VALUE_CLOSED:q(_)?d.state=E.ATTRIB:_===">"?ie(d):_==="/"?d.state=E.OPEN_TAG_SLASH:P(w,_)?(T(d,"No whitespace between attributes"),d.attribName=_,d.attribValue="",d.state=E.ATTRIB_NAME):T(d,"Invalid attribute name");continue;case E.ATTRIB_VALUE_UNQUOTED:if(!de(_)){_==="&"?d.state=E.ATTRIB_VALUE_ENTITY_U:d.attribValue+=_;continue}F(d),_===">"?ie(d):d.state=E.ATTRIB;continue;case E.CLOSE_TAG:if(d.tagName)_===">"?wt(d):P(S,_)?d.tagName+=_:d.script?(d.script+="</"+d.tagName,d.tagName="",d.state=E.SCRIPT):(q(_)||T(d,"Invalid tagname in closing tag"),d.state=E.CLOSE_TAG_SAW_WHITE);else{if(q(_))continue;X(w,_)?d.script?(d.script+="</"+_,d.state=E.SCRIPT):T(d,"Invalid tagname in closing tag."):d.tagName=_}continue;case E.CLOSE_TAG_SAW_WHITE:if(q(_))continue;_===">"?wt(d):T(d,"Invalid characters in closing tag");continue;case E.TEXT_ENTITY:case E.ATTRIB_VALUE_ENTITY_Q:case E.ATTRIB_VALUE_ENTITY_U:var be,Je;switch(d.state){case E.TEXT_ENTITY:be=E.TEXT,Je="textNode";break;case E.ATTRIB_VALUE_ENTITY_Q:be=E.ATTRIB_VALUE_QUOTED,Je="attribValue";break;case E.ATTRIB_VALUE_ENTITY_U:be=E.ATTRIB_VALUE_UNQUOTED,Je="attribValue";break}if(_===";"){var Qe=Ut(d);d.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(Qe)?(d.entity="",d.state=be,d.write(Qe)):(d[Je]+=Qe,d.entity="",d.state=be)}else P(d.entity.length?C:x,_)?d.entity+=_:(T(d,"Invalid character in entity name"),d[Je]+="&"+d.entity+_,d.entity="",d.state=be);continue;default:throw new Error(d,"Unknown state: "+d.state)}return d.position>=d.bufferCheckPosition&&n(d),d}String.fromCodePoint||(function(){var m=String.fromCharCode,d=Math.floor,A=function(){var _=16384,Q=[],Se,be,Je=-1,Qe=arguments.length;if(!Qe)return"";for(var yn="";++Je<Qe;){var Ne=Number(arguments[Je]);if(!isFinite(Ne)||Ne<0||Ne>1114111||d(Ne)!==Ne)throw RangeError("Invalid code point: "+Ne);Ne<=65535?Q.push(Ne):(Ne-=65536,Se=(Ne>>10)+55296,be=Ne%1024+56320,Q.push(Se,be)),(Je+1===Qe||Q.length>_)&&(yn+=m.apply(null,Q),Q.length=0)}return yn};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:A,configurable:!0,writable:!0}):String.fromCodePoint=A})()})(typeof la>"u"?la.sax={}:la)});var mv=g(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.XElement=void 0;cs.parseXml=OI;var CI=hv(),ua=ss(),ca=class{constructor(t){if(this.name=t,this.value="",this.attributes=null,this.isCData=!1,this.elements=null,!t)throw(0,ua.newError)("Element name cannot be empty","ERR_XML_ELEMENT_NAME_EMPTY");if(!TI(t))throw(0,ua.newError)(`Invalid element name: ${t}`,"ERR_XML_ELEMENT_INVALID_NAME")}attribute(t){let r=this.attributes===null?null:this.attributes[t];if(r==null)throw(0,ua.newError)(`No attribute "${t}"`,"ERR_XML_MISSED_ATTRIBUTE");return r}removeAttribute(t){this.attributes!==null&&delete this.attributes[t]}element(t,r=!1,n=null){let i=this.elementOrNull(t,r);if(i===null)throw(0,ua.newError)(n||`No element "${t}"`,"ERR_XML_MISSED_ELEMENT");return i}elementOrNull(t,r=!1){if(this.elements===null)return null;for(let n of this.elements)if(pv(n,t,r))return n;return null}getElements(t,r=!1){return this.elements===null?[]:this.elements.filter(n=>pv(n,t,r))}elementValueOrEmpty(t,r=!1){let n=this.elementOrNull(t,r);return n===null?"":n.value}};cs.XElement=ca;var AI=new RegExp(/^[A-Za-z_][:A-Za-z0-9_-]*$/i);function TI(e){return AI.test(e)}function pv(e,t,r){let n=e.name;return n===t||r===!0&&n.length===t.length&&n.toLowerCase()===t.toLowerCase()}function OI(e){let t=null,r=CI.parser(!0,{}),n=[];return r.onopentag=i=>{let s=new ca(i.name);if(s.attributes=i.attributes,t===null)t=s;else{let o=n[n.length-1];o.elements==null&&(o.elements=[]),o.elements.push(s)}n.push(s)},r.onclosetag=()=>{n.pop()},r.ontext=i=>{n.length>0&&(n[n.length-1].value=i)},r.oncdata=i=>{let s=n[n.length-1];s.value=i,s.isCData=!0},r.onerror=i=>{throw i},r.write(e),t}});var Pe=g(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.CURRENT_APP_PACKAGE_FILE_NAME=V.CURRENT_APP_INSTALLER_FILE_NAME=V.XElement=V.parseXml=V.UUID=V.parseDn=V.retry=V.githubUrl=V.getS3LikeProviderBaseUrl=V.ProgressCallbackTransform=V.MemoLazy=V.safeStringifyJson=V.safeGetHeader=V.parseJson=V.HttpExecutor=V.HttpError=V.DigestTransform=V.createHttpError=V.configureRequestUrl=V.configureRequestOptionsFromUrl=V.configureRequestOptions=V.newError=V.CancellationToken=V.CancellationError=void 0;V.asArray=LI;var gv=Jo();Object.defineProperty(V,"CancellationError",{enumerable:!0,get:function(){return gv.CancellationError}});Object.defineProperty(V,"CancellationToken",{enumerable:!0,get:function(){return gv.CancellationToken}});var PI=ss();Object.defineProperty(V,"newError",{enumerable:!0,get:function(){return PI.newError}});var kt=ev();Object.defineProperty(V,"configureRequestOptions",{enumerable:!0,get:function(){return kt.configureRequestOptions}});Object.defineProperty(V,"configureRequestOptionsFromUrl",{enumerable:!0,get:function(){return kt.configureRequestOptionsFromUrl}});Object.defineProperty(V,"configureRequestUrl",{enumerable:!0,get:function(){return kt.configureRequestUrl}});Object.defineProperty(V,"createHttpError",{enumerable:!0,get:function(){return kt.createHttpError}});Object.defineProperty(V,"DigestTransform",{enumerable:!0,get:function(){return kt.DigestTransform}});Object.defineProperty(V,"HttpError",{enumerable:!0,get:function(){return kt.HttpError}});Object.defineProperty(V,"HttpExecutor",{enumerable:!0,get:function(){return kt.HttpExecutor}});Object.defineProperty(V,"parseJson",{enumerable:!0,get:function(){return kt.parseJson}});Object.defineProperty(V,"safeGetHeader",{enumerable:!0,get:function(){return kt.safeGetHeader}});Object.defineProperty(V,"safeStringifyJson",{enumerable:!0,get:function(){return kt.safeStringifyJson}});var NI=rv();Object.defineProperty(V,"MemoLazy",{enumerable:!0,get:function(){return NI.MemoLazy}});var DI=wc();Object.defineProperty(V,"ProgressCallbackTransform",{enumerable:!0,get:function(){return DI.ProgressCallbackTransform}});var yv=iv();Object.defineProperty(V,"getS3LikeProviderBaseUrl",{enumerable:!0,get:function(){return yv.getS3LikeProviderBaseUrl}});Object.defineProperty(V,"githubUrl",{enumerable:!0,get:function(){return yv.githubUrl}});var RI=ov();Object.defineProperty(V,"retry",{enumerable:!0,get:function(){return RI.retry}});var II=av();Object.defineProperty(V,"parseDn",{enumerable:!0,get:function(){return II.parseDn}});var FI=dv();Object.defineProperty(V,"UUID",{enumerable:!0,get:function(){return FI.UUID}});var wv=mv();Object.defineProperty(V,"parseXml",{enumerable:!0,get:function(){return wv.parseXml}});Object.defineProperty(V,"XElement",{enumerable:!0,get:function(){return wv.XElement}});V.CURRENT_APP_INSTALLER_FILE_NAME="installer.exe";V.CURRENT_APP_PACKAGE_FILE_NAME="package.7z";function LI(e){return e==null?[]:Array.isArray(e)?e:[e]}});var Qn=g((F3,tn)=>{"use strict";function _v(e){return typeof e>"u"||e===null}function kI(e){return typeof e=="object"&&e!==null}function MI(e){return Array.isArray(e)?e:_v(e)?[]:[e]}function qI(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function UI(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function $I(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}tn.exports.isNothing=_v;tn.exports.isObject=kI;tn.exports.toArray=MI;tn.exports.repeat=UI;tn.exports.isNegativeZero=$I;tn.exports.extend=qI});var Zn=g((L3,Ev)=>{"use strict";function vv(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function fs(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=vv(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}fs.prototype=Object.create(Error.prototype);fs.prototype.constructor=fs;fs.prototype.toString=function(t){return this.name+": "+vv(this,t)};Ev.exports=fs});var bv=g((k3,Sv)=>{"use strict";var ds=Qn();function Cc(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:n-t+s.length}}function Ac(e,t){return ds.repeat(" ",t-e.length)+e}function BI(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",l,c,u=Math.min(e.line+t.linesAfter,i.length).toString().length,f=t.maxLength-(t.indent+u+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)c=Cc(e.buffer,n[o-l],i[o-l],e.position-(n[o]-n[o-l]),f),a=ds.repeat(" ",t.indent)+Ac((e.line-l+1).toString(),u)+" | "+c.str+`
`+a;for(c=Cc(e.buffer,n[o],i[o],e.position,f),a+=ds.repeat(" ",t.indent)+Ac((e.line+1).toString(),u)+" | "+c.str+`
`,a+=ds.repeat("-",t.indent+u+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=i.length);l++)c=Cc(e.buffer,n[o+l],i[o+l],e.position-(n[o]-n[o+l]),f),a+=ds.repeat(" ",t.indent)+Ac((e.line+l+1).toString(),u)+" | "+c.str+`
`;return a.replace(/\n$/,"")}Sv.exports=BI});var qe=g((M3,Cv)=>{"use strict";var xv=Zn(),WI=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],GI=["scalar","sequence","mapping"];function jI(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function HI(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(WI.indexOf(r)===-1)throw new xv('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=jI(t.styleAliases||null),GI.indexOf(this.kind)===-1)throw new xv('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}Cv.exports=HI});var Pc=g((q3,Tv)=>{"use strict";var hs=Zn(),Tc=qe();function Av(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function VI(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Oc(e){return this.extend(e)}Oc.prototype.extend=function(t){var r=[],n=[];if(t instanceof Tc)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new hs("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Tc))throw new hs("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new hs("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new hs("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof Tc))throw new hs("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Oc.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Av(i,"implicit"),i.compiledExplicit=Av(i,"explicit"),i.compiledTypeMap=VI(i.compiledImplicit,i.compiledExplicit),i};Tv.exports=Oc});var Nc=g((U3,Ov)=>{"use strict";var zI=qe();Ov.exports=new zI("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var Dc=g(($3,Pv)=>{"use strict";var YI=qe();Pv.exports=new YI("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var Rc=g((B3,Nv)=>{"use strict";var KI=qe();Nv.exports=new KI("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var Ic=g((W3,Dv)=>{"use strict";var XI=Pc();Dv.exports=new XI({explicit:[Nc(),Dc(),Rc()]})});var Fc=g((G3,Rv)=>{"use strict";var JI=qe();function QI(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function ZI(){return null}function eF(e){return e===null}Rv.exports=new JI("tag:yaml.org,2002:null",{kind:"scalar",resolve:QI,construct:ZI,predicate:eF,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var Lc=g((j3,Iv)=>{"use strict";var tF=qe();function rF(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function nF(e){return e==="true"||e==="True"||e==="TRUE"}function iF(e){return Object.prototype.toString.call(e)==="[object Boolean]"}Iv.exports=new tF("tag:yaml.org,2002:bool",{kind:"scalar",resolve:rF,construct:nF,predicate:iF,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var kc=g((H3,Fv)=>{"use strict";var sF=Qn(),oF=qe();function aF(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function lF(e){return 48<=e&&e<=55}function uF(e){return 48<=e&&e<=57}function cF(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!aF(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!lF(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!uF(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function fF(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function dF(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!sF.isNegativeZero(e)}Fv.exports=new oF("tag:yaml.org,2002:int",{kind:"scalar",resolve:cF,construct:fF,predicate:dF,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var Mc=g((V3,kv)=>{"use strict";var Lv=Qn(),hF=qe(),pF=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function mF(e){return!(e===null||!pF.test(e)||e[e.length-1]==="_")}function gF(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var yF=/^[-+]?[0-9]+e/;function wF(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Lv.isNegativeZero(e))return"-0.0";return r=e.toString(10),yF.test(r)?r.replace("e",".e"):r}function _F(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Lv.isNegativeZero(e))}kv.exports=new hF("tag:yaml.org,2002:float",{kind:"scalar",resolve:mF,construct:gF,predicate:_F,represent:wF,defaultStyle:"lowercase"})});var qc=g((z3,Mv)=>{"use strict";Mv.exports=Ic().extend({implicit:[Fc(),Lc(),kc(),Mc()]})});var Uc=g((Y3,qv)=>{"use strict";qv.exports=qc()});var $c=g((K3,Bv)=>{"use strict";var vF=qe(),Uv=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),$v=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function EF(e){return e===null?!1:Uv.exec(e)!==null||$v.exec(e)!==null}function SF(e){var t,r,n,i,s,o,a,l=0,c=null,u,f,h;if(t=Uv.exec(e),t===null&&(t=$v.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(u=+t[10],f=+(t[11]||0),c=(u*60+f)*6e4,t[9]==="-"&&(c=-c)),h=new Date(Date.UTC(r,n,i,s,o,a,l)),c&&h.setTime(h.getTime()-c),h}function bF(e){return e.toISOString()}Bv.exports=new vF("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:EF,construct:SF,instanceOf:Date,represent:bF})});var Bc=g((X3,Wv)=>{"use strict";var xF=qe();function CF(e){return e==="<<"||e===null}Wv.exports=new xF("tag:yaml.org,2002:merge",{kind:"scalar",resolve:CF})});var Gc=g((J3,Gv)=>{"use strict";var AF=qe(),Wc=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function TF(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=Wc;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function OF(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=Wc,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function PF(e){var t="",r=0,n,i,s=e.length,o=Wc;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function NF(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}Gv.exports=new AF("tag:yaml.org,2002:binary",{kind:"scalar",resolve:TF,construct:OF,predicate:NF,represent:PF})});var jc=g((Q3,jv)=>{"use strict";var DF=qe(),RF=Object.prototype.hasOwnProperty,IF=Object.prototype.toString;function FF(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,IF.call(i)!=="[object Object]")return!1;for(s in i)if(RF.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function LF(e){return e!==null?e:[]}jv.exports=new DF("tag:yaml.org,2002:omap",{kind:"sequence",resolve:FF,construct:LF})});var Hc=g((Z3,Hv)=>{"use strict";var kF=qe(),MF=Object.prototype.toString;function qF(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],MF.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function UF(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}Hv.exports=new kF("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:qF,construct:UF})});var Vc=g((e8,Vv)=>{"use strict";var $F=qe(),BF=Object.prototype.hasOwnProperty;function WF(e){if(e===null)return!0;var t,r=e;for(t in r)if(BF.call(r,t)&&r[t]!==null)return!1;return!0}function GF(e){return e!==null?e:{}}Vv.exports=new $F("tag:yaml.org,2002:set",{kind:"mapping",resolve:WF,construct:GF})});var fa=g((t8,zv)=>{"use strict";zv.exports=Uc().extend({implicit:[$c(),Bc()],explicit:[Gc(),jc(),Hc(),Vc()]})});var cE=g((r8,Xc)=>{"use strict";var nn=Qn(),eE=Zn(),jF=bv(),HF=fa(),Ar=Object.prototype.hasOwnProperty,da=1,tE=2,rE=3,ha=4,zc=1,VF=2,Yv=3,zF=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,YF=/[\x85\u2028\u2029]/,KF=/[,\[\]\{\}]/,nE=/^(?:!|!!|![a-z\-]+!)$/i,iE=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Kv(e){return Object.prototype.toString.call(e)}function Mt(e){return e===10||e===13}function sn(e){return e===9||e===32}function nt(e){return e===9||e===32||e===10||e===13}function ei(e){return e===44||e===91||e===93||e===123||e===125}function XF(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function JF(e){return e===120?2:e===117?4:e===85?8:0}function QF(e){return 48<=e&&e<=57?e-48:-1}function Xv(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function ZF(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function sE(e,t,r){t==="__proto__"?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r}):e[t]=r}var oE=new Array(256),aE=new Array(256);for(rn=0;rn<256;rn++)oE[rn]=Xv(rn)?1:0,aE[rn]=Xv(rn);var rn;function eL(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||HF,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function lE(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=jF(r),new eE(t,r)}function B(e,t){throw lE(e,t)}function pa(e,t){e.onWarning&&e.onWarning.call(null,lE(e,t))}var Jv={YAML:function(t,r,n){var i,s,o;t.version!==null&&B(t,"duplication of %YAML directive"),n.length!==1&&B(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&B(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&B(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&pa(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&B(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],nE.test(i)||B(t,"ill-formed tag handle (first argument) of the TAG directive"),Ar.call(t.tagMap,i)&&B(t,'there is a previously declared suffix for "'+i+'" tag handle'),iE.test(s)||B(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{B(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function Cr(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||B(e,"expected valid JSON character");else zF.test(a)&&B(e,"the stream contains non-printable characters");e.result+=a}}function Qv(e,t,r,n){var i,s,o,a;for(nn.isObject(r)||B(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],Ar.call(t,s)||(sE(t,s,r[s]),n[s]=!0)}function ti(e,t,r,n,i,s,o,a,l){var c,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,u=i.length;c<u;c+=1)Array.isArray(i[c])&&B(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Kv(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&Kv(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,u=s.length;c<u;c+=1)Qv(e,t,s[c],r);else Qv(e,t,s,r);else!e.json&&!Ar.call(r,i)&&Ar.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,B(e,"duplicated mapping key")),sE(t,i,s),delete r[i];return t}function Yc(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):B(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Ee(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;sn(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Mt(i))for(Yc(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&pa(e,"deficient indentation"),n}function ma(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||nt(r)))}function Kc(e,t){t===1?e.result+=" ":t>1&&(e.result+=nn.repeat(`
`,t-1))}function tL(e,t,r){var n,i,s,o,a,l,c,u,f=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),nt(p)||ei(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),nt(i)||r&&ei(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),nt(i)||r&&ei(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),nt(n))break}else{if(e.position===e.lineStart&&ma(e)||r&&ei(p))break;if(Mt(p))if(l=e.line,c=e.lineStart,u=e.lineIndent,Ee(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=c,e.lineIndent=u;break}}a&&(Cr(e,s,o,!1),Kc(e,e.line-l),s=o=e.position,a=!1),sn(p)||(o=e.position+1),p=e.input.charCodeAt(++e.position)}return Cr(e,s,o,!1),e.result?!0:(e.kind=f,e.result=h,!1)}function rL(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Cr(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else Mt(r)?(Cr(e,n,i,!0),Kc(e,Ee(e,!1,t)),n=i=e.position):e.position===e.lineStart&&ma(e)?B(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);B(e,"unexpected end of the stream within a single quoted scalar")}function nL(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Cr(e,r,e.position,!0),e.position++,!0;if(a===92){if(Cr(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),Mt(a))Ee(e,!1,t);else if(a<256&&oE[a])e.result+=aE[a],e.position++;else if((o=JF(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=XF(a))>=0?s=(s<<4)+o:B(e,"expected hexadecimal character");e.result+=ZF(s),e.position++}else B(e,"unknown escape sequence");r=n=e.position}else Mt(a)?(Cr(e,r,n,!0),Kc(e,Ee(e,!1,t)),r=n=e.position):e.position===e.lineStart&&ma(e)?B(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}B(e,"unexpected end of the stream within a double quoted scalar")}function iL(e,t){var r=!0,n,i,s,o=e.tag,a,l=e.anchor,c,u,f,h,p,y=Object.create(null),w,S,x,C;if(C=e.input.charCodeAt(e.position),C===91)u=93,p=!1,a=[];else if(C===123)u=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),C=e.input.charCodeAt(++e.position);C!==0;){if(Ee(e,!0,t),C=e.input.charCodeAt(e.position),C===u)return e.position++,e.tag=o,e.anchor=l,e.kind=p?"mapping":"sequence",e.result=a,!0;r?C===44&&B(e,"expected the node content, but found ','"):B(e,"missed comma between flow collection entries"),S=w=x=null,f=h=!1,C===63&&(c=e.input.charCodeAt(e.position+1),nt(c)&&(f=h=!0,e.position++,Ee(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,ri(e,t,da,!1,!0),S=e.tag,w=e.result,Ee(e,!0,t),C=e.input.charCodeAt(e.position),(h||e.line===n)&&C===58&&(f=!0,C=e.input.charCodeAt(++e.position),Ee(e,!0,t),ri(e,t,da,!1,!0),x=e.result),p?ti(e,a,y,S,w,x,n,i,s):f?a.push(ti(e,null,y,S,w,x,n,i,s)):a.push(w),Ee(e,!0,t),C=e.input.charCodeAt(e.position),C===44?(r=!0,C=e.input.charCodeAt(++e.position)):r=!1}B(e,"unexpected end of the stream within a flow collection")}function sL(e,t){var r,n,i=zc,s=!1,o=!1,a=t,l=0,c=!1,u,f;if(f=e.input.charCodeAt(e.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)zc===i?i=f===43?Yv:VF:B(e,"repeat of a chomping mode identifier");else if((u=QF(f))>=0)u===0?B(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?B(e,"repeat of an indentation width identifier"):(a=t+u-1,o=!0);else break;if(sn(f)){do f=e.input.charCodeAt(++e.position);while(sn(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!Mt(f)&&f!==0)}for(;f!==0;){for(Yc(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),Mt(f)){l++;continue}if(e.lineIndent<a){i===Yv?e.result+=nn.repeat(`
`,s?1+l:l):i===zc&&s&&(e.result+=`
`);break}for(n?sn(f)?(c=!0,e.result+=nn.repeat(`
`,s?1+l:l)):c?(c=!1,e.result+=nn.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=nn.repeat(`
`,l):e.result+=nn.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,r=e.position;!Mt(f)&&f!==0;)f=e.input.charCodeAt(++e.position);Cr(e,r,e.position,!1)}return!0}function Zv(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,B(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!nt(o))));){if(a=!0,e.position++,Ee(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,ri(e,t,rE,!1,!0),s.push(e.result),Ee(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)B(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function oL(e,t,r){var n,i,s,o,a,l,c=e.tag,u=e.anchor,f={},h=Object.create(null),p=null,y=null,w=null,S=!1,x=!1,C;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),C=e.input.charCodeAt(e.position);C!==0;){if(!S&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,B(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(C===63||C===58)&&nt(n))C===63?(S&&(ti(e,f,h,p,y,null,o,a,l),p=y=w=null),x=!0,S=!0,i=!0):S?(S=!1,i=!0):B(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,C=n;else{if(o=e.line,a=e.lineStart,l=e.position,!ri(e,r,tE,!1,!0))break;if(e.line===s){for(C=e.input.charCodeAt(e.position);sn(C);)C=e.input.charCodeAt(++e.position);if(C===58)C=e.input.charCodeAt(++e.position),nt(C)||B(e,"a whitespace character is expected after the key-value separator within a block mapping"),S&&(ti(e,f,h,p,y,null,o,a,l),p=y=w=null),x=!0,S=!1,i=!1,p=e.tag,y=e.result;else if(x)B(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=u,!0}else if(x)B(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=u,!0}if((e.line===s||e.lineIndent>t)&&(S&&(o=e.line,a=e.lineStart,l=e.position),ri(e,t,ha,!0,i)&&(S?y=e.result:w=e.result),S||(ti(e,f,h,p,y,w,o,a,l),p=y=w=null),Ee(e,!0,-1),C=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&C!==0)B(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return S&&ti(e,f,h,p,y,null,o,a,l),x&&(e.tag=c,e.anchor=u,e.kind="mapping",e.result=f),x}function aL(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&B(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):B(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!nt(o);)o===33&&(n?B(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),nE.test(i)||B(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),KF.test(s)&&B(e,"tag suffix cannot contain flow indicator characters")}s&&!iE.test(s)&&B(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{B(e,"tag name is malformed: "+s)}return r?e.tag=s:Ar.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:B(e,'undeclared tag handle "'+i+'"'),!0}function lL(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&B(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!nt(r)&&!ei(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&B(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function uL(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!nt(n)&&!ei(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&B(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Ar.call(e.anchorMap,r)||B(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Ee(e,!0,-1),!0}function ri(e,t,r,n,i){var s,o,a,l=1,c=!1,u=!1,f,h,p,y,w,S;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=ha===r||rE===r,n&&Ee(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;aL(e)||lL(e);)Ee(e,!0,-1)?(c=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=c||i),(l===1||ha===r)&&(da===r||tE===r?w=t:w=t+1,S=e.position-e.lineStart,l===1?a&&(Zv(e,S)||oL(e,S,w))||iL(e,w)?u=!0:(o&&sL(e,w)||rL(e,w)||nL(e,w)?u=!0:uL(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&B(e,"alias node should not have any properties")):tL(e,w,da===r)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(u=a&&Zv(e,S))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&B(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,h=e.implicitTypes.length;f<h;f+=1)if(y=e.implicitTypes[f],y.resolve(e.result)){e.result=y.construct(e.result),e.tag=y.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Ar.call(e.typeMap[e.kind||"fallback"],e.tag))y=e.typeMap[e.kind||"fallback"][e.tag];else for(y=null,p=e.typeMap.multi[e.kind||"fallback"],f=0,h=p.length;f<h;f+=1)if(e.tag.slice(0,p[f].tag.length)===p[f].tag){y=p[f];break}y||B(e,"unknown tag !<"+e.tag+">"),e.result!==null&&y.kind!==e.kind&&B(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+y.kind+'", not "'+e.kind+'"'),y.resolve(e.result,e.tag)?(e.result=y.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):B(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function cL(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(Ee(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!nt(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&B(e,"directive name must not be less than one character in length");o!==0;){for(;sn(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!Mt(o));break}if(Mt(o))break;for(r=e.position;o!==0&&!nt(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&Yc(e),Ar.call(Jv,n)?Jv[n](e,n,i):pa(e,'unknown document directive "'+n+'"')}if(Ee(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ee(e,!0,-1)):s&&B(e,"directives end mark is expected"),ri(e,e.lineIndent-1,ha,!1,!0),Ee(e,!0,-1),e.checkLineBreaks&&YF.test(e.input.slice(t,e.position))&&pa(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&ma(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ee(e,!0,-1));return}if(e.position<e.length-1)B(e,"end of the stream or a document separator is expected");else return}function uE(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new eL(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,B(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)cL(r);return r.documents}function fL(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=uE(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function dL(e,t){var r=uE(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new eE("expected a single document in the stream, but found more")}}Xc.exports.loadAll=fL;Xc.exports.load=dL});var DE=g((n8,NE)=>{"use strict";var wa=Qn(),ws=Zn(),hL=fa(),_E=Object.prototype.toString,vE=Object.prototype.hasOwnProperty,tf=65279,pL=9,ms=10,mL=13,gL=32,yL=33,wL=34,Jc=35,_L=37,vL=38,EL=39,SL=42,EE=44,bL=45,ga=58,xL=61,CL=62,AL=63,TL=64,SE=91,bE=93,OL=96,xE=123,PL=124,CE=125,Ue={};Ue[0]="\\0";Ue[7]="\\a";Ue[8]="\\b";Ue[9]="\\t";Ue[10]="\\n";Ue[11]="\\v";Ue[12]="\\f";Ue[13]="\\r";Ue[27]="\\e";Ue[34]='\\"';Ue[92]="\\\\";Ue[133]="\\N";Ue[160]="\\_";Ue[8232]="\\L";Ue[8233]="\\P";var NL=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DL=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function RL(e,t){var r,n,i,s,o,a,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&vE.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[o]=a;return r}function IL(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new ws("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+wa.repeat("0",n-t.length)+t}var FL=1,gs=2;function LL(e){this.schema=e.schema||hL,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=wa.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=RL(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?gs:FL,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function fE(e,t){for(var r=wa.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function Qc(e,t){return`
`+wa.repeat(" ",e.indent*t)}function kL(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function ya(e){return e===gL||e===pL}function ys(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==tf||65536<=e&&e<=1114111}function dE(e){return ys(e)&&e!==tf&&e!==mL&&e!==ms}function hE(e,t,r){var n=dE(e),i=n&&!ya(e);return(r?n:n&&e!==EE&&e!==SE&&e!==bE&&e!==xE&&e!==CE)&&e!==Jc&&!(t===ga&&!i)||dE(t)&&!ya(t)&&e===Jc||t===ga&&i}function ML(e){return ys(e)&&e!==tf&&!ya(e)&&e!==bL&&e!==AL&&e!==ga&&e!==EE&&e!==SE&&e!==bE&&e!==xE&&e!==CE&&e!==Jc&&e!==vL&&e!==SL&&e!==yL&&e!==PL&&e!==xL&&e!==CL&&e!==EL&&e!==wL&&e!==_L&&e!==TL&&e!==OL}function qL(e){return!ya(e)&&e!==ga}function ps(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function AE(e){var t=/^\n* /;return t.test(e)}var TE=1,Zc=2,OE=3,PE=4,ni=5;function UL(e,t,r,n,i,s,o,a){var l,c=0,u=null,f=!1,h=!1,p=n!==-1,y=-1,w=ML(ps(e,0))&&qL(ps(e,e.length-1));if(t||o)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=ps(e,l),!ys(c))return ni;w=w&&hE(c,u,a),u=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=ps(e,l),c===ms)f=!0,p&&(h=h||l-y-1>n&&e[y+1]!==" ",y=l);else if(!ys(c))return ni;w=w&&hE(c,u,a),u=c}h=h||p&&l-y-1>n&&e[y+1]!==" "}return!f&&!h?w&&!o&&!i(e)?TE:s===gs?ni:Zc:r>9&&AE(e)?ni:o?s===gs?ni:Zc:h?PE:OE}function $L(e,t,r,n,i){e.dump=(function(){if(t.length===0)return e.quotingType===gs?'""':"''";if(!e.noCompatMode&&(NL.indexOf(t)!==-1||DL.test(t)))return e.quotingType===gs?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function l(c){return kL(e,c)}switch(UL(t,a,e.indent,o,l,e.quotingType,e.forceQuotes&&!n,i)){case TE:return t;case Zc:return"'"+t.replace(/'/g,"''")+"'";case OE:return"|"+pE(t,e.indent)+mE(fE(t,s));case PE:return">"+pE(t,e.indent)+mE(fE(BL(t,o),s));case ni:return'"'+WL(t,o)+'"';default:throw new ws("impossible error: invalid scalar style")}})()}function pE(e,t){var r=AE(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function mE(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function BL(e,t){for(var r=/(\n+)([^\n]*)/g,n=(function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,gE(e.slice(0,c),t)})(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],l=o[2];s=l[0]===" ",n+=a+(!i&&!s&&l!==""?`
`:"")+gE(l,t),i=s}return n}function gE(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,l="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,l+=`
`+e.slice(i,s),i=s+1),o=a;return l+=`
`,e.length-i>t&&o>i?l+=e.slice(i,o)+`
`+e.slice(o+1):l+=e.slice(i),l.slice(1)}function WL(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=ps(e,i),n=Ue[r],!n&&ys(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||IL(r);return t}function GL(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(tr(e,t,a,!1,!1)||typeof a>"u"&&tr(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function yE(e,t,r,n){var i="",s=e.tag,o,a,l;for(o=0,a=r.length;o<a;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(tr(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&tr(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Qc(e,t)),e.dump&&ms===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function jL(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,l,c,u;for(o=0,a=s.length;o<a;o+=1)u="",n!==""&&(u+=", "),e.condenseFlow&&(u+='"'),l=s[o],c=r[l],e.replacer&&(c=e.replacer.call(r,l,c)),tr(e,t,l,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),tr(e,t,c,!1,!1)&&(u+=e.dump,n+=u));e.tag=i,e.dump="{"+n+"}"}function HL(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,l,c,u,f,h;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new ws("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)h="",(!n||i!=="")&&(h+=Qc(e,t)),c=o[a],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),tr(e,t+1,c,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&ms===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,f&&(h+=Qc(e,t)),tr(e,t+1,u,!0,f)&&(e.dump&&ms===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=s,e.dump=i||"{}"}function wE(e,t,r){var n,i,s,o,a,l;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,_E.call(a.represent)==="[object Function]")n=a.represent(t,l);else if(vE.call(a.represent,l))n=a.represent[l](t,l);else throw new ws("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}function tr(e,t,r,n,i,s,o){e.tag=null,e.dump=r,wE(e,r,!1)||wE(e,r,!0);var a=_E.call(e.dump),l=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var u=a==="[object Object]"||a==="[object Array]",f,h;if(u&&(f=e.duplicates.indexOf(r),h=f!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(u&&h&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(HL(e,t,e.dump,i),h&&(e.dump="&ref_"+f+e.dump)):(jL(e,t,e.dump),h&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?yE(e,t-1,e.dump,i):yE(e,t,e.dump,i),h&&(e.dump="&ref_"+f+e.dump)):(GL(e,t,e.dump),h&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&$L(e,e.dump,t,s,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new ws("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function VL(e,t){var r=[],n=[],i,s;for(ef(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function ef(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)ef(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)ef(e[n[i]],t,r)}function zL(e,t){t=t||{};var r=new LL(t);r.noRefs||VL(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),tr(r,0,n,!0,!0)?r.dump+`
`:""}NE.exports.dump=zL});var _a=g((i8,ze)=>{"use strict";var RE=cE(),YL=DE();function rf(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}ze.exports.Type=qe();ze.exports.Schema=Pc();ze.exports.FAILSAFE_SCHEMA=Ic();ze.exports.JSON_SCHEMA=qc();ze.exports.CORE_SCHEMA=Uc();ze.exports.DEFAULT_SCHEMA=fa();ze.exports.load=RE.load;ze.exports.loadAll=RE.loadAll;ze.exports.dump=YL.dump;ze.exports.YAMLException=Zn();ze.exports.types={binary:Gc(),float:Mc(),map:Rc(),null:Fc(),pairs:Hc(),set:Vc(),timestamp:$c(),bool:Lc(),int:kc(),merge:Bc(),omap:jc(),seq:Dc(),str:Nc()};ze.exports.safeLoad=rf("safeLoad","load");ze.exports.safeLoadAll=rf("safeLoadAll","loadAll");ze.exports.safeDump=rf("safeDump","dump")});var IE=g(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.Lazy=void 0;var nf=class{constructor(t){this._value=null,this.creator=t}get hasValue(){return this.creator==null}get value(){if(this.creator==null)return this._value;let t=this.creator();return this.value=t,t}set value(t){this._value=t,this.creator=null}};va.Lazy=nf});var _s=g((o8,FE)=>{var KL="2.0.0",XL=Number.MAX_SAFE_INTEGER||9007199254740991,JL=16,QL=250,ZL=["major","premajor","minor","preminor","patch","prepatch","prerelease"];FE.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:JL,MAX_SAFE_BUILD_LENGTH:QL,MAX_SAFE_INTEGER:XL,RELEASE_TYPES:ZL,SEMVER_SPEC_VERSION:KL,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var vs=g((a8,LE)=>{var ek=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};LE.exports=ek});var ii=g((rr,kE)=>{var{MAX_SAFE_COMPONENT_LENGTH:sf,MAX_SAFE_BUILD_LENGTH:tk,MAX_LENGTH:rk}=_s(),nk=vs();rr=kE.exports={};var ik=rr.re=[],sk=rr.safeRe=[],L=rr.src=[],k=rr.t={},ok=0,of="[a-zA-Z0-9-]",ak=[["\\s",1],["\\d",rk],[of,tk]],lk=e=>{for(let[t,r]of ak)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},Y=(e,t,r)=>{let n=lk(t),i=ok++;nk(e,i,t),k[e]=i,L[i]=t,ik[i]=new RegExp(t,r?"g":void 0),sk[i]=new RegExp(n,r?"g":void 0)};Y("NUMERICIDENTIFIER","0|[1-9]\\d*");Y("NUMERICIDENTIFIERLOOSE","\\d+");Y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${of}*`);Y("MAINVERSION",`(${L[k.NUMERICIDENTIFIER]})\\.(${L[k.NUMERICIDENTIFIER]})\\.(${L[k.NUMERICIDENTIFIER]})`);Y("MAINVERSIONLOOSE",`(${L[k.NUMERICIDENTIFIERLOOSE]})\\.(${L[k.NUMERICIDENTIFIERLOOSE]})\\.(${L[k.NUMERICIDENTIFIERLOOSE]})`);Y("PRERELEASEIDENTIFIER",`(?:${L[k.NUMERICIDENTIFIER]}|${L[k.NONNUMERICIDENTIFIER]})`);Y("PRERELEASEIDENTIFIERLOOSE",`(?:${L[k.NUMERICIDENTIFIERLOOSE]}|${L[k.NONNUMERICIDENTIFIER]})`);Y("PRERELEASE",`(?:-(${L[k.PRERELEASEIDENTIFIER]}(?:\\.${L[k.PRERELEASEIDENTIFIER]})*))`);Y("PRERELEASELOOSE",`(?:-?(${L[k.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${L[k.PRERELEASEIDENTIFIERLOOSE]})*))`);Y("BUILDIDENTIFIER",`${of}+`);Y("BUILD",`(?:\\+(${L[k.BUILDIDENTIFIER]}(?:\\.${L[k.BUILDIDENTIFIER]})*))`);Y("FULLPLAIN",`v?${L[k.MAINVERSION]}${L[k.PRERELEASE]}?${L[k.BUILD]}?`);Y("FULL",`^${L[k.FULLPLAIN]}$`);Y("LOOSEPLAIN",`[v=\\s]*${L[k.MAINVERSIONLOOSE]}${L[k.PRERELEASELOOSE]}?${L[k.BUILD]}?`);Y("LOOSE",`^${L[k.LOOSEPLAIN]}$`);Y("GTLT","((?:<|>)?=?)");Y("XRANGEIDENTIFIERLOOSE",`${L[k.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Y("XRANGEIDENTIFIER",`${L[k.NUMERICIDENTIFIER]}|x|X|\\*`);Y("XRANGEPLAIN",`[v=\\s]*(${L[k.XRANGEIDENTIFIER]})(?:\\.(${L[k.XRANGEIDENTIFIER]})(?:\\.(${L[k.XRANGEIDENTIFIER]})(?:${L[k.PRERELEASE]})?${L[k.BUILD]}?)?)?`);Y("XRANGEPLAINLOOSE",`[v=\\s]*(${L[k.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L[k.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L[k.XRANGEIDENTIFIERLOOSE]})(?:${L[k.PRERELEASELOOSE]})?${L[k.BUILD]}?)?)?`);Y("XRANGE",`^${L[k.GTLT]}\\s*${L[k.XRANGEPLAIN]}$`);Y("XRANGELOOSE",`^${L[k.GTLT]}\\s*${L[k.XRANGEPLAINLOOSE]}$`);Y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${sf}})(?:\\.(\\d{1,${sf}}))?(?:\\.(\\d{1,${sf}}))?`);Y("COERCE",`${L[k.COERCEPLAIN]}(?:$|[^\\d])`);Y("COERCEFULL",L[k.COERCEPLAIN]+`(?:${L[k.PRERELEASE]})?(?:${L[k.BUILD]})?(?:$|[^\\d])`);Y("COERCERTL",L[k.COERCE],!0);Y("COERCERTLFULL",L[k.COERCEFULL],!0);Y("LONETILDE","(?:~>?)");Y("TILDETRIM",`(\\s*)${L[k.LONETILDE]}\\s+`,!0);rr.tildeTrimReplace="$1~";Y("TILDE",`^${L[k.LONETILDE]}${L[k.XRANGEPLAIN]}$`);Y("TILDELOOSE",`^${L[k.LONETILDE]}${L[k.XRANGEPLAINLOOSE]}$`);Y("LONECARET","(?:\\^)");Y("CARETTRIM",`(\\s*)${L[k.LONECARET]}\\s+`,!0);rr.caretTrimReplace="$1^";Y("CARET",`^${L[k.LONECARET]}${L[k.XRANGEPLAIN]}$`);Y("CARETLOOSE",`^${L[k.LONECARET]}${L[k.XRANGEPLAINLOOSE]}$`);Y("COMPARATORLOOSE",`^${L[k.GTLT]}\\s*(${L[k.LOOSEPLAIN]})$|^$`);Y("COMPARATOR",`^${L[k.GTLT]}\\s*(${L[k.FULLPLAIN]})$|^$`);Y("COMPARATORTRIM",`(\\s*)${L[k.GTLT]}\\s*(${L[k.LOOSEPLAIN]}|${L[k.XRANGEPLAIN]})`,!0);rr.comparatorTrimReplace="$1$2$3";Y("HYPHENRANGE",`^\\s*(${L[k.XRANGEPLAIN]})\\s+-\\s+(${L[k.XRANGEPLAIN]})\\s*$`);Y("HYPHENRANGELOOSE",`^\\s*(${L[k.XRANGEPLAINLOOSE]})\\s+-\\s+(${L[k.XRANGEPLAINLOOSE]})\\s*$`);Y("STAR","(<|>)?=?\\s*\\*");Y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Ea=g((l8,ME)=>{var uk=Object.freeze({loose:!0}),ck=Object.freeze({}),fk=e=>e?typeof e!="object"?uk:e:ck;ME.exports=fk});var af=g((u8,$E)=>{var qE=/^[0-9]+$/,UE=(e,t)=>{let r=qE.test(e),n=qE.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},dk=(e,t)=>UE(t,e);$E.exports={compareIdentifiers:UE,rcompareIdentifiers:dk}});var $e=g((c8,jE)=>{var Sa=vs(),{MAX_LENGTH:BE,MAX_SAFE_INTEGER:ba}=_s(),{safeRe:WE,t:GE}=ii(),hk=Ea(),{compareIdentifiers:si}=af(),lf=class e{constructor(t,r){if(r=hk(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>BE)throw new TypeError(`version is longer than ${BE} characters`);Sa("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?WE[GE.LOOSE]:WE[GE.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ba||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ba||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ba||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<ba)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Sa("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),si(this.major,t.major)||si(this.minor,t.minor)||si(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(Sa("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return si(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(Sa("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return si(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),si(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};jE.exports=lf});var on=g((f8,VE)=>{var HE=$e(),pk=(e,t,r=!1)=>{if(e instanceof HE)return e;try{return new HE(e,t)}catch(n){if(!r)return null;throw n}};VE.exports=pk});var YE=g((d8,zE)=>{var mk=on(),gk=(e,t)=>{let r=mk(e,t);return r?r.version:null};zE.exports=gk});var XE=g((h8,KE)=>{var yk=on(),wk=(e,t)=>{let r=yk(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};KE.exports=wk});var ZE=g((p8,QE)=>{var JE=$e(),_k=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new JE(e instanceof JE?e.version:e,r).inc(t,n,i).version}catch{return null}};QE.exports=_k});var rS=g((m8,tS)=>{var eS=on(),vk=(e,t)=>{let r=eS(e,null,!0),n=eS(t,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,o=s?r:n,a=s?n:r,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let u=l?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};tS.exports=vk});var iS=g((g8,nS)=>{var Ek=$e(),Sk=(e,t)=>new Ek(e,t).major;nS.exports=Sk});var oS=g((y8,sS)=>{var bk=$e(),xk=(e,t)=>new bk(e,t).minor;sS.exports=xk});var lS=g((w8,aS)=>{var Ck=$e(),Ak=(e,t)=>new Ck(e,t).patch;aS.exports=Ak});var cS=g((_8,uS)=>{var Tk=on(),Ok=(e,t)=>{let r=Tk(e,t);return r&&r.prerelease.length?r.prerelease:null};uS.exports=Ok});var gt=g((v8,dS)=>{var fS=$e(),Pk=(e,t,r)=>new fS(e,r).compare(new fS(t,r));dS.exports=Pk});var pS=g((E8,hS)=>{var Nk=gt(),Dk=(e,t,r)=>Nk(t,e,r);hS.exports=Dk});var gS=g((S8,mS)=>{var Rk=gt(),Ik=(e,t)=>Rk(e,t,!0);mS.exports=Ik});var xa=g((b8,wS)=>{var yS=$e(),Fk=(e,t,r)=>{let n=new yS(e,r),i=new yS(t,r);return n.compare(i)||n.compareBuild(i)};wS.exports=Fk});var vS=g((x8,_S)=>{var Lk=xa(),kk=(e,t)=>e.sort((r,n)=>Lk(r,n,t));_S.exports=kk});var SS=g((C8,ES)=>{var Mk=xa(),qk=(e,t)=>e.sort((r,n)=>Mk(n,r,t));ES.exports=qk});var Es=g((A8,bS)=>{var Uk=gt(),$k=(e,t,r)=>Uk(e,t,r)>0;bS.exports=$k});var Ca=g((T8,xS)=>{var Bk=gt(),Wk=(e,t,r)=>Bk(e,t,r)<0;xS.exports=Wk});var uf=g((O8,CS)=>{var Gk=gt(),jk=(e,t,r)=>Gk(e,t,r)===0;CS.exports=jk});var cf=g((P8,AS)=>{var Hk=gt(),Vk=(e,t,r)=>Hk(e,t,r)!==0;AS.exports=Vk});var Aa=g((N8,TS)=>{var zk=gt(),Yk=(e,t,r)=>zk(e,t,r)>=0;TS.exports=Yk});var Ta=g((D8,OS)=>{var Kk=gt(),Xk=(e,t,r)=>Kk(e,t,r)<=0;OS.exports=Xk});var ff=g((R8,PS)=>{var Jk=uf(),Qk=cf(),Zk=Es(),eM=Aa(),tM=Ca(),rM=Ta(),nM=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Jk(e,r,n);case"!=":return Qk(e,r,n);case">":return Zk(e,r,n);case">=":return eM(e,r,n);case"<":return tM(e,r,n);case"<=":return rM(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};PS.exports=nM});var DS=g((I8,NS)=>{var iM=$e(),sM=on(),{safeRe:Oa,t:Pa}=ii(),oM=(e,t)=>{if(e instanceof iM)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Oa[Pa.COERCEFULL]:Oa[Pa.COERCE]);else{let l=t.includePrerelease?Oa[Pa.COERCERTLFULL]:Oa[Pa.COERCERTL],c;for(;(c=l.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return sM(`${n}.${i}.${s}${o}${a}`,t)};NS.exports=oM});var IS=g((F8,RS)=>{var df=class{constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};RS.exports=df});var yt=g((L8,MS)=>{var aM=/\s+/g,hf=class e{constructor(t,r){if(r=uM(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof pf)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(aM," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!LS(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&gM(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&pM)|(this.options.loose&&mM))+":"+t,i=FS.get(n);if(i)return i;let s=this.options.loose,o=s?it[Ye.HYPHENRANGELOOSE]:it[Ye.HYPHENRANGE];t=t.replace(o,AM(this.options.includePrerelease)),oe("hyphen replace",t),t=t.replace(it[Ye.COMPARATORTRIM],fM),oe("comparator trim",t),t=t.replace(it[Ye.TILDETRIM],dM),oe("tilde trim",t),t=t.replace(it[Ye.CARETTRIM],hM),oe("caret trim",t);let a=t.split(" ").map(f=>yM(f,this.options)).join(" ").split(/\s+/).map(f=>CM(f,this.options));s&&(a=a.filter(f=>(oe("loose invalid filter",f,this.options),!!f.match(it[Ye.COMPARATORLOOSE])))),oe("range list",a);let l=new Map,c=a.map(f=>new pf(f,this.options));for(let f of c){if(LS(f))return[f];l.set(f.value,f)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return FS.set(n,u),u}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>kS(n,r)&&t.set.some(i=>kS(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new cM(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(TM(this.set[r],t,this.options))return!0;return!1}};MS.exports=hf;var lM=IS(),FS=new lM,uM=Ea(),pf=Ss(),oe=vs(),cM=$e(),{safeRe:it,t:Ye,comparatorTrimReplace:fM,tildeTrimReplace:dM,caretTrimReplace:hM}=ii(),{FLAG_INCLUDE_PRERELEASE:pM,FLAG_LOOSE:mM}=_s(),LS=e=>e.value==="<0.0.0-0",gM=e=>e.value==="",kS=(e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,t)),i=n.pop();return r},yM=(e,t)=>(oe("comp",e,t),e=vM(e,t),oe("caret",e),e=wM(e,t),oe("tildes",e),e=SM(e,t),oe("xrange",e),e=xM(e,t),oe("stars",e),e),Ke=e=>!e||e.toLowerCase()==="x"||e==="*",wM=(e,t)=>e.trim().split(/\s+/).map(r=>_M(r,t)).join(" "),_M=(e,t)=>{let r=t.loose?it[Ye.TILDELOOSE]:it[Ye.TILDE];return e.replace(r,(n,i,s,o,a)=>{oe("tilde",e,n,i,s,o,a);let l;return Ke(i)?l="":Ke(s)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:Ke(o)?l=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(oe("replaceTilde pr",a),l=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):l=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,oe("tilde return",l),l})},vM=(e,t)=>e.trim().split(/\s+/).map(r=>EM(r,t)).join(" "),EM=(e,t)=>{oe("caret",e,t);let r=t.loose?it[Ye.CARETLOOSE]:it[Ye.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,s,o,a,l)=>{oe("caret",e,i,s,o,a,l);let c;return Ke(s)?c="":Ke(o)?c=`>=${s}.0.0${n} <${+s+1}.0.0-0`:Ke(a)?s==="0"?c=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:l?(oe("replaceCaret pr",l),s==="0"?o==="0"?c=`>=${s}.${o}.${a}-${l} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}-${l} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a}-${l} <${+s+1}.0.0-0`):(oe("no pr"),s==="0"?o==="0"?c=`>=${s}.${o}.${a}${n} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),oe("caret return",c),c})},SM=(e,t)=>(oe("replaceXRanges",e,t),e.split(/\s+/).map(r=>bM(r,t)).join(" ")),bM=(e,t)=>{e=e.trim();let r=t.loose?it[Ye.XRANGELOOSE]:it[Ye.XRANGE];return e.replace(r,(n,i,s,o,a,l)=>{oe("xRange",e,n,i,s,o,a,l);let c=Ke(s),u=c||Ke(o),f=u||Ke(a),h=f;return i==="="&&h&&(i=""),l=t.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&h?(u&&(o=0),a=0,i===">"?(i=">=",u?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",u?s=+s+1:o=+o+1),i==="<"&&(l="-0"),n=`${i+s}.${o}.${a}${l}`):u?n=`>=${s}.0.0${l} <${+s+1}.0.0-0`:f&&(n=`>=${s}.${o}.0${l} <${s}.${+o+1}.0-0`),oe("xRange return",n),n})},xM=(e,t)=>(oe("replaceStars",e,t),e.trim().replace(it[Ye.STAR],"")),CM=(e,t)=>(oe("replaceGTE0",e,t),e.trim().replace(it[t.includePrerelease?Ye.GTE0PRE:Ye.GTE0],"")),AM=e=>(t,r,n,i,s,o,a,l,c,u,f,h)=>(Ke(n)?r="":Ke(i)?r=`>=${n}.0.0${e?"-0":""}`:Ke(s)?r=`>=${n}.${i}.0${e?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,Ke(c)?l="":Ke(u)?l=`<${+c+1}.0.0-0`:Ke(f)?l=`<${c}.${+u+1}.0-0`:h?l=`<=${c}.${u}.${f}-${h}`:e?l=`<${c}.${u}.${+f+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),TM=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(oe(e[n].semver),e[n].semver!==pf.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}});var Ss=g((k8,GS)=>{var bs=Symbol("SemVer ANY"),yf=class e{static get ANY(){return bs}constructor(t,r){if(r=qS(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),gf("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===bs?this.value="":this.value=this.operator+this.semver.version,gf("comp",this)}parse(t){let r=this.options.loose?US[$S.COMPARATORLOOSE]:US[$S.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new BS(n[2],this.options.loose):this.semver=bs}toString(){return this.value}test(t){if(gf("Comparator.test",t,this.options.loose),this.semver===bs||t===bs)return!0;if(typeof t=="string")try{t=new BS(t,this.options)}catch{return!1}return mf(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new WS(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new WS(this.value,r).test(t.semver):(r=qS(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||mf(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||mf(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};GS.exports=yf;var qS=Ea(),{safeRe:US,t:$S}=ii(),mf=ff(),gf=vs(),BS=$e(),WS=yt()});var xs=g((M8,jS)=>{var OM=yt(),PM=(e,t,r)=>{try{t=new OM(t,r)}catch{return!1}return t.test(e)};jS.exports=PM});var VS=g((q8,HS)=>{var NM=yt(),DM=(e,t)=>new NM(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));HS.exports=DM});var YS=g((U8,zS)=>{var RM=$e(),IM=yt(),FM=(e,t,r)=>{let n=null,i=null,s=null;try{s=new IM(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new RM(n,r))}),n};zS.exports=FM});var XS=g(($8,KS)=>{var LM=$e(),kM=yt(),MM=(e,t,r)=>{let n=null,i=null,s=null;try{s=new kM(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new LM(n,r))}),n};KS.exports=MM});var ZS=g((B8,QS)=>{var wf=$e(),qM=yt(),JS=Es(),UM=(e,t)=>{e=new qM(e,t);let r=new wf("0.0.0");if(e.test(r)||(r=new wf("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(o=>{let a=new wf(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||JS(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||JS(r,s))&&(r=s)}return r&&e.test(r)?r:null};QS.exports=UM});var tb=g((W8,eb)=>{var $M=yt(),BM=(e,t)=>{try{return new $M(e,t).range||"*"}catch{return null}};eb.exports=BM});var Na=g((G8,sb)=>{var WM=$e(),ib=Ss(),{ANY:GM}=ib,jM=yt(),HM=xs(),rb=Es(),nb=Ca(),VM=Ta(),zM=Aa(),YM=(e,t,r,n)=>{e=new WM(e,n),t=new jM(t,n);let i,s,o,a,l;switch(r){case">":i=rb,s=VM,o=nb,a=">",l=">=";break;case"<":i=nb,s=zM,o=rb,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(HM(e,t,n))return!1;for(let c=0;c<t.set.length;++c){let u=t.set[c],f=null,h=null;if(u.forEach(p=>{p.semver===GM&&(p=new ib(">=0.0.0")),f=f||p,h=h||p,i(p.semver,f.semver,n)?f=p:o(p.semver,h.semver,n)&&(h=p)}),f.operator===a||f.operator===l||(!h.operator||h.operator===a)&&s(e,h.semver))return!1;if(h.operator===l&&o(e,h.semver))return!1}return!0};sb.exports=YM});var ab=g((j8,ob)=>{var KM=Na(),XM=(e,t,r)=>KM(e,t,">",r);ob.exports=XM});var ub=g((H8,lb)=>{var JM=Na(),QM=(e,t,r)=>JM(e,t,"<",r);lb.exports=QM});var db=g((V8,fb)=>{var cb=yt(),ZM=(e,t,r)=>(e=new cb(e,r),t=new cb(t,r),e.intersects(t,r));fb.exports=ZM});var pb=g((z8,hb)=>{var eq=xs(),tq=gt();hb.exports=(e,t,r)=>{let n=[],i=null,s=null,o=e.sort((u,f)=>tq(u,f,r));for(let u of o)eq(u,t,r)?(s=u,i||(i=u)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let a=[];for(let[u,f]of n)u===f?a.push(u):!f&&u===o[0]?a.push("*"):f?u===o[0]?a.push(`<=${f}`):a.push(`${u} - ${f}`):a.push(`>=${u}`);let l=a.join(" || "),c=typeof t.raw=="string"?t.raw:String(t);return l.length<c.length?l:t}});var vb=g((Y8,_b)=>{var mb=yt(),vf=Ss(),{ANY:_f}=vf,Cs=xs(),Ef=gt(),rq=(e,t,r={})=>{if(e===t)return!0;e=new mb(e,r),t=new mb(t,r);let n=!1;e:for(let i of e.set){for(let s of t.set){let o=iq(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},nq=[new vf(">=0.0.0-0")],gb=[new vf(">=0.0.0")],iq=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===_f){if(t.length===1&&t[0].semver===_f)return!0;r.includePrerelease?e=nq:e=gb}if(t.length===1&&t[0].semver===_f){if(r.includePrerelease)return!0;t=gb}let n=new Set,i,s;for(let p of e)p.operator===">"||p.operator===">="?i=yb(i,p,r):p.operator==="<"||p.operator==="<="?s=wb(s,p,r):n.add(p.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Ef(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let p of n){if(i&&!Cs(p,String(i),r)||s&&!Cs(p,String(s),r))return null;for(let y of t)if(!Cs(p,String(y),r))return!1;return!0}let a,l,c,u,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let p of t){if(u=u||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(a=yb(i,p,r),a===p&&a!==i)return!1}else if(i.operator===">="&&!Cs(i.semver,String(p),r))return!1}if(s){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(l=wb(s,p,r),l===p&&l!==s)return!1}else if(s.operator==="<="&&!Cs(s.semver,String(p),r))return!1}if(!p.operator&&(s||i)&&o!==0)return!1}return!(i&&c&&!s&&o!==0||s&&u&&!i&&o!==0||h||f)},yb=(e,t,r)=>{if(!e)return t;let n=Ef(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},wb=(e,t,r)=>{if(!e)return t;let n=Ef(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};_b.exports=rq});var bf=g((K8,bb)=>{var Sf=ii(),Eb=_s(),sq=$e(),Sb=af(),oq=on(),aq=YE(),lq=XE(),uq=ZE(),cq=rS(),fq=iS(),dq=oS(),hq=lS(),pq=cS(),mq=gt(),gq=pS(),yq=gS(),wq=xa(),_q=vS(),vq=SS(),Eq=Es(),Sq=Ca(),bq=uf(),xq=cf(),Cq=Aa(),Aq=Ta(),Tq=ff(),Oq=DS(),Pq=Ss(),Nq=yt(),Dq=xs(),Rq=VS(),Iq=YS(),Fq=XS(),Lq=ZS(),kq=tb(),Mq=Na(),qq=ab(),Uq=ub(),$q=db(),Bq=pb(),Wq=vb();bb.exports={parse:oq,valid:aq,clean:lq,inc:uq,diff:cq,major:fq,minor:dq,patch:hq,prerelease:pq,compare:mq,rcompare:gq,compareLoose:yq,compareBuild:wq,sort:_q,rsort:vq,gt:Eq,lt:Sq,eq:bq,neq:xq,gte:Cq,lte:Aq,cmp:Tq,coerce:Oq,Comparator:Pq,Range:Nq,satisfies:Dq,toComparators:Rq,maxSatisfying:Iq,minSatisfying:Fq,minVersion:Lq,validRange:kq,outside:Mq,gtr:qq,ltr:Uq,intersects:$q,simplifyRange:Bq,subset:Wq,SemVer:sq,re:Sf.re,src:Sf.src,tokens:Sf.t,SEMVER_SPEC_VERSION:Eb.SEMVER_SPEC_VERSION,RELEASE_TYPES:Eb.RELEASE_TYPES,compareIdentifiers:Sb.compareIdentifiers,rcompareIdentifiers:Sb.rcompareIdentifiers}});var ix=g((As,ai)=>{var Gq=200,Ff="__lodash_hash_undefined__",qa=1,Lb=2,kb=9007199254740991,Da="[object Arguments]",Tf="[object Array]",jq="[object AsyncFunction]",Mb="[object Boolean]",qb="[object Date]",Ub="[object Error]",$b="[object Function]",Hq="[object GeneratorFunction]",Ra="[object Map]",Bb="[object Number]",Vq="[object Null]",oi="[object Object]",xb="[object Promise]",zq="[object Proxy]",Wb="[object RegExp]",Ia="[object Set]",Gb="[object String]",Yq="[object Symbol]",Kq="[object Undefined]",Of="[object WeakMap]",jb="[object ArrayBuffer]",Fa="[object DataView]",Xq="[object Float32Array]",Jq="[object Float64Array]",Qq="[object Int8Array]",Zq="[object Int16Array]",eU="[object Int32Array]",tU="[object Uint8Array]",rU="[object Uint8ClampedArray]",nU="[object Uint16Array]",iU="[object Uint32Array]",sU=/[\\^$.*+?()[\]{}|]/g,oU=/^\[object .+?Constructor\]$/,aU=/^(?:0|[1-9]\d*)$/,ae={};ae[Xq]=ae[Jq]=ae[Qq]=ae[Zq]=ae[eU]=ae[tU]=ae[rU]=ae[nU]=ae[iU]=!0;ae[Da]=ae[Tf]=ae[jb]=ae[Mb]=ae[Fa]=ae[qb]=ae[Ub]=ae[$b]=ae[Ra]=ae[Bb]=ae[oi]=ae[Wb]=ae[Ia]=ae[Gb]=ae[Of]=!1;var Hb=typeof global=="object"&&global&&global.Object===Object&&global,lU=typeof self=="object"&&self&&self.Object===Object&&self,nr=Hb||lU||Function("return this")(),Vb=typeof As=="object"&&As&&!As.nodeType&&As,Cb=Vb&&typeof ai=="object"&&ai&&!ai.nodeType&&ai,zb=Cb&&Cb.exports===Vb,xf=zb&&Hb.process,Ab=(function(){try{return xf&&xf.binding&&xf.binding("util")}catch{}})(),Tb=Ab&&Ab.isTypedArray;function uU(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}function cU(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function fU(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function dU(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function hU(e){return function(t){return e(t)}}function pU(e,t){return e.has(t)}function mU(e,t){return e?.[t]}function gU(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function yU(e,t){return function(r){return e(t(r))}}function wU(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var _U=Array.prototype,vU=Function.prototype,Ua=Object.prototype,Cf=nr["__core-js_shared__"],Yb=vU.toString,qt=Ua.hasOwnProperty,Ob=(function(){var e=/[^.]+$/.exec(Cf&&Cf.keys&&Cf.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),Kb=Ua.toString,EU=RegExp("^"+Yb.call(qt).replace(sU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pb=zb?nr.Buffer:void 0,La=nr.Symbol,Nb=nr.Uint8Array,Xb=Ua.propertyIsEnumerable,SU=_U.splice,an=La?La.toStringTag:void 0,Db=Object.getOwnPropertySymbols,bU=Pb?Pb.isBuffer:void 0,xU=yU(Object.keys,Object),Pf=li(nr,"DataView"),Ts=li(nr,"Map"),Nf=li(nr,"Promise"),Df=li(nr,"Set"),Rf=li(nr,"WeakMap"),Os=li(Object,"create"),CU=cn(Pf),AU=cn(Ts),TU=cn(Nf),OU=cn(Df),PU=cn(Rf),Rb=La?La.prototype:void 0,Af=Rb?Rb.valueOf:void 0;function ln(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function NU(){this.__data__=Os?Os(null):{},this.size=0}function DU(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function RU(e){var t=this.__data__;if(Os){var r=t[e];return r===Ff?void 0:r}return qt.call(t,e)?t[e]:void 0}function IU(e){var t=this.__data__;return Os?t[e]!==void 0:qt.call(t,e)}function FU(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Os&&t===void 0?Ff:t,this}ln.prototype.clear=NU;ln.prototype.delete=DU;ln.prototype.get=RU;ln.prototype.has=IU;ln.prototype.set=FU;function ir(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function LU(){this.__data__=[],this.size=0}function kU(e){var t=this.__data__,r=$a(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():SU.call(t,r,1),--this.size,!0}function MU(e){var t=this.__data__,r=$a(t,e);return r<0?void 0:t[r][1]}function qU(e){return $a(this.__data__,e)>-1}function UU(e,t){var r=this.__data__,n=$a(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}ir.prototype.clear=LU;ir.prototype.delete=kU;ir.prototype.get=MU;ir.prototype.has=qU;ir.prototype.set=UU;function un(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function $U(){this.size=0,this.__data__={hash:new ln,map:new(Ts||ir),string:new ln}}function BU(e){var t=Ba(this,e).delete(e);return this.size-=t?1:0,t}function WU(e){return Ba(this,e).get(e)}function GU(e){return Ba(this,e).has(e)}function jU(e,t){var r=Ba(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}un.prototype.clear=$U;un.prototype.delete=BU;un.prototype.get=WU;un.prototype.has=GU;un.prototype.set=jU;function ka(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new un;++t<r;)this.add(e[t])}function HU(e){return this.__data__.set(e,Ff),this}function VU(e){return this.__data__.has(e)}ka.prototype.add=ka.prototype.push=HU;ka.prototype.has=VU;function Or(e){var t=this.__data__=new ir(e);this.size=t.size}function zU(){this.__data__=new ir,this.size=0}function YU(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function KU(e){return this.__data__.get(e)}function XU(e){return this.__data__.has(e)}function JU(e,t){var r=this.__data__;if(r instanceof ir){var n=r.__data__;if(!Ts||n.length<Gq-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new un(n)}return r.set(e,t),this.size=r.size,this}Or.prototype.clear=zU;Or.prototype.delete=YU;Or.prototype.get=KU;Or.prototype.has=XU;Or.prototype.set=JU;function QU(e,t){var r=Ma(e),n=!r&&h2(e),i=!r&&!n&&If(e),s=!r&&!n&&!i&&nx(e),o=r||n||i||s,a=o?dU(e.length,String):[],l=a.length;for(var c in e)(t||qt.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||l2(c,l)))&&a.push(c);return a}function $a(e,t){for(var r=e.length;r--;)if(Zb(e[r][0],t))return r;return-1}function ZU(e,t,r){var n=t(e);return Ma(e)?n:cU(n,r(e))}function Ns(e){return e==null?e===void 0?Kq:Vq:an&&an in Object(e)?o2(e):d2(e)}function Ib(e){return Ps(e)&&Ns(e)==Da}function Jb(e,t,r,n,i){return e===t?!0:e==null||t==null||!Ps(e)&&!Ps(t)?e!==e&&t!==t:e2(e,t,r,n,Jb,i)}function e2(e,t,r,n,i,s){var o=Ma(e),a=Ma(t),l=o?Tf:Tr(e),c=a?Tf:Tr(t);l=l==Da?oi:l,c=c==Da?oi:c;var u=l==oi,f=c==oi,h=l==c;if(h&&If(e)){if(!If(t))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new Or),o||nx(e)?Qb(e,t,r,n,i,s):i2(e,t,l,r,n,i,s);if(!(r&qa)){var p=u&&qt.call(e,"__wrapped__"),y=f&&qt.call(t,"__wrapped__");if(p||y){var w=p?e.value():e,S=y?t.value():t;return s||(s=new Or),i(w,S,r,n,s)}}return h?(s||(s=new Or),s2(e,t,r,n,i,s)):!1}function t2(e){if(!rx(e)||c2(e))return!1;var t=ex(e)?EU:oU;return t.test(cn(e))}function r2(e){return Ps(e)&&tx(e.length)&&!!ae[Ns(e)]}function n2(e){if(!f2(e))return xU(e);var t=[];for(var r in Object(e))qt.call(e,r)&&r!="constructor"&&t.push(r);return t}function Qb(e,t,r,n,i,s){var o=r&qa,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var u=-1,f=!0,h=r&Lb?new ka:void 0;for(s.set(e,t),s.set(t,e);++u<a;){var p=e[u],y=t[u];if(n)var w=o?n(y,p,u,t,e,s):n(p,y,u,e,t,s);if(w!==void 0){if(w)continue;f=!1;break}if(h){if(!fU(t,function(S,x){if(!pU(h,x)&&(p===S||i(p,S,r,n,s)))return h.push(x)})){f=!1;break}}else if(!(p===y||i(p,y,r,n,s))){f=!1;break}}return s.delete(e),s.delete(t),f}function i2(e,t,r,n,i,s,o){switch(r){case Fa:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case jb:return!(e.byteLength!=t.byteLength||!s(new Nb(e),new Nb(t)));case Mb:case qb:case Bb:return Zb(+e,+t);case Ub:return e.name==t.name&&e.message==t.message;case Wb:case Gb:return e==t+"";case Ra:var a=gU;case Ia:var l=n&qa;if(a||(a=wU),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;n|=Lb,o.set(e,t);var u=Qb(a(e),a(t),n,i,s,o);return o.delete(e),u;case Yq:if(Af)return Af.call(e)==Af.call(t)}return!1}function s2(e,t,r,n,i,s){var o=r&qa,a=Fb(e),l=a.length,c=Fb(t),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var h=a[f];if(!(o?h in t:qt.call(t,h)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var y=!0;s.set(e,t),s.set(t,e);for(var w=o;++f<l;){h=a[f];var S=e[h],x=t[h];if(n)var C=o?n(x,S,h,t,e,s):n(S,x,h,e,t,s);if(!(C===void 0?S===x||i(S,x,r,n,s):C)){y=!1;break}w||(w=h=="constructor")}if(y&&!w){var q=e.constructor,H=t.constructor;q!=H&&"constructor"in e&&"constructor"in t&&!(typeof q=="function"&&q instanceof q&&typeof H=="function"&&H instanceof H)&&(y=!1)}return s.delete(e),s.delete(t),y}function Fb(e){return ZU(e,g2,a2)}function Ba(e,t){var r=e.__data__;return u2(t)?r[typeof t=="string"?"string":"hash"]:r.map}function li(e,t){var r=mU(e,t);return t2(r)?r:void 0}function o2(e){var t=qt.call(e,an),r=e[an];try{e[an]=void 0;var n=!0}catch{}var i=Kb.call(e);return n&&(t?e[an]=r:delete e[an]),i}var a2=Db?function(e){return e==null?[]:(e=Object(e),uU(Db(e),function(t){return Xb.call(e,t)}))}:y2,Tr=Ns;(Pf&&Tr(new Pf(new ArrayBuffer(1)))!=Fa||Ts&&Tr(new Ts)!=Ra||Nf&&Tr(Nf.resolve())!=xb||Df&&Tr(new Df)!=Ia||Rf&&Tr(new Rf)!=Of)&&(Tr=function(e){var t=Ns(e),r=t==oi?e.constructor:void 0,n=r?cn(r):"";if(n)switch(n){case CU:return Fa;case AU:return Ra;case TU:return xb;case OU:return Ia;case PU:return Of}return t});function l2(e,t){return t=t??kb,!!t&&(typeof e=="number"||aU.test(e))&&e>-1&&e%1==0&&e<t}function u2(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function c2(e){return!!Ob&&Ob in e}function f2(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ua;return e===r}function d2(e){return Kb.call(e)}function cn(e){if(e!=null){try{return Yb.call(e)}catch{}try{return e+""}catch{}}return""}function Zb(e,t){return e===t||e!==e&&t!==t}var h2=Ib((function(){return arguments})())?Ib:function(e){return Ps(e)&&qt.call(e,"callee")&&!Xb.call(e,"callee")},Ma=Array.isArray;function p2(e){return e!=null&&tx(e.length)&&!ex(e)}var If=bU||w2;function m2(e,t){return Jb(e,t)}function ex(e){if(!rx(e))return!1;var t=Ns(e);return t==$b||t==Hq||t==jq||t==zq}function tx(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kb}function rx(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Ps(e){return e!=null&&typeof e=="object"}var nx=Tb?hU(Tb):r2;function g2(e){return p2(e)?QU(e):n2(e)}function y2(){return[]}function w2(){return!1}ai.exports=m2});var ox=g(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.DownloadedUpdateHelper=void 0;Rs.createTempUpdateFile=S2;var _2=require("crypto"),v2=require("fs"),sx=ix(),fn=er(),Ds=require("path"),Lf=class{constructor(t){this.cacheDir=t,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}get downloadedFileInfo(){return this._downloadedFileInfo}get file(){return this._file}get packageFile(){return this._packageFile}get cacheDirForPendingUpdate(){return Ds.join(this.cacheDir,"pending")}async validateDownloadedPath(t,r,n,i){if(this.versionInfo!=null&&this.file===t&&this.fileInfo!=null)return sx(this.versionInfo,r)&&sx(this.fileInfo.info,n.info)&&await(0,fn.pathExists)(t)?t:null;let s=await this.getValidCachedUpdateFile(n,i);return s===null?null:(i.info(`Update has already been downloaded to ${t}).`),this._file=s,s)}async setDownloadedFile(t,r,n,i,s,o){this._file=t,this._packageFile=r,this.versionInfo=n,this.fileInfo=i,this._downloadedFileInfo={fileName:s,sha512:i.info.sha512,isAdminRightsRequired:i.info.isAdminRightsRequired===!0},o&&await(0,fn.outputJson)(this.getUpdateInfoFile(),this._downloadedFileInfo)}async clear(){this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,await this.cleanCacheDirForPendingUpdate()}async cleanCacheDirForPendingUpdate(){try{await(0,fn.emptyDir)(this.cacheDirForPendingUpdate)}catch{}}async getValidCachedUpdateFile(t,r){let n=this.getUpdateInfoFile();if(!await(0,fn.pathExists)(n))return null;let s;try{s=await(0,fn.readJson)(n)}catch(c){let u="No cached update info available";return c.code!=="ENOENT"&&(await this.cleanCacheDirForPendingUpdate(),u+=` (error on read: ${c.message})`),r.info(u),null}if(!(s?.fileName!==null))return r.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),await this.cleanCacheDirForPendingUpdate(),null;if(t.info.sha512!==s.sha512)return r.info(`Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${s.sha512}, expected: ${t.info.sha512}. Directory for cached update will be cleaned`),await this.cleanCacheDirForPendingUpdate(),null;let a=Ds.join(this.cacheDirForPendingUpdate,s.fileName);if(!await(0,fn.pathExists)(a))return r.info("Cached update file doesn't exist"),null;let l=await E2(a);return t.info.sha512!==l?(r.warn(`Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${l}, expected: ${t.info.sha512}`),await this.cleanCacheDirForPendingUpdate(),null):(this._downloadedFileInfo=s,a)}getUpdateInfoFile(){return Ds.join(this.cacheDirForPendingUpdate,"update-info.json")}};Rs.DownloadedUpdateHelper=Lf;function E2(e,t="sha512",r="base64",n){return new Promise((i,s)=>{let o=(0,_2.createHash)(t);o.on("error",s).setEncoding(r),(0,v2.createReadStream)(e,{...n,highWaterMark:1024*1024}).on("error",s).on("end",()=>{o.end(),i(o.read())}).pipe(o,{end:!1})})}async function S2(e,t,r){let n=0,i=Ds.join(t,e);for(let s=0;s<3;s++)try{return await(0,fn.unlink)(i),i}catch(o){if(o.code==="ENOENT")return i;r.warn(`Error on remove temp update file: ${o}`),i=Ds.join(t,`${n++}-${e}`)}return i}});var ax=g(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.getAppCacheDir=x2;var kf=require("path"),b2=require("os");function x2(){let e=(0,b2.homedir)(),t;return process.platform==="win32"?t=process.env.LOCALAPPDATA||kf.join(e,"AppData","Local"):process.platform==="darwin"?t=kf.join(e,"Library","Caches"):t=process.env.XDG_CACHE_HOME||kf.join(e,".cache"),t}});var ux=g(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.ElectronAppAdapter=void 0;var lx=require("path"),C2=ax(),qf=class{constructor(t=require("electron").app){this.app=t}whenReady(){return this.app.whenReady()}get version(){return this.app.getVersion()}get name(){return this.app.getName()}get isPackaged(){return this.app.isPackaged===!0}get appUpdateConfigPath(){return this.isPackaged?lx.join(process.resourcesPath,"app-update.yml"):lx.join(this.app.getAppPath(),"dev-app-update.yml")}get userDataPath(){return this.app.getPath("userData")}get baseCachePath(){return(0,C2.getAppCacheDir)()}quit(){this.app.quit()}relaunch(){this.app.relaunch()}onQuit(t){this.app.once("quit",(r,n)=>t(n))}};Wa.ElectronAppAdapter=qf});var fx=g(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.ElectronHttpExecutor=Pr.NET_SESSION_NAME=void 0;Pr.getNetSession=cx;var Ga=Pe();Pr.NET_SESSION_NAME="electron-updater";function cx(){return require("electron").session.fromPartition(Pr.NET_SESSION_NAME,{cache:!1})}var Uf=class extends Ga.HttpExecutor{constructor(t){super(),this.proxyLoginCallback=t,this.cachedSession=null}async download(t,r,n){return await n.cancellationToken.createPromise((i,s,o)=>{let a={headers:n.headers||void 0,redirect:"manual"};(0,Ga.configureRequestUrl)(t,a),(0,Ga.configureRequestOptions)(a),this.doDownload(a,{destination:r,options:n,onCancel:o,callback:l=>{l==null?i(r):s(l)},responseHandler:null},0)})}createRequest(t,r){t.headers&&t.headers.Host&&(t.host=t.headers.Host,delete t.headers.Host),this.cachedSession==null&&(this.cachedSession=cx());let n=require("electron").net.request({...t,session:this.cachedSession});return n.on("response",r),this.proxyLoginCallback!=null&&n.on("login",this.proxyLoginCallback),n}addRedirectHandlers(t,r,n,i,s){t.on("redirect",(o,a,l)=>{t.abort(),i>this.maxRedirects?n(this.createMaxRedirectError()):s(Ga.HttpExecutor.prepareRedirectUrlOptions(l,r))})}};Pr.ElectronHttpExecutor=Uf});var yx=g((e4,gx)=>{var A2=1/0,T2="[object Symbol]",mx=/[\\^$.*+?()[\]{}|]/g,O2=RegExp(mx.source),P2=typeof global=="object"&&global&&global.Object===Object&&global,N2=typeof self=="object"&&self&&self.Object===Object&&self,D2=P2||N2||Function("return this")(),R2=Object.prototype,I2=R2.toString,dx=D2.Symbol,hx=dx?dx.prototype:void 0,px=hx?hx.toString:void 0;function F2(e){if(typeof e=="string")return e;if(k2(e))return px?px.call(e):"";var t=e+"";return t=="0"&&1/e==-A2?"-0":t}function L2(e){return!!e&&typeof e=="object"}function k2(e){return typeof e=="symbol"||L2(e)&&I2.call(e)==T2}function M2(e){return e==null?"":F2(e)}function q2(e){return e=M2(e),e&&O2.test(e)?e.replace(mx,"\\$&"):e}gx.exports=q2});var Nr=g(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.newBaseUrl=$2;ui.newUrlFromBase=$f;ui.getChannelFilename=B2;ui.blockmapFiles=W2;var wx=require("url"),U2=yx();function $2(e){let t=new wx.URL(e);return t.pathname.endsWith("/")||(t.pathname+="/"),t}function $f(e,t,r=!1){let n=new wx.URL(e,t),i=t.search;return i!=null&&i.length!==0?n.search=i:r&&(n.search=`noCache=${Date.now().toString(32)}`),n}function B2(e){return`${e}.yml`}function W2(e,t,r){let n=$f(`${e.pathname}.blockmap`,e);return[$f(`${e.pathname.replace(new RegExp(U2(r),"g"),t)}.blockmap`,e),n]}});var ct=g(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.Provider=void 0;Rr.findFile=j2;Rr.parseUpdateInfo=H2;Rr.getFileList=vx;Rr.resolveFiles=V2;var Dr=Pe(),G2=_a(),_x=Nr(),Bf=class{constructor(t){this.runtimeOptions=t,this.requestHeaders=null,this.executor=t.executor}get isUseMultipleRangeRequest(){return this.runtimeOptions.isUseMultipleRangeRequest!==!1}getChannelFilePrefix(){if(this.runtimeOptions.platform==="linux"){let t=process.env.TEST_UPDATER_ARCH||process.arch;return"-linux"+(t==="x64"?"":`-${t}`)}else return this.runtimeOptions.platform==="darwin"?"-mac":""}getDefaultChannelName(){return this.getCustomChannelName("latest")}getCustomChannelName(t){return`${t}${this.getChannelFilePrefix()}`}get fileExtraDownloadHeaders(){return null}setRequestHeaders(t){this.requestHeaders=t}httpRequest(t,r,n){return this.executor.request(this.createRequestOptions(t,r),n)}createRequestOptions(t,r){let n={};return this.requestHeaders==null?r!=null&&(n.headers=r):n.headers=r==null?this.requestHeaders:{...this.requestHeaders,...r},(0,Dr.configureRequestUrl)(t,n),n}};Rr.Provider=Bf;function j2(e,t,r){if(e.length===0)throw(0,Dr.newError)("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");let n=e.find(i=>i.url.pathname.toLowerCase().endsWith(`.${t}`));return n??(r==null?e[0]:e.find(i=>!r.some(s=>i.url.pathname.toLowerCase().endsWith(`.${s}`))))}function H2(e,t,r){if(e==null)throw(0,Dr.newError)(`Cannot parse update info from ${t} in the latest release artifacts (${r}): rawData: null`,"ERR_UPDATER_INVALID_UPDATE_INFO");let n;try{n=(0,G2.load)(e)}catch(i){throw(0,Dr.newError)(`Cannot parse update info from ${t} in the latest release artifacts (${r}): ${i.stack||i.message}, rawData: ${e}`,"ERR_UPDATER_INVALID_UPDATE_INFO")}return n}function vx(e){let t=e.files;if(t!=null&&t.length>0)return t;if(e.path!=null)return[{url:e.path,sha2:e.sha2,sha512:e.sha512}];throw(0,Dr.newError)(`No files provided: ${(0,Dr.safeStringifyJson)(e)}`,"ERR_UPDATER_NO_FILES_PROVIDED")}function V2(e,t,r=n=>n){let i=vx(e).map(a=>{if(a.sha2==null&&a.sha512==null)throw(0,Dr.newError)(`Update info doesn't contain nor sha256 neither sha512 checksum: ${(0,Dr.safeStringifyJson)(a)}`,"ERR_UPDATER_NO_CHECKSUM");return{url:(0,_x.newUrlFromBase)(r(a.url),t),info:a}}),s=e.packages,o=s==null?null:s[process.arch]||s.ia32;return o!=null&&(i[0].packageInfo={...o,path:(0,_x.newUrlFromBase)(r(o.path),t).href}),i}});var Hf=g(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.GenericProvider=void 0;var Ex=Pe(),Wf=Nr(),Gf=ct(),jf=class extends Gf.Provider{constructor(t,r,n){super(n),this.configuration=t,this.updater=r,this.baseUrl=(0,Wf.newBaseUrl)(this.configuration.url)}get channel(){let t=this.updater.channel||this.configuration.channel;return t==null?this.getDefaultChannelName():this.getCustomChannelName(t)}async getLatestVersion(){let t=(0,Wf.getChannelFilename)(this.channel),r=(0,Wf.newUrlFromBase)(t,this.baseUrl,this.updater.isAddNoCacheQuery);for(let n=0;;n++)try{return(0,Gf.parseUpdateInfo)(await this.httpRequest(r),t,r)}catch(i){if(i instanceof Ex.HttpError&&i.statusCode===404)throw(0,Ex.newError)(`Cannot find channel "${t}" update info: ${i.stack||i.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");if(i.code==="ECONNREFUSED"&&n<3){await new Promise((s,o)=>{try{setTimeout(s,1e3*n)}catch(a){o(a)}});continue}throw i}}resolveFiles(t){return(0,Gf.resolveFiles)(t,this.baseUrl)}};ja.GenericProvider=jf});var bx=g(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.BitbucketProvider=void 0;var Sx=Pe(),Vf=Nr(),zf=ct(),Yf=class extends zf.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r;let{owner:i,slug:s}=t;this.baseUrl=(0,Vf.newBaseUrl)(`https://api.bitbucket.org/2.0/repositories/${i}/${s}/downloads`)}get channel(){return this.updater.channel||this.configuration.channel||"latest"}async getLatestVersion(){let t=new Sx.CancellationToken,r=(0,Vf.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,Vf.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{let i=await this.httpRequest(n,void 0,t);return(0,zf.parseUpdateInfo)(i,r,n)}catch(i){throw(0,Sx.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return(0,zf.resolveFiles)(t,this.baseUrl)}toString(){let{owner:t,slug:r}=this.configuration;return`Bitbucket (owner: ${t}, slug: ${r}, channel: ${this.channel})`}};Ha.BitbucketProvider=Yf});var Qf=g(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.GitHubProvider=dn.BaseGitHubProvider=void 0;dn.computeReleaseNotes=Cx;var sr=Pe(),ci=bf(),z2=require("url"),fi=Nr(),Xf=ct(),Kf=/\/tag\/([^/]+)$/,Va=class extends Xf.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.options=t,this.baseUrl=(0,fi.newBaseUrl)((0,sr.githubUrl)(t,r));let i=r==="github.com"?"api.github.com":r;this.baseApiUrl=(0,fi.newBaseUrl)((0,sr.githubUrl)(t,i))}computeGithubBasePath(t){let r=this.options.host;return r&&!["github.com","api.github.com"].includes(r)?`/api/v3${t}`:t}};dn.BaseGitHubProvider=Va;var Jf=class extends Va{constructor(t,r,n){super(t,"github.com",n),this.options=t,this.updater=r}get channel(){let t=this.updater.channel||this.options.channel;return t==null?this.getDefaultChannelName():this.getCustomChannelName(t)}async getLatestVersion(){var t,r,n,i,s;let o=new sr.CancellationToken,a=await this.httpRequest((0,fi.newUrlFromBase)(`${this.basePath}.atom`,this.baseUrl),{accept:"application/xml, application/atom+xml, text/xml, */*"},o),l=(0,sr.parseXml)(a),c=l.element("entry",!1,"No published versions on GitHub"),u=null;try{if(this.updater.allowPrerelease){let S=((t=this.updater)===null||t===void 0?void 0:t.channel)||((r=ci.prerelease(this.updater.currentVersion))===null||r===void 0?void 0:r[0])||null;if(S===null)u=Kf.exec(c.element("link").attribute("href"))[1];else for(let x of l.getElements("entry")){let C=Kf.exec(x.element("link").attribute("href"));if(C===null)continue;let q=C[1],H=((n=ci.prerelease(q))===null||n===void 0?void 0:n[0])||null,de=!S||["alpha","beta"].includes(S),P=H!==null&&!["alpha","beta"].includes(String(H));if(de&&!P&&!(S==="beta"&&H==="alpha")){u=q;break}if(H&&H===S){u=q;break}}}else{u=await this.getLatestTagName(o);for(let S of l.getElements("entry"))if(Kf.exec(S.element("link").attribute("href"))[1]===u){c=S;break}}}catch(S){throw(0,sr.newError)(`Cannot parse releases feed: ${S.stack||S.message},
XML:
${a}`,"ERR_UPDATER_INVALID_RELEASE_FEED")}if(u==null)throw(0,sr.newError)("No published versions on GitHub","ERR_UPDATER_NO_PUBLISHED_VERSIONS");let f,h="",p="",y=async S=>{h=(0,fi.getChannelFilename)(S),p=(0,fi.newUrlFromBase)(this.getBaseDownloadPath(String(u),h),this.baseUrl);let x=this.createRequestOptions(p);try{return await this.executor.request(x,o)}catch(C){throw C instanceof sr.HttpError&&C.statusCode===404?(0,sr.newError)(`Cannot find ${h} in the latest release artifacts (${p}): ${C.stack||C.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):C}};try{let S=this.channel;this.updater.allowPrerelease&&(!((i=ci.prerelease(u))===null||i===void 0)&&i[0])&&(S=this.getCustomChannelName(String((s=ci.prerelease(u))===null||s===void 0?void 0:s[0]))),f=await y(S)}catch(S){if(this.updater.allowPrerelease)f=await y(this.getDefaultChannelName());else throw S}let w=(0,Xf.parseUpdateInfo)(f,h,p);return w.releaseName==null&&(w.releaseName=c.elementValueOrEmpty("title")),w.releaseNotes==null&&(w.releaseNotes=Cx(this.updater.currentVersion,this.updater.fullChangelog,l,c)),{tag:u,...w}}async getLatestTagName(t){let r=this.options,n=r.host==null||r.host==="github.com"?(0,fi.newUrlFromBase)(`${this.basePath}/latest`,this.baseUrl):new z2.URL(`${this.computeGithubBasePath(`/repos/${r.owner}/${r.repo}/releases`)}/latest`,this.baseApiUrl);try{let i=await this.httpRequest(n,{Accept:"application/json"},t);return i==null?null:JSON.parse(i).tag_name}catch(i){throw(0,sr.newError)(`Unable to find latest version on GitHub (${n}), please ensure a production release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return`/${this.options.owner}/${this.options.repo}/releases`}resolveFiles(t){return(0,Xf.resolveFiles)(t,this.baseUrl,r=>this.getBaseDownloadPath(t.tag,r.replace(/ /g,"-")))}getBaseDownloadPath(t,r){return`${this.basePath}/download/${t}/${r}`}};dn.GitHubProvider=Jf;function xx(e){let t=e.elementValueOrEmpty("content");return t==="No content."?"":t}function Cx(e,t,r,n){if(!t)return xx(n);let i=[];for(let s of r.getElements("entry")){let o=/\/tag\/v?([^/]+)$/.exec(s.element("link").attribute("href"))[1];ci.lt(e,o)&&i.push({version:o,note:xx(s)})}return i.sort((s,o)=>ci.rcompare(s.version,o.version))}});var Tx=g(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.KeygenProvider=void 0;var Ax=Pe(),Zf=Nr(),ed=ct(),td=class extends ed.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r,this.defaultHostname="api.keygen.sh";let i=this.configuration.host||this.defaultHostname;this.baseUrl=(0,Zf.newBaseUrl)(`https://${i}/v1/accounts/${this.configuration.account}/artifacts?product=${this.configuration.product}`)}get channel(){return this.updater.channel||this.configuration.channel||"stable"}async getLatestVersion(){let t=new Ax.CancellationToken,r=(0,Zf.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,Zf.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{let i=await this.httpRequest(n,{Accept:"application/vnd.api+json","Keygen-Version":"1.1"},t);return(0,ed.parseUpdateInfo)(i,r,n)}catch(i){throw(0,Ax.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return(0,ed.resolveFiles)(t,this.baseUrl)}toString(){let{account:t,product:r,platform:n}=this.configuration;return`Keygen (account: ${t}, product: ${r}, platform: ${n}, channel: ${this.channel})`}};za.KeygenProvider=td});var Nx=g(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.PrivateGitHubProvider=void 0;var di=Pe(),Y2=_a(),K2=require("path"),Ox=require("url"),Px=Nr(),X2=Qf(),J2=ct(),rd=class extends X2.BaseGitHubProvider{constructor(t,r,n,i){super(t,"api.github.com",i),this.updater=r,this.token=n}createRequestOptions(t,r){let n=super.createRequestOptions(t,r);return n.redirect="manual",n}async getLatestVersion(){let t=new di.CancellationToken,r=(0,Px.getChannelFilename)(this.getDefaultChannelName()),n=await this.getLatestVersionInfo(t),i=n.assets.find(a=>a.name===r);if(i==null)throw(0,di.newError)(`Cannot find ${r} in the release ${n.html_url||n.name}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");let s=new Ox.URL(i.url),o;try{o=(0,Y2.load)(await this.httpRequest(s,this.configureHeaders("application/octet-stream"),t))}catch(a){throw a instanceof di.HttpError&&a.statusCode===404?(0,di.newError)(`Cannot find ${r} in the latest release artifacts (${s}): ${a.stack||a.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):a}return o.assets=n.assets,o}get fileExtraDownloadHeaders(){return this.configureHeaders("application/octet-stream")}configureHeaders(t){return{accept:t,authorization:`token ${this.token}`}}async getLatestVersionInfo(t){let r=this.updater.allowPrerelease,n=this.basePath;r||(n=`${n}/latest`);let i=(0,Px.newUrlFromBase)(n,this.baseUrl);try{let s=JSON.parse(await this.httpRequest(i,this.configureHeaders("application/vnd.github.v3+json"),t));return r?s.find(o=>o.prerelease)||s[0]:s}catch(s){throw(0,di.newError)(`Unable to find latest version on GitHub (${i}), please ensure a production release exists: ${s.stack||s.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return this.computeGithubBasePath(`/repos/${this.options.owner}/${this.options.repo}/releases`)}resolveFiles(t){return(0,J2.getFileList)(t).map(r=>{let n=K2.posix.basename(r.url).replace(/ /g,"-"),i=t.assets.find(s=>s!=null&&s.name===n);if(i==null)throw(0,di.newError)(`Cannot find asset "${n}" in: ${JSON.stringify(t.assets,null,2)}`,"ERR_UPDATER_ASSET_NOT_FOUND");return{url:new Ox.URL(i.url),info:r}})}};Ya.PrivateGitHubProvider=rd});var Ix=g(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.isUrlProbablySupportMultiRangeRequests=Rx;Xa.createClient=r$;var Ka=Pe(),Q2=bx(),Dx=Hf(),Z2=Qf(),e$=Tx(),t$=Nx();function Rx(e){return!e.includes("s3.amazonaws.com")}function r$(e,t,r){if(typeof e=="string")throw(0,Ka.newError)("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");let n=e.provider;switch(n){case"github":{let i=e,s=(i.private?process.env.GH_TOKEN||process.env.GITHUB_TOKEN:null)||i.token;return s==null?new Z2.GitHubProvider(i,t,r):new t$.PrivateGitHubProvider(i,t,s,r)}case"bitbucket":return new Q2.BitbucketProvider(e,t,r);case"keygen":return new e$.KeygenProvider(e,t,r);case"s3":case"spaces":return new Dx.GenericProvider({provider:"generic",url:(0,Ka.getS3LikeProviderBaseUrl)(e),channel:e.channel||null},t,{...r,isUseMultipleRangeRequest:!1});case"generic":{let i=e;return new Dx.GenericProvider(i,t,{...r,isUseMultipleRangeRequest:i.useMultipleRangeRequest!==!1&&Rx(i.url)})}case"custom":{let i=e,s=i.updateProvider;if(!s)throw(0,Ka.newError)("Custom provider not specified","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");return new s(i,t,r)}default:throw(0,Ka.newError)(`Unsupported provider: ${n}`,"ERR_UPDATER_UNSUPPORTED_PROVIDER")}}});var Ja=g(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.OperationKind=void 0;Is.computeOperations=n$;var hn;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(hn||(Is.OperationKind=hn={}));function n$(e,t,r){let n=Lx(e.files),i=Lx(t.files),s=null,o=t.files[0],a=[],l=o.name,c=n.get(l);if(c==null)throw new Error(`no file ${l} in old blockmap`);let u=i.get(l),f=0,{checksumToOffset:h,checksumToOldSize:p}=s$(n.get(l),c.offset,r),y=o.offset;for(let w=0;w<u.checksums.length;y+=u.sizes[w],w++){let S=u.sizes[w],x=u.checksums[w],C=h.get(x);C!=null&&p.get(x)!==S&&(r.warn(`Checksum ("${x}") matches, but size differs (old: ${p.get(x)}, new: ${S})`),C=void 0),C===void 0?(f++,s!=null&&s.kind===hn.DOWNLOAD&&s.end===y?s.end+=S:(s={kind:hn.DOWNLOAD,start:y,end:y+S},Fx(s,a,x,w))):s!=null&&s.kind===hn.COPY&&s.end===C?s.end+=S:(s={kind:hn.COPY,start:C,end:C+S},Fx(s,a,x,w))}return f>0&&r.info(`File${o.name==="file"?"":" "+o.name} has ${f} changed blocks`),a}var i$=process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES==="true";function Fx(e,t,r,n){if(i$&&t.length!==0){let i=t[t.length-1];if(i.kind===e.kind&&e.start<i.end&&e.start>i.start){let s=[i.start,i.end,e.start,e.end].reduce((o,a)=>o<a?o:a);throw new Error(`operation (block index: ${n}, checksum: ${r}, kind: ${hn[e.kind]}) overlaps previous operation (checksum: ${r}):
abs: ${i.start} until ${i.end} and ${e.start} until ${e.end}
rel: ${i.start-s} until ${i.end-s} and ${e.start-s} until ${e.end-s}`)}}t.push(e)}function s$(e,t,r){let n=new Map,i=new Map,s=t;for(let o=0;o<e.checksums.length;o++){let a=e.checksums[o],l=e.sizes[o],c=i.get(a);if(c===void 0)n.set(a,s),i.set(a,l);else if(r.debug!=null){let u=c===l?"(same size)":`(size: ${c}, this size: ${l})`;r.debug(`${a} duplicated in blockmap ${u}, it doesn't lead to broken differential downloader, just corresponding block will be skipped)`)}s+=l}return{checksumToOffset:n,checksumToOldSize:i}}function Lx(e){let t=new Map;for(let r of e)t.set(r.name,r);return t}});var id=g(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.DataSplitter=void 0;Fs.copyData=Mx;var Qa=Pe(),o$=require("fs"),a$=require("stream"),l$=Ja(),kx=Buffer.from(`\r
\r
`),Ir;(function(e){e[e.INIT=0]="INIT",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"})(Ir||(Ir={}));function Mx(e,t,r,n,i){let s=(0,o$.createReadStream)("",{fd:r,autoClose:!1,start:e.start,end:e.end-1});s.on("error",n),s.once("end",i),s.pipe(t,{end:!1})}var nd=class extends a$.Writable{constructor(t,r,n,i,s,o){super(),this.out=t,this.options=r,this.partIndexToTaskIndex=n,this.partIndexToLength=s,this.finishHandler=o,this.partIndex=-1,this.headerListBuffer=null,this.readState=Ir.INIT,this.ignoreByteCount=0,this.remainingPartDataCount=0,this.actualPartLength=0,this.boundaryLength=i.length+4,this.ignoreByteCount=this.boundaryLength-2}get isFinished(){return this.partIndex===this.partIndexToLength.length}_write(t,r,n){if(this.isFinished){console.error(`Trailing ignored data: ${t.length} bytes`);return}this.handleData(t).then(n).catch(n)}async handleData(t){let r=0;if(this.ignoreByteCount!==0&&this.remainingPartDataCount!==0)throw(0,Qa.newError)("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");if(this.ignoreByteCount>0){let n=Math.min(this.ignoreByteCount,t.length);this.ignoreByteCount-=n,r=n}else if(this.remainingPartDataCount>0){let n=Math.min(this.remainingPartDataCount,t.length);this.remainingPartDataCount-=n,await this.processPartData(t,0,n),r=n}if(r!==t.length){if(this.readState===Ir.HEADER){let n=this.searchHeaderListEnd(t,r);if(n===-1)return;r=n,this.readState=Ir.BODY,this.headerListBuffer=null}for(;;){if(this.readState===Ir.BODY)this.readState=Ir.INIT;else{this.partIndex++;let o=this.partIndexToTaskIndex.get(this.partIndex);if(o==null)if(this.isFinished)o=this.options.end;else throw(0,Qa.newError)("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");let a=this.partIndex===0?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1;if(a<o)await this.copyExistingData(a,o);else if(a>o)throw(0,Qa.newError)("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");if(this.isFinished){this.onPartEnd(),this.finishHandler();return}if(r=this.searchHeaderListEnd(t,r),r===-1){this.readState=Ir.HEADER;return}}let n=this.partIndexToLength[this.partIndex],i=r+n,s=Math.min(i,t.length);if(await this.processPartStarted(t,r,s),this.remainingPartDataCount=n-(s-r),this.remainingPartDataCount>0)return;if(r=i+this.boundaryLength,r>=t.length){this.ignoreByteCount=this.boundaryLength-(t.length-i);return}}}}copyExistingData(t,r){return new Promise((n,i)=>{let s=()=>{if(t===r){n();return}let o=this.options.tasks[t];if(o.kind!==l$.OperationKind.COPY){i(new Error("Task kind must be COPY"));return}Mx(o,this.out,this.options.oldFileFd,i,()=>{t++,s()})};s()})}searchHeaderListEnd(t,r){let n=t.indexOf(kx,r);if(n!==-1)return n+kx.length;let i=r===0?t:t.slice(r);return this.headerListBuffer==null?this.headerListBuffer=i:this.headerListBuffer=Buffer.concat([this.headerListBuffer,i]),-1}onPartEnd(){let t=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==t)throw(0,Qa.newError)(`Expected length: ${t} differs from actual: ${this.actualPartLength}`,"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}processPartStarted(t,r,n){return this.partIndex!==0&&this.onPartEnd(),this.processPartData(t,r,n)}processPartData(t,r,n){this.actualPartLength+=n-r;let i=this.out;return i.write(r===0&&t.length===n?t:t.slice(r,n))?Promise.resolve():new Promise((s,o)=>{i.on("error",o),i.once("drain",()=>{i.removeListener("error",o),s()})})}};Fs.DataSplitter=nd});var $x=g(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.executeTasksUsingMultipleRangeRequests=u$;Za.checkIsRangesSupported=od;var sd=Pe(),qx=id(),Ux=Ja();function u$(e,t,r,n,i){let s=o=>{if(o>=t.length){e.fileMetadataBuffer!=null&&r.write(e.fileMetadataBuffer),r.end();return}let a=o+1e3;c$(e,{tasks:t,start:o,end:Math.min(t.length,a),oldFileFd:n},r,()=>s(a),i)};return s}function c$(e,t,r,n,i){let s="bytes=",o=0,a=new Map,l=[];for(let f=t.start;f<t.end;f++){let h=t.tasks[f];h.kind===Ux.OperationKind.DOWNLOAD&&(s+=`${h.start}-${h.end-1}, `,a.set(o,f),o++,l.push(h.end-h.start))}if(o<=1){let f=h=>{if(h>=t.end){n();return}let p=t.tasks[h++];if(p.kind===Ux.OperationKind.COPY)(0,qx.copyData)(p,r,t.oldFileFd,i,()=>f(h));else{let y=e.createRequestOptions();y.headers.Range=`bytes=${p.start}-${p.end-1}`;let w=e.httpExecutor.createRequest(y,S=>{od(S,i)&&(S.pipe(r,{end:!1}),S.once("end",()=>f(h)))});e.httpExecutor.addErrorAndTimeoutHandlers(w,i),w.end()}};f(t.start);return}let c=e.createRequestOptions();c.headers.Range=s.substring(0,s.length-2);let u=e.httpExecutor.createRequest(c,f=>{if(!od(f,i))return;let h=(0,sd.safeGetHeader)(f,"content-type"),p=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(h);if(p==null){i(new Error(`Content-Type "multipart/byteranges" is expected, but got "${h}"`));return}let y=new qx.DataSplitter(r,t,a,p[1]||p[2],l,n);y.on("error",i),f.pipe(y),f.on("end",()=>{setTimeout(()=>{u.abort(),i(new Error("Response ends without calling any handlers"))},1e4)})});e.httpExecutor.addErrorAndTimeoutHandlers(u,i),u.end()}function od(e,t){if(e.statusCode>=400)return t((0,sd.createHttpError)(e)),!1;if(e.statusCode!==206){let r=(0,sd.safeGetHeader)(e,"accept-ranges");if(r==null||r==="none")return t(new Error(`Server doesn't support Accept-Ranges (response code ${e.statusCode})`)),!1}return!0}});var Bx=g(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.ProgressDifferentialDownloadCallbackTransform=void 0;var f$=require("stream"),hi;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(hi||(hi={}));var ad=class extends f$.Transform{constructor(t,r,n){super(),this.progressDifferentialDownloadInfo=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.expectedBytes=0,this.index=0,this.operationType=hi.COPY,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}if(this.operationType==hi.COPY){n(null,t);return}this.transferred+=t.length,this.delta+=t.length;let i=Date.now();i>=this.nextUpdate&&this.transferred!==this.expectedBytes&&this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&(this.nextUpdate=i+1e3,this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}beginFileCopy(){this.operationType=hi.COPY}beginRangeDownload(){this.operationType=hi.DOWNLOAD,this.expectedBytes+=this.progressDifferentialDownloadInfo.expectedByteCounts[this.index++]}endRangeDownload(){this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))})}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,this.transferred=0,t(null)}};el.ProgressDifferentialDownloadCallbackTransform=ad});var cd=g(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.DifferentialDownloader=void 0;var Ls=Pe(),ld=er(),d$=require("fs"),h$=id(),p$=require("url"),tl=Ja(),Wx=$x(),m$=Bx(),ud=class{constructor(t,r,n){this.blockAwareFileInfo=t,this.httpExecutor=r,this.options=n,this.fileMetadataBuffer=null,this.logger=n.logger}createRequestOptions(){let t={headers:{...this.options.requestHeaders,accept:"*/*"}};return(0,Ls.configureRequestUrl)(this.options.newUrl,t),(0,Ls.configureRequestOptions)(t),t}doDownload(t,r){if(t.version!==r.version)throw new Error(`version is different (${t.version} - ${r.version}), full download is required`);let n=this.logger,i=(0,tl.computeOperations)(t,r,n);n.debug!=null&&n.debug(JSON.stringify(i,null,2));let s=0,o=0;for(let l of i){let c=l.end-l.start;l.kind===tl.OperationKind.DOWNLOAD?s+=c:o+=c}let a=this.blockAwareFileInfo.size;if(s+o+(this.fileMetadataBuffer==null?0:this.fileMetadataBuffer.length)!==a)throw new Error(`Internal error, size mismatch: downloadSize: ${s}, copySize: ${o}, newSize: ${a}`);return n.info(`Full: ${Gx(a)}, To download: ${Gx(s)} (${Math.round(s/(a/100))}%)`),this.downloadFile(i)}downloadFile(t){let r=[],n=()=>Promise.all(r.map(i=>(0,ld.close)(i.descriptor).catch(s=>{this.logger.error(`cannot close file "${i.path}": ${s}`)})));return this.doDownloadFile(t,r).then(n).catch(i=>n().catch(s=>{try{this.logger.error(`cannot close files: ${s}`)}catch(o){try{console.error(o)}catch{}}throw i}).then(()=>{throw i}))}async doDownloadFile(t,r){let n=await(0,ld.open)(this.options.oldFile,"r");r.push({descriptor:n,path:this.options.oldFile});let i=await(0,ld.open)(this.options.newFile,"w");r.push({descriptor:i,path:this.options.newFile});let s=(0,d$.createWriteStream)(this.options.newFile,{fd:i});await new Promise((o,a)=>{let l=[],c;if(!this.options.isUseMultipleRangeRequest&&this.options.onProgress){let x=[],C=0;for(let H of t)H.kind===tl.OperationKind.DOWNLOAD&&(x.push(H.end-H.start),C+=H.end-H.start);let q={expectedByteCounts:x,grandTotal:C};c=new m$.ProgressDifferentialDownloadCallbackTransform(q,this.options.cancellationToken,this.options.onProgress),l.push(c)}let u=new Ls.DigestTransform(this.blockAwareFileInfo.sha512);u.isValidateOnEnd=!1,l.push(u),s.on("finish",()=>{s.close(()=>{r.splice(1,1);try{u.validate()}catch(x){a(x);return}o(void 0)})}),l.push(s);let f=null;for(let x of l)x.on("error",a),f==null?f=x:f=f.pipe(x);let h=l[0],p;if(this.options.isUseMultipleRangeRequest){p=(0,Wx.executeTasksUsingMultipleRangeRequests)(this,t,h,n,a),p(0);return}let y=0,w=null;this.logger.info(`Differential download: ${this.options.newUrl}`);let S=this.createRequestOptions();S.redirect="manual",p=x=>{var C,q;if(x>=t.length){this.fileMetadataBuffer!=null&&h.write(this.fileMetadataBuffer),h.end();return}let H=t[x++];if(H.kind===tl.OperationKind.COPY){c&&c.beginFileCopy(),(0,h$.copyData)(H,h,n,a,()=>p(x));return}let de=`bytes=${H.start}-${H.end-1}`;S.headers.range=de,(q=(C=this.logger)===null||C===void 0?void 0:C.debug)===null||q===void 0||q.call(C,`download range: ${de}`),c&&c.beginRangeDownload();let P=this.httpExecutor.createRequest(S,X=>{X.on("error",a),X.on("aborted",()=>{a(new Error("response has been aborted by the server"))}),X.statusCode>=400&&a((0,Ls.createHttpError)(X)),X.pipe(h,{end:!1}),X.once("end",()=>{c&&c.endRangeDownload(),++y===100?(y=0,setTimeout(()=>p(x),1e3)):p(x)})});P.on("redirect",(X,E,$)=>{this.logger.info(`Redirect to ${g$($)}`),w=$,(0,Ls.configureRequestUrl)(new p$.URL(w),S),P.followRedirect()}),this.httpExecutor.addErrorAndTimeoutHandlers(P,a),P.end()},p(0)})}async readRemoteBytes(t,r){let n=Buffer.allocUnsafe(r+1-t),i=this.createRequestOptions();i.headers.range=`bytes=${t}-${r}`;let s=0;if(await this.request(i,o=>{o.copy(n,s),s+=o.length}),s!==n.length)throw new Error(`Received data length ${s} is not equal to expected ${n.length}`);return n}request(t,r){return new Promise((n,i)=>{let s=this.httpExecutor.createRequest(t,o=>{(0,Wx.checkIsRangesSupported)(o,i)&&(o.on("error",i),o.on("aborted",()=>{i(new Error("response has been aborted by the server"))}),o.on("data",r),o.on("end",()=>n()))});this.httpExecutor.addErrorAndTimeoutHandlers(s,i),s.end()})}};rl.DifferentialDownloader=ud;function Gx(e,t=" KB"){return new Intl.NumberFormat("en").format((e/1024).toFixed(2))+t}function g$(e){let t=e.indexOf("?");return t<0?e:e.substring(0,t)}});var jx=g(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.GenericDifferentialDownloader=void 0;var y$=cd(),fd=class extends y$.DifferentialDownloader{download(t,r){return this.doDownload(t,r)}};nl.GenericDifferentialDownloader=fd});var Fr=g(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.UpdaterSignal=ft.UPDATE_DOWNLOADED=ft.DOWNLOAD_PROGRESS=ft.CancellationToken=void 0;ft.addHandler=ks;var w$=Pe();Object.defineProperty(ft,"CancellationToken",{enumerable:!0,get:function(){return w$.CancellationToken}});ft.DOWNLOAD_PROGRESS="download-progress";ft.UPDATE_DOWNLOADED="update-downloaded";var dd=class{constructor(t){this.emitter=t}login(t){ks(this.emitter,"login",t)}progress(t){ks(this.emitter,ft.DOWNLOAD_PROGRESS,t)}updateDownloaded(t){ks(this.emitter,ft.UPDATE_DOWNLOADED,t)}updateCancelled(t){ks(this.emitter,"update-cancelled",t)}};ft.UpdaterSignal=dd;var _$=!1;function ks(e,t,r){_$?e.on(t,(...n)=>{console.log("%s %s",t,n),r(...n)}):e.on(t,r)}});var sl=g(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.NoOpLogger=gi.AppUpdater=void 0;var Xe=Pe(),v$=require("crypto"),E$=require("os"),S$=require("events"),pi=er(),b$=_a(),hd=IE(),pn=require("path"),mn=bf(),Hx=ox(),x$=ux(),Vx=fx(),C$=Hf(),pd=Ix(),A$=require("zlib"),T$=Nr(),O$=jx(),mi=Fr(),md=class e extends S$.EventEmitter{get channel(){return this._channel}set channel(t){if(this._channel!=null){if(typeof t!="string")throw(0,Xe.newError)(`Channel must be a string, but got: ${t}`,"ERR_UPDATER_INVALID_CHANNEL");if(t.length===0)throw(0,Xe.newError)("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=t,this.allowDowngrade=!0}addAuthHeader(t){this.requestHeaders=Object.assign({},this.requestHeaders,{authorization:t})}get netSession(){return(0,Vx.getNetSession)()}get logger(){return this._logger}set logger(t){this._logger=t??new il}set updateConfigPath(t){this.clientPromise=null,this._appUpdateConfigPath=t,this.configOnDisk=new hd.Lazy(()=>this.loadUpdateConfig())}get isUpdateSupported(){return this._isUpdateSupported}set isUpdateSupported(t){t&&(this._isUpdateSupported=t)}constructor(t,r){super(),this.autoDownload=!0,this.autoInstallOnAppQuit=!0,this.autoRunAppAfterInstall=!0,this.allowPrerelease=!1,this.fullChangelog=!1,this.allowDowngrade=!1,this.disableWebInstaller=!1,this.disableDifferentialDownload=!1,this.forceDevUpdateConfig=!1,this._channel=null,this.downloadedUpdateHelper=null,this.requestHeaders=null,this._logger=console,this.signals=new mi.UpdaterSignal(this),this._appUpdateConfigPath=null,this._isUpdateSupported=s=>this.checkIfUpdateSupported(s),this.clientPromise=null,this.stagingUserIdPromise=new hd.Lazy(()=>this.getOrCreateStagingUserId()),this.configOnDisk=new hd.Lazy(()=>this.loadUpdateConfig()),this.checkForUpdatesPromise=null,this.downloadPromise=null,this.updateInfoAndProvider=null,this._testOnlyOptions=null,this.on("error",s=>{this._logger.error(`Error: ${s.stack||s.message}`)}),r==null?(this.app=new x$.ElectronAppAdapter,this.httpExecutor=new Vx.ElectronHttpExecutor((s,o)=>this.emit("login",s,o))):(this.app=r,this.httpExecutor=null);let n=this.app.version,i=(0,mn.parse)(n);if(i==null)throw(0,Xe.newError)(`App version is not a valid semver version: "${n}"`,"ERR_UPDATER_INVALID_VERSION");this.currentVersion=i,this.allowPrerelease=P$(i),t!=null&&(this.setFeedURL(t),typeof t!="string"&&t.requestHeaders&&(this.requestHeaders=t.requestHeaders))}getFeedURL(){return"Deprecated. Do not use it."}setFeedURL(t){let r=this.createProviderRuntimeOptions(),n;typeof t=="string"?n=new C$.GenericProvider({provider:"generic",url:t},this,{...r,isUseMultipleRangeRequest:(0,pd.isUrlProbablySupportMultiRangeRequests)(t)}):n=(0,pd.createClient)(t,this,r),this.clientPromise=Promise.resolve(n)}checkForUpdates(){if(!this.isUpdaterActive())return Promise.resolve(null);let t=this.checkForUpdatesPromise;if(t!=null)return this._logger.info("Checking for update (already in progress)"),t;let r=()=>this.checkForUpdatesPromise=null;return this._logger.info("Checking for update"),t=this.doCheckForUpdates().then(n=>(r(),n)).catch(n=>{throw r(),this.emit("error",n,`Cannot check for updates: ${(n.stack||n).toString()}`),n}),this.checkForUpdatesPromise=t,t}isUpdaterActive(){return this.app.isPackaged||this.forceDevUpdateConfig?!0:(this._logger.info("Skip checkForUpdates because application is not packed and dev update config is not forced"),!1)}checkForUpdatesAndNotify(t){return this.checkForUpdates().then(r=>r?.downloadPromise?(r.downloadPromise.then(()=>{let n=e.formatDownloadNotification(r.updateInfo.version,this.app.name,t);new(require("electron")).Notification(n).show()}),r):(this._logger.debug!=null&&this._logger.debug("checkForUpdatesAndNotify called, downloadPromise is null"),r))}static formatDownloadNotification(t,r,n){return n==null&&(n={title:"A new update is ready to install",body:"{appName} version {version} has been downloaded and will be automatically installed on exit"}),n={title:n.title.replace("{appName}",r).replace("{version}",t),body:n.body.replace("{appName}",r).replace("{version}",t)},n}async isStagingMatch(t){let r=t.stagingPercentage,n=r;if(n==null)return!0;if(n=parseInt(n,10),isNaN(n))return this._logger.warn(`Staging percentage is NaN: ${r}`),!0;n=n/100;let i=await this.stagingUserIdPromise.value,o=Xe.UUID.parse(i).readUInt32BE(12)/4294967295;return this._logger.info(`Staging percentage: ${n}, percentage: ${o}, user id: ${i}`),o<n}computeFinalHeaders(t){return this.requestHeaders!=null&&Object.assign(t,this.requestHeaders),t}async isUpdateAvailable(t){let r=(0,mn.parse)(t.version);if(r==null)throw(0,Xe.newError)(`This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "${t.version}"`,"ERR_UPDATER_INVALID_VERSION");let n=this.currentVersion;if((0,mn.eq)(r,n)||!await Promise.resolve(this.isUpdateSupported(t))||!await this.isStagingMatch(t))return!1;let s=(0,mn.gt)(r,n),o=(0,mn.lt)(r,n);return s?!0:this.allowDowngrade&&o}checkIfUpdateSupported(t){let r=t?.minimumSystemVersion,n=(0,E$.release)();if(r)try{if((0,mn.lt)(n,r))return this._logger.info(`Current OS version ${n} is less than the minimum OS version required ${r} for version ${n}`),!1}catch(i){this._logger.warn(`Failed to compare current OS version(${n}) with minimum OS version(${r}): ${(i.message||i).toString()}`)}return!0}async getUpdateInfoAndProvider(){await this.app.whenReady(),this.clientPromise==null&&(this.clientPromise=this.configOnDisk.value.then(n=>(0,pd.createClient)(n,this,this.createProviderRuntimeOptions())));let t=await this.clientPromise,r=await this.stagingUserIdPromise.value;return t.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":r})),{info:await t.getLatestVersion(),provider:t}}createProviderRuntimeOptions(){return{isUseMultipleRangeRequest:!0,platform:this._testOnlyOptions==null?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}async doCheckForUpdates(){this.emit("checking-for-update");let t=await this.getUpdateInfoAndProvider(),r=t.info;if(!await this.isUpdateAvailable(r))return this._logger.info(`Update for version ${this.currentVersion.format()} is not available (latest version: ${r.version}, downgrade is ${this.allowDowngrade?"allowed":"disallowed"}).`),this.emit("update-not-available",r),{isUpdateAvailable:!1,versionInfo:r,updateInfo:r};this.updateInfoAndProvider=t,this.onUpdateAvailable(r);let n=new Xe.CancellationToken;return{isUpdateAvailable:!0,versionInfo:r,updateInfo:r,cancellationToken:n,downloadPromise:this.autoDownload?this.downloadUpdate(n):null}}onUpdateAvailable(t){this._logger.info(`Found version ${t.version} (url: ${(0,Xe.asArray)(t.files).map(r=>r.url).join(", ")})`),this.emit("update-available",t)}downloadUpdate(t=new Xe.CancellationToken){let r=this.updateInfoAndProvider;if(r==null){let i=new Error("Please check update first");return this.dispatchError(i),Promise.reject(i)}if(this.downloadPromise!=null)return this._logger.info("Downloading update (already in progress)"),this.downloadPromise;this._logger.info(`Downloading update from ${(0,Xe.asArray)(r.info.files).map(i=>i.url).join(", ")}`);let n=i=>{if(!(i instanceof Xe.CancellationError))try{this.dispatchError(i)}catch(s){this._logger.warn(`Cannot dispatch error event: ${s.stack||s}`)}return i};return this.downloadPromise=this.doDownloadUpdate({updateInfoAndProvider:r,requestHeaders:this.computeRequestHeaders(r.provider),cancellationToken:t,disableWebInstaller:this.disableWebInstaller,disableDifferentialDownload:this.disableDifferentialDownload}).catch(i=>{throw n(i)}).finally(()=>{this.downloadPromise=null}),this.downloadPromise}dispatchError(t){this.emit("error",t,(t.stack||t).toString())}dispatchUpdateDownloaded(t){this.emit(mi.UPDATE_DOWNLOADED,t)}async loadUpdateConfig(){return this._appUpdateConfigPath==null&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),(0,b$.load)(await(0,pi.readFile)(this._appUpdateConfigPath,"utf-8"))}computeRequestHeaders(t){let r=t.fileExtraDownloadHeaders;if(r!=null){let n=this.requestHeaders;return n==null?r:{...r,...n}}return this.computeFinalHeaders({accept:"*/*"})}async getOrCreateStagingUserId(){let t=pn.join(this.app.userDataPath,".updaterId");try{let n=await(0,pi.readFile)(t,"utf-8");if(Xe.UUID.check(n))return n;this._logger.warn(`Staging user id file exists, but content was invalid: ${n}`)}catch(n){n.code!=="ENOENT"&&this._logger.warn(`Couldn't read staging user ID, creating a blank one: ${n}`)}let r=Xe.UUID.v5((0,v$.randomBytes)(4096),Xe.UUID.OID);this._logger.info(`Generated new staging user ID: ${r}`);try{await(0,pi.outputFile)(t,r)}catch(n){this._logger.warn(`Couldn't write out staging user ID: ${n}`)}return r}get isAddNoCacheQuery(){let t=this.requestHeaders;if(t==null)return!0;for(let r of Object.keys(t)){let n=r.toLowerCase();if(n==="authorization"||n==="private-token")return!1}return!0}async getOrCreateDownloadHelper(){let t=this.downloadedUpdateHelper;if(t==null){let r=(await this.configOnDisk.value).updaterCacheDirName,n=this._logger;r==null&&n.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?");let i=pn.join(this.app.baseCachePath,r||this.app.name);n.debug!=null&&n.debug(`updater cache dir: ${i}`),t=new Hx.DownloadedUpdateHelper(i),this.downloadedUpdateHelper=t}return t}async executeDownload(t){let r=t.fileInfo,n={headers:t.downloadUpdateOptions.requestHeaders,cancellationToken:t.downloadUpdateOptions.cancellationToken,sha2:r.info.sha2,sha512:r.info.sha512};this.listenerCount(mi.DOWNLOAD_PROGRESS)>0&&(n.onProgress=C=>this.emit(mi.DOWNLOAD_PROGRESS,C));let i=t.downloadUpdateOptions.updateInfoAndProvider.info,s=i.version,o=r.packageInfo;function a(){let C=decodeURIComponent(t.fileInfo.url.pathname);return C.endsWith(`.${t.fileExtension}`)?pn.basename(C):t.fileInfo.info.url}let l=await this.getOrCreateDownloadHelper(),c=l.cacheDirForPendingUpdate;await(0,pi.mkdir)(c,{recursive:!0});let u=a(),f=pn.join(c,u),h=o==null?null:pn.join(c,`package-${s}${pn.extname(o.path)||".7z"}`),p=async C=>(await l.setDownloadedFile(f,h,i,r,u,C),await t.done({...i,downloadedFile:f}),h==null?[f]:[f,h]),y=this._logger,w=await l.validateDownloadedPath(f,i,r,y);if(w!=null)return f=w,await p(!1);let S=async()=>(await l.clear().catch(()=>{}),await(0,pi.unlink)(f).catch(()=>{})),x=await(0,Hx.createTempUpdateFile)(`temp-${u}`,c,y);try{await t.task(x,n,h,S),await(0,Xe.retry)(()=>(0,pi.rename)(x,f),60,500,0,0,C=>C instanceof Error&&/^EBUSY:/.test(C.message))}catch(C){throw await S(),C instanceof Xe.CancellationError&&(y.info("cancelled"),this.emit("update-cancelled",i)),C}return y.info(`New version ${s} has been downloaded to ${f}`),await p(!0)}async differentialDownloadInstaller(t,r,n,i,s){try{if(this._testOnlyOptions!=null&&!this._testOnlyOptions.isUseDifferentialDownload)return!0;let o=(0,T$.blockmapFiles)(t.url,this.app.version,r.updateInfoAndProvider.info.version);this._logger.info(`Download block maps (old: "${o[0]}", new: ${o[1]})`);let a=async u=>{let f=await this.httpExecutor.downloadToBuffer(u,{headers:r.requestHeaders,cancellationToken:r.cancellationToken});if(f==null||f.length===0)throw new Error(`Blockmap "${u.href}" is empty`);try{return JSON.parse((0,A$.gunzipSync)(f).toString())}catch(h){throw new Error(`Cannot parse blockmap "${u.href}", error: ${h}`)}},l={newUrl:t.url,oldFile:pn.join(this.downloadedUpdateHelper.cacheDir,s),logger:this._logger,newFile:n,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,requestHeaders:r.requestHeaders,cancellationToken:r.cancellationToken};this.listenerCount(mi.DOWNLOAD_PROGRESS)>0&&(l.onProgress=u=>this.emit(mi.DOWNLOAD_PROGRESS,u));let c=await Promise.all(o.map(u=>a(u)));return await new O$.GenericDifferentialDownloader(t.info,this.httpExecutor,l).download(c[0],c[1]),!1}catch(o){if(this._logger.error(`Cannot download differentially, fallback to full download: ${o.stack||o}`),this._testOnlyOptions!=null)throw o;return!0}}};gi.AppUpdater=md;function P$(e){let t=(0,mn.prerelease)(e);return t!=null&&t.length>0}var il=class{info(t){}warn(t){}error(t){}};gi.NoOpLogger=il});var gn=g(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.BaseUpdater=void 0;var zx=require("child_process"),N$=sl(),gd=class extends N$.AppUpdater{constructor(t,r){super(t,r),this.quitAndInstallCalled=!1,this.quitHandlerAdded=!1}quitAndInstall(t=!1,r=!1){this._logger.info("Install on explicit quitAndInstall"),this.install(t,t?r:this.autoRunAppAfterInstall)?setImmediate(()=>{require("electron").autoUpdater.emit("before-quit-for-update"),this.app.quit()}):this.quitAndInstallCalled=!1}executeDownload(t){return super.executeDownload({...t,done:r=>(this.dispatchUpdateDownloaded(r),this.addQuitHandler(),Promise.resolve())})}get installerPath(){return this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.file}install(t=!1,r=!1){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;let n=this.downloadedUpdateHelper,i=this.installerPath,s=n==null?null:n.downloadedFileInfo;if(i==null||s==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{return this._logger.info(`Install: isSilent: ${t}, isForceRunAfter: ${r}`),this.doInstall({isSilent:t,isForceRunAfter:r,isAdminRightsRequired:s.isAdminRightsRequired})}catch(o){return this.dispatchError(o),!1}}addQuitHandler(){this.quitHandlerAdded||!this.autoInstallOnAppQuit||(this.quitHandlerAdded=!0,this.app.onQuit(t=>{if(this.quitAndInstallCalled){this._logger.info("Update installer has already been triggered. Quitting application.");return}if(!this.autoInstallOnAppQuit){this._logger.info("Update will not be installed on quit because autoInstallOnAppQuit is set to false.");return}if(t!==0){this._logger.info(`Update will be not installed on quit because application is quitting with exit code ${t}`);return}this._logger.info("Auto install update on quit"),this.install(!0,!1)}))}wrapSudo(){let{name:t}=this.app,r=`"${t} would like to update"`,n=this.spawnSyncLog("which gksudo || which kdesudo || which pkexec || which beesu"),i=[n];return/kdesudo/i.test(n)?(i.push("--comment",r),i.push("-c")):/gksudo/i.test(n)?i.push("--message",r):/pkexec/i.test(n)&&i.push("--disable-internal-agent"),i.join(" ")}spawnSyncLog(t,r=[],n={}){this._logger.info(`Executing: ${t} with args: ${r}`);let i=(0,zx.spawnSync)(t,r,{env:{...process.env,...n},encoding:"utf-8",shell:!0}),{error:s,status:o,stdout:a,stderr:l}=i;if(s!=null)throw this._logger.error(l),s;if(o!=null&&o!==0)throw this._logger.error(l),new Error(`Command ${t} exited with code ${o}`);return a.trim()}async spawnLog(t,r=[],n=void 0,i="ignore"){return this._logger.info(`Executing: ${t} with args: ${r}`),new Promise((s,o)=>{try{let a={stdio:i,env:n,detached:!0},l=(0,zx.spawn)(t,r,a);l.on("error",c=>{o(c)}),l.unref(),l.pid!==void 0&&s(!0)}catch(a){o(a)}})}};ol.BaseUpdater=gd});var wd=g(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.FileWithEmbeddedBlockMapDifferentialDownloader=void 0;var yi=er(),D$=cd(),R$=require("zlib"),yd=class extends D$.DifferentialDownloader{async download(){let t=this.blockAwareFileInfo,r=t.size,n=r-(t.blockMapSize+4);this.fileMetadataBuffer=await this.readRemoteBytes(n,r-1);let i=Yx(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4));await this.doDownload(await I$(this.options.oldFile),i)}};al.FileWithEmbeddedBlockMapDifferentialDownloader=yd;function Yx(e){return JSON.parse((0,R$.inflateRawSync)(e).toString())}async function I$(e){let t=await(0,yi.open)(e,"r");try{let r=(await(0,yi.fstat)(t)).size,n=Buffer.allocUnsafe(4);await(0,yi.read)(t,n,0,n.length,r-n.length);let i=Buffer.allocUnsafe(n.readUInt32BE(0));return await(0,yi.read)(t,i,0,i.length,r-n.length-i.length),await(0,yi.close)(t),Yx(i)}catch(r){throw await(0,yi.close)(t),r}}});var vd=g(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.AppImageUpdater=void 0;var Kx=Pe(),Xx=require("child_process"),F$=er(),L$=require("fs"),Ms=require("path"),k$=gn(),M$=wd(),q$=ct(),Jx=Fr(),_d=class extends k$.BaseUpdater{constructor(t,r){super(t,r)}isUpdaterActive(){return process.env.APPIMAGE==null?(process.env.SNAP==null?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):super.isUpdaterActive()}doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider,n=(0,q$.findFile)(r.resolveFiles(t.updateInfoAndProvider.info),"AppImage",["rpm","deb","pacman"]);return this.executeDownload({fileExtension:"AppImage",fileInfo:n,downloadUpdateOptions:t,task:async(i,s)=>{let o=process.env.APPIMAGE;if(o==null)throw(0,Kx.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");(t.disableDifferentialDownload||await this.downloadDifferential(n,o,i,r,t))&&await this.httpExecutor.download(n.url,i,s),await(0,F$.chmod)(i,493)}})}async downloadDifferential(t,r,n,i,s){try{let o={newUrl:t.url,oldFile:r,logger:this._logger,newFile:n,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,requestHeaders:s.requestHeaders,cancellationToken:s.cancellationToken};return this.listenerCount(Jx.DOWNLOAD_PROGRESS)>0&&(o.onProgress=a=>this.emit(Jx.DOWNLOAD_PROGRESS,a)),await new M$.FileWithEmbeddedBlockMapDifferentialDownloader(t.info,this.httpExecutor,o).download(),!1}catch(o){return this._logger.error(`Cannot download differentially, fallback to full download: ${o.stack||o}`),process.platform==="linux"}}doInstall(t){let r=process.env.APPIMAGE;if(r==null)throw(0,Kx.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");(0,L$.unlinkSync)(r);let n,i=Ms.basename(r),s=this.installerPath;if(s==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;Ms.basename(s)===i||!/\d+\.\d+\.\d+/.test(i)?n=r:n=Ms.join(Ms.dirname(r),Ms.basename(s)),(0,Xx.execFileSync)("mv",["-f",s,n]),n!==r&&this.emit("appimage-filename-updated",n);let o={...process.env,APPIMAGE_SILENT_INSTALL:"true"};return t.isForceRunAfter?this.spawnLog(n,[],o):(o.APPIMAGE_EXIT_AFTER_INSTALL="true",(0,Xx.execFileSync)(n,[],{env:o})),!0}};ll.AppImageUpdater=_d});var Sd=g(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.DebUpdater=void 0;var U$=gn(),$$=ct(),Qx=Fr(),Ed=class extends U$.BaseUpdater{constructor(t,r){super(t,r)}doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider,n=(0,$$.findFile)(r.resolveFiles(t.updateInfoAndProvider.info),"deb",["AppImage","rpm","pacman"]);return this.executeDownload({fileExtension:"deb",fileInfo:n,downloadUpdateOptions:t,task:async(i,s)=>{this.listenerCount(Qx.DOWNLOAD_PROGRESS)>0&&(s.onProgress=o=>this.emit(Qx.DOWNLOAD_PROGRESS,o)),await this.httpExecutor.download(n.url,i,s)}})}get installerPath(){var t,r;return(r=(t=super.installerPath)===null||t===void 0?void 0:t.replace(/ /g,"\\ "))!==null&&r!==void 0?r:null}doInstall(t){let r=this.wrapSudo(),n=/pkexec/i.test(r)?"":'"',i=this.installerPath;if(i==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;let s=["dpkg","-i",i,"||","apt-get","install","-f","-y"];return this.spawnSyncLog(r,[`${n}/bin/bash`,"-c",`'${s.join(" ")}'${n}`]),t.isForceRunAfter&&this.app.relaunch(),!0}};ul.DebUpdater=Ed});var xd=g(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.PacmanUpdater=void 0;var B$=gn(),Zx=Fr(),W$=ct(),bd=class extends B$.BaseUpdater{constructor(t,r){super(t,r)}doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider,n=(0,W$.findFile)(r.resolveFiles(t.updateInfoAndProvider.info),"pacman",["AppImage","deb","rpm"]);return this.executeDownload({fileExtension:"pacman",fileInfo:n,downloadUpdateOptions:t,task:async(i,s)=>{this.listenerCount(Zx.DOWNLOAD_PROGRESS)>0&&(s.onProgress=o=>this.emit(Zx.DOWNLOAD_PROGRESS,o)),await this.httpExecutor.download(n.url,i,s)}})}get installerPath(){var t,r;return(r=(t=super.installerPath)===null||t===void 0?void 0:t.replace(/ /g,"\\ "))!==null&&r!==void 0?r:null}doInstall(t){let r=this.wrapSudo(),n=/pkexec/i.test(r)?"":'"',i=this.installerPath;if(i==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;let s=["pacman","-U","--noconfirm",i];return this.spawnSyncLog(r,[`${n}/bin/bash`,"-c",`'${s.join(" ")}'${n}`]),t.isForceRunAfter&&this.app.relaunch(),!0}};cl.PacmanUpdater=bd});var Ad=g(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.RpmUpdater=void 0;var G$=gn(),eC=Fr(),j$=ct(),Cd=class extends G$.BaseUpdater{constructor(t,r){super(t,r)}doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider,n=(0,j$.findFile)(r.resolveFiles(t.updateInfoAndProvider.info),"rpm",["AppImage","deb","pacman"]);return this.executeDownload({fileExtension:"rpm",fileInfo:n,downloadUpdateOptions:t,task:async(i,s)=>{this.listenerCount(eC.DOWNLOAD_PROGRESS)>0&&(s.onProgress=o=>this.emit(eC.DOWNLOAD_PROGRESS,o)),await this.httpExecutor.download(n.url,i,s)}})}get installerPath(){var t,r;return(r=(t=super.installerPath)===null||t===void 0?void 0:t.replace(/ /g,"\\ "))!==null&&r!==void 0?r:null}doInstall(t){let r=this.wrapSudo(),n=/pkexec/i.test(r)?"":'"',i=this.spawnSyncLog("which zypper"),s=this.installerPath;if(s==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;let o;return i?o=[i,"--no-refresh","install","--allow-unsigned-rpm","-y","-f",s]:o=[this.spawnSyncLog("which dnf || which yum"),"-y","install",s],this.spawnSyncLog(r,[`${n}/bin/bash`,"-c",`'${o.join(" ")}'${n}`]),t.isForceRunAfter&&this.app.relaunch(),!0}};fl.RpmUpdater=Cd});var Pd=g(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.MacUpdater=void 0;var tC=Pe(),Td=er(),H$=require("fs"),rC=require("path"),V$=require("http"),z$=sl(),Y$=ct(),nC=require("child_process"),iC=require("crypto"),Od=class extends z$.AppUpdater{constructor(t,r){super(t,r),this.nativeUpdater=require("electron").autoUpdater,this.squirrelDownloadedUpdate=!1,this.nativeUpdater.on("error",n=>{this._logger.warn(n),this.emit("error",n)}),this.nativeUpdater.on("update-downloaded",()=>{this.squirrelDownloadedUpdate=!0,this.debug("nativeUpdater.update-downloaded")})}debug(t){this._logger.debug!=null&&this._logger.debug(t)}closeServerIfExists(){this.server&&(this.debug("Closing proxy server"),this.server.close(t=>{t&&this.debug("proxy server wasn't already open, probably attempted closing again as a safety check before quit")}))}async doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider.resolveFiles(t.updateInfoAndProvider.info),n=this._logger,i="sysctl.proc_translated",s=!1;try{this.debug("Checking for macOS Rosetta environment"),s=(0,nC.execFileSync)("sysctl",[i],{encoding:"utf8"}).includes(`${i}: 1`),n.info(`Checked for macOS Rosetta environment (isRosetta=${s})`)}catch(f){n.warn(`sysctl shell command to check for macOS Rosetta environment failed: ${f}`)}let o=!1;try{this.debug("Checking for arm64 in uname");let h=(0,nC.execFileSync)("uname",["-a"],{encoding:"utf8"}).includes("ARM");n.info(`Checked 'uname -a': arm64=${h}`),o=o||h}catch(f){n.warn(`uname shell command to check for arm64 failed: ${f}`)}o=o||process.arch==="arm64"||s;let a=f=>{var h;return f.url.pathname.includes("arm64")||((h=f.info.url)===null||h===void 0?void 0:h.includes("arm64"))};o&&r.some(a)?r=r.filter(f=>o===a(f)):r=r.filter(f=>!a(f));let l=(0,Y$.findFile)(r,"zip",["pkg","dmg"]);if(l==null)throw(0,tC.newError)(`ZIP file not provided: ${(0,tC.safeStringifyJson)(r)}`,"ERR_UPDATER_ZIP_FILE_NOT_FOUND");let c=t.updateInfoAndProvider.provider,u="update.zip";return this.executeDownload({fileExtension:"zip",fileInfo:l,downloadUpdateOptions:t,task:async(f,h)=>{let p=rC.join(this.downloadedUpdateHelper.cacheDir,u),y=()=>(0,Td.pathExistsSync)(p)?!t.disableDifferentialDownload:(n.info("Unable to locate previous update.zip for differential download (is this first install?), falling back to full download"),!1),w=!0;y()&&(w=await this.differentialDownloadInstaller(l,t,f,c,u)),w&&await this.httpExecutor.download(l.url,f,h)},done:async f=>{if(!t.disableDifferentialDownload)try{let h=rC.join(this.downloadedUpdateHelper.cacheDir,u);await(0,Td.copyFile)(f.downloadedFile,h)}catch(h){this._logger.warn(`Unable to copy file for caching for future differential downloads: ${h.message}`)}return this.updateDownloaded(l,f)}})}async updateDownloaded(t,r){var n;let i=r.downloadedFile,s=(n=t.info.size)!==null&&n!==void 0?n:(await(0,Td.stat)(i)).size,o=this._logger,a=`fileToProxy=${t.url.href}`;this.closeServerIfExists(),this.debug(`Creating proxy server for native Squirrel.Mac (${a})`),this.server=(0,V$.createServer)(),this.debug(`Proxy server for native Squirrel.Mac is created (${a})`),this.server.on("close",()=>{o.info(`Proxy server for native Squirrel.Mac is closed (${a})`)});let l=c=>{let u=c.address();return typeof u=="string"?u:`http://127.0.0.1:${u?.port}`};return await new Promise((c,u)=>{let f=(0,iC.randomBytes)(64).toString("base64").replace(/\//g,"_").replace(/\+/g,"-"),h=Buffer.from(`autoupdater:${f}`,"ascii"),p=`/${(0,iC.randomBytes)(64).toString("hex")}.zip`;this.server.on("request",(y,w)=>{let S=y.url;if(o.info(`${S} requested`),S==="/"){if(!y.headers.authorization||y.headers.authorization.indexOf("Basic ")===-1){w.statusCode=401,w.statusMessage="Invalid Authentication Credentials",w.end(),o.warn("No authenthication info");return}let q=y.headers.authorization.split(" ")[1],H=Buffer.from(q,"base64").toString("ascii"),[de,P]=H.split(":");if(de!=="autoupdater"||P!==f){w.statusCode=401,w.statusMessage="Invalid Authentication Credentials",w.end(),o.warn("Invalid authenthication credentials");return}let X=Buffer.from(`{ "url": "${l(this.server)}${p}" }`);w.writeHead(200,{"Content-Type":"application/json","Content-Length":X.length}),w.end(X);return}if(!S.startsWith(p)){o.warn(`${S} requested, but not supported`),w.writeHead(404),w.end();return}o.info(`${p} requested by Squirrel.Mac, pipe ${i}`);let x=!1;w.on("finish",()=>{x||(this.nativeUpdater.removeListener("error",u),c([]))});let C=(0,H$.createReadStream)(i);C.on("error",q=>{try{w.end()}catch(H){o.warn(`cannot end response: ${H}`)}x=!0,this.nativeUpdater.removeListener("error",u),u(new Error(`Cannot pipe "${i}": ${q}`))}),w.writeHead(200,{"Content-Type":"application/zip","Content-Length":s}),C.pipe(w)}),this.debug(`Proxy server for native Squirrel.Mac is starting to listen (${a})`),this.server.listen(0,"127.0.0.1",()=>{this.debug(`Proxy server for native Squirrel.Mac is listening (address=${l(this.server)}, ${a})`),this.nativeUpdater.setFeedURL({url:l(this.server),headers:{"Cache-Control":"no-cache",Authorization:`Basic ${h.toString("base64")}`}}),this.dispatchUpdateDownloaded(r),this.autoInstallOnAppQuit?(this.nativeUpdater.once("error",u),this.nativeUpdater.checkForUpdates()):c([])})})}handleUpdateDownloaded(){this.autoRunAppAfterInstall?this.nativeUpdater.quitAndInstall():this.app.quit(),this.closeServerIfExists()}quitAndInstall(){this.squirrelDownloadedUpdate?this.handleUpdateDownloaded():(this.nativeUpdater.on("update-downloaded",()=>this.handleUpdateDownloaded()),this.autoInstallOnAppQuit||this.nativeUpdater.checkForUpdates())}};dl.MacUpdater=Od});var lC=g(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.verifySignature=X$;var sC=Pe(),aC=require("child_process"),K$=require("os"),oC=require("path");function X$(e,t,r){return new Promise((n,i)=>{let s=t.replace(/'/g,"''");r.info(`Verifying signature ${s}`),(0,aC.execFile)('set "PSModulePath=" & chcp 65001 >NUL & powershell.exe',["-NoProfile","-NonInteractive","-InputFormat","None","-Command",`"Get-AuthenticodeSignature -LiteralPath '${s}' | ConvertTo-Json -Compress"`],{shell:!0,timeout:20*1e3},(o,a,l)=>{var c;try{if(o!=null||l){Nd(r,o,l,i),n(null);return}let u=J$(a);if(u.Status===0){try{let y=oC.normalize(u.Path),w=oC.normalize(t);if(r.info(`LiteralPath: ${y}. Update Path: ${w}`),y!==w){Nd(r,new Error(`LiteralPath of ${y} is different than ${w}`),l,i),n(null);return}}catch(y){r.warn(`Unable to verify LiteralPath of update asset due to missing data.Path. Skipping this step of validation. Message: ${(c=y.message)!==null&&c!==void 0?c:y.stack}`)}let h=(0,sC.parseDn)(u.SignerCertificate.Subject),p=!1;for(let y of e){let w=(0,sC.parseDn)(y);if(w.size?p=Array.from(w.keys()).every(x=>w.get(x)===h.get(x)):y===h.get("CN")&&(r.warn(`Signature validated using only CN ${y}. Please add your full Distinguished Name (DN) to publisherNames configuration`),p=!0),p){n(null);return}}}let f=`publisherNames: ${e.join(" | ")}, raw info: `+JSON.stringify(u,(h,p)=>h==="RawData"?void 0:p,2);r.warn(`Sign verification failed, installer signed with incorrect certificate: ${f}`),n(f)}catch(u){Nd(r,u,null,i),n(null);return}})})}function J$(e){let t=JSON.parse(e);delete t.PrivateKey,delete t.IsOSBinary,delete t.SignatureType;let r=t.SignerCertificate;return r!=null&&(delete r.Archived,delete r.Extensions,delete r.Handle,delete r.HasPrivateKey,delete r.SubjectName),t}function Nd(e,t,r,n){if(Q$()){e.warn(`Cannot execute Get-AuthenticodeSignature: ${t||r}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}try{(0,aC.execFileSync)("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:10*1e3})}catch(i){e.warn(`Cannot execute ConvertTo-Json: ${i.message}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}t!=null&&n(t),r&&n(new Error(`Cannot execute Get-AuthenticodeSignature, stderr: ${r}. Failing signature validation due to unknown stderr.`))}function Q$(){let e=K$.release();return e.startsWith("6.")&&!e.startsWith("6.3")}});var Id=g(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.NsisUpdater=void 0;var hl=Pe(),uC=require("path"),Z$=gn(),eB=wd(),cC=Fr(),tB=ct(),rB=er(),nB=lC(),fC=require("url"),Rd=class extends Z$.BaseUpdater{constructor(t,r){super(t,r),this._verifyUpdateCodeSignature=(n,i)=>(0,nB.verifySignature)(n,i,this._logger)}get verifyUpdateCodeSignature(){return this._verifyUpdateCodeSignature}set verifyUpdateCodeSignature(t){t&&(this._verifyUpdateCodeSignature=t)}doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider,n=(0,tB.findFile)(r.resolveFiles(t.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:t,fileInfo:n,task:async(i,s,o,a)=>{let l=n.packageInfo,c=l!=null&&o!=null;if(c&&t.disableWebInstaller)throw(0,hl.newError)(`Unable to download new version ${t.updateInfoAndProvider.info.version}. Web Installers are disabled`,"ERR_UPDATER_WEB_INSTALLER_DISABLED");!c&&!t.disableWebInstaller&&this._logger.warn("disableWebInstaller is set to false, you should set it to true if you do not plan on using a web installer. This will default to true in a future version."),(c||t.disableDifferentialDownload||await this.differentialDownloadInstaller(n,t,i,r,hl.CURRENT_APP_INSTALLER_FILE_NAME))&&await this.httpExecutor.download(n.url,i,s);let u=await this.verifySignature(i);if(u!=null)throw await a(),(0,hl.newError)(`New version ${t.updateInfoAndProvider.info.version} is not signed by the application owner: ${u}`,"ERR_UPDATER_INVALID_SIGNATURE");if(c&&await this.differentialDownloadWebPackage(t,l,o,r))try{await this.httpExecutor.download(new fC.URL(l.path),o,{headers:t.requestHeaders,cancellationToken:t.cancellationToken,sha512:l.sha512})}catch(f){try{await(0,rB.unlink)(o)}catch{}throw f}}})}async verifySignature(t){let r;try{if(r=(await this.configOnDisk.value).publisherName,r==null)return null}catch(n){if(n.code==="ENOENT")return null;throw n}return await this._verifyUpdateCodeSignature(Array.isArray(r)?r:[r],t)}doInstall(t){let r=this.installerPath;if(r==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;let n=["--updated"];t.isSilent&&n.push("/S"),t.isForceRunAfter&&n.push("--force-run"),this.installDirectory&&n.push(`/D=${this.installDirectory}`);let i=this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.packageFile;i!=null&&n.push(`--package-file=${i}`);let s=()=>{this.spawnLog(uC.join(process.resourcesPath,"elevate.exe"),[r].concat(n)).catch(o=>this.dispatchError(o))};return t.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),s(),!0):(this.spawnLog(r,n).catch(o=>{let a=o.code;this._logger.info(`Cannot run installer: error code: ${a}, error message: "${o.message}", will be executed again using elevate if EACCES, and will try to use electron.shell.openItem if ENOENT`),a==="UNKNOWN"||a==="EACCES"?s():a==="ENOENT"?require("electron").shell.openPath(r).catch(l=>this.dispatchError(l)):this.dispatchError(o)}),!0)}async differentialDownloadWebPackage(t,r,n,i){if(r.blockMapSize==null)return!0;try{let s={newUrl:new fC.URL(r.path),oldFile:uC.join(this.downloadedUpdateHelper.cacheDir,hl.CURRENT_APP_PACKAGE_FILE_NAME),logger:this._logger,newFile:n,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,cancellationToken:t.cancellationToken};this.listenerCount(cC.DOWNLOAD_PROGRESS)>0&&(s.onProgress=o=>this.emit(cC.DOWNLOAD_PROGRESS,o)),await new eB.FileWithEmbeddedBlockMapDifferentialDownloader(r,this.httpExecutor,s).download()}catch(s){return this._logger.error(`Cannot download differentially, fallback to full download: ${s.stack||s}`),process.platform==="win32"}return!1}};pl.NsisUpdater=Rd});var pC=g(re=>{"use strict";var iB=re&&re.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),sB=re&&re.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&iB(t,e,r)};Object.defineProperty(re,"__esModule",{value:!0});re.NsisUpdater=re.MacUpdater=re.RpmUpdater=re.PacmanUpdater=re.DebUpdater=re.AppImageUpdater=re.Provider=re.NoOpLogger=re.AppUpdater=re.BaseUpdater=void 0;var dC=er(),oB=require("path"),aB=gn();Object.defineProperty(re,"BaseUpdater",{enumerable:!0,get:function(){return aB.BaseUpdater}});var hC=sl();Object.defineProperty(re,"AppUpdater",{enumerable:!0,get:function(){return hC.AppUpdater}});Object.defineProperty(re,"NoOpLogger",{enumerable:!0,get:function(){return hC.NoOpLogger}});var lB=ct();Object.defineProperty(re,"Provider",{enumerable:!0,get:function(){return lB.Provider}});var uB=vd();Object.defineProperty(re,"AppImageUpdater",{enumerable:!0,get:function(){return uB.AppImageUpdater}});var cB=Sd();Object.defineProperty(re,"DebUpdater",{enumerable:!0,get:function(){return cB.DebUpdater}});var fB=xd();Object.defineProperty(re,"PacmanUpdater",{enumerable:!0,get:function(){return fB.PacmanUpdater}});var dB=Ad();Object.defineProperty(re,"RpmUpdater",{enumerable:!0,get:function(){return dB.RpmUpdater}});var hB=Pd();Object.defineProperty(re,"MacUpdater",{enumerable:!0,get:function(){return hB.MacUpdater}});var pB=Id();Object.defineProperty(re,"NsisUpdater",{enumerable:!0,get:function(){return pB.NsisUpdater}});sB(Fr(),re);var or;function mB(){if(process.platform==="win32")or=new(Id()).NsisUpdater;else if(process.platform==="darwin")or=new(Pd()).MacUpdater;else{or=new(vd()).AppImageUpdater;try{let e=oB.join(process.resourcesPath,"package-type");if(!(0,dC.existsSync)(e))return or;console.info("Checking for beta autoupdate feature for deb/rpm distributions");let t=(0,dC.readFileSync)(e).toString().trim();switch(console.info("Found package-type:",t),t){case"deb":or=new(Sd()).DebUpdater;break;case"rpm":or=new(Ad()).RpmUpdater;break;case"pacman":or=new(xd()).PacmanUpdater;break;default:break}}catch(e){console.warn("Unable to detect 'package-type' for autoUpdater (beta rpm/deb support). If you'd like to expand support, please consider contributing to electron-builder",e.message)}}return or}Object.defineProperty(re,"autoUpdater",{enumerable:!0,get:()=>or||mB()})});gh().install();var du=ee(require("node:path")),Im=require("node:util"),Pn=ee(hr());var Tm=require("node:events"),Om=require("node:fs"),ao=require("node:fs/promises"),K=ee(require("node:path"),1);var Ht=require("node:fs/promises"),Vt=require("node:path"),mm=require("node:stream"),at={FILE_TYPE:"files",DIR_TYPE:"directories",FILE_DIR_TYPE:"files_directories",EVERYTHING_TYPE:"all"},eu={root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:at.FILE_TYPE,lstat:!1,depth:2147483648,alwaysStat:!1,highWaterMark:4096};Object.freeze(eu);var gm="READDIRP_RECURSIVE_ERROR",hO=new Set(["ENOENT","EPERM","EACCES","ELOOP",gm]),dm=[at.DIR_TYPE,at.EVERYTHING_TYPE,at.FILE_DIR_TYPE,at.FILE_TYPE],pO=new Set([at.DIR_TYPE,at.EVERYTHING_TYPE,at.FILE_DIR_TYPE]),mO=new Set([at.EVERYTHING_TYPE,at.FILE_DIR_TYPE,at.FILE_TYPE]),gO=e=>hO.has(e.code),yO=process.platform==="win32",hm=e=>!0,pm=e=>{if(e===void 0)return hm;if(typeof e=="function")return e;if(typeof e=="string"){let t=e.trim();return r=>r.basename===t}if(Array.isArray(e)){let t=e.map(r=>r.trim());return r=>t.some(n=>r.basename===n)}return hm},tu=class extends mm.Readable{parents;reading;parent;_stat;_maxDepth;_wantsDir;_wantsFile;_wantsEverything;_root;_isDirent;_statsProp;_rdOptions;_fileFilter;_directoryFilter;constructor(t={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:t.highWaterMark});let r={...eu,...t},{root:n,type:i}=r;this._fileFilter=pm(r.fileFilter),this._directoryFilter=pm(r.directoryFilter);let s=r.lstat?Ht.lstat:Ht.stat;yO?this._stat=o=>s(o,{bigint:!0}):this._stat=s,this._maxDepth=r.depth!=null&&Number.isSafeInteger(r.depth)?r.depth:eu.depth,this._wantsDir=i?pO.has(i):!1,this._wantsFile=i?mO.has(i):!1,this._wantsEverything=i===at.EVERYTHING_TYPE,this._root=(0,Vt.resolve)(n),this._isDirent=!r.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(n,1)],this.reading=!1,this.parent=void 0}async _read(t){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&t>0;){let r=this.parent,n=r&&r.files;if(n&&n.length>0){let{path:i,depth:s}=r,o=n.splice(0,t).map(l=>this._formatEntry(l,i)),a=await Promise.all(o);for(let l of a){if(!l)continue;if(this.destroyed)return;let c=await this._getEntryType(l);c==="directory"&&this._directoryFilter(l)?(s<=this._maxDepth&&this.parents.push(this._exploreDir(l.fullPath,s+1)),this._wantsDir&&(this.push(l),t--)):(c==="file"||this._includeAsFile(l))&&this._fileFilter(l)&&this._wantsFile&&(this.push(l),t--)}}else{let i=this.parents.pop();if(!i){this.push(null);break}if(this.parent=await i,this.destroyed)return}}}catch(r){this.destroy(r)}finally{this.reading=!1}}}async _exploreDir(t,r){let n;try{n=await(0,Ht.readdir)(t,this._rdOptions)}catch(i){this._onError(i)}return{files:n,depth:r,path:t}}async _formatEntry(t,r){let n,i=this._isDirent?t.name:t;try{let s=(0,Vt.resolve)((0,Vt.join)(r,i));n={path:(0,Vt.relative)(this._root,s),fullPath:s,basename:i},n[this._statsProp]=this._isDirent?t:await this._stat(s)}catch(s){this._onError(s);return}return n}_onError(t){gO(t)&&!this.destroyed?this.emit("warn",t):this.destroy(t)}async _getEntryType(t){if(!t&&this._statsProp in t)return"";let r=t[this._statsProp];if(r.isFile())return"file";if(r.isDirectory())return"directory";if(r&&r.isSymbolicLink()){let n=t.fullPath;try{let i=await(0,Ht.realpath)(n),s=await(0,Ht.lstat)(i);if(s.isFile())return"file";if(s.isDirectory()){let o=i.length;if(n.startsWith(i)&&n.substr(o,1)===Vt.sep){let a=new Error(`Circular symlink detected: "${n}" points to "${i}"`);return a.code=gm,this._onError(a)}return"directory"}}catch(i){return this._onError(i),""}}}_includeAsFile(t){let r=t&&t[this._statsProp];return r&&this._wantsEverything&&!r.isDirectory()}};function ym(e,t={}){let r=t.entryType||t.type;if(r==="both"&&(r=at.FILE_DIR_TYPE),r&&(t.type=r),e){if(typeof e!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(r&&!dm.includes(r))throw new Error(`readdirp: Invalid type passed. Use one of ${dm.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return t.root=e,new tu(t)}var Wr=require("node:fs"),St=require("node:fs/promises"),_m=require("node:os"),le=ee(require("node:path"),1),wO="data",iu="end",vm="close",io=()=>{};var so=process.platform,su=so==="win32",_O=so==="darwin",vO=so==="linux",EO=so==="freebsd",Em=(0,_m.type)()==="OS400",pe={ALL:"all",READY:"ready",ADD:"add",CHANGE:"change",ADD_DIR:"addDir",UNLINK:"unlink",UNLINK_DIR:"unlinkDir",RAW:"raw",ERROR:"error"},Et=pe,SO="watch",bO={lstat:St.lstat,stat:St.stat},Br="listeners",eo="errHandlers",Tn="rawEmitters",xO=[Br,eo,Tn],CO=new Set(["3dm","3ds","3g2","3gp","7z","a","aac","adp","afdesign","afphoto","afpub","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]),AO=e=>CO.has(le.extname(e).slice(1).toLowerCase()),nu=(e,t)=>{e instanceof Set?e.forEach(t):t(e)},Ni=(e,t,r)=>{let n=e[t];n instanceof Set||(e[t]=n=new Set([n])),n.add(r)},TO=e=>t=>{let r=e[t];r instanceof Set?r.clear():delete e[t]},Di=(e,t,r)=>{let n=e[t];n instanceof Set?n.delete(r):n===r&&delete e[t]},Sm=e=>e instanceof Set?e.size===0:!e,to=new Map;function wm(e,t,r,n,i){let s=(o,a)=>{r(e),i(o,a,{watchedPath:e}),a&&e!==a&&ro(le.resolve(e,a),Br,le.join(e,a))};try{return(0,Wr.watch)(e,{persistent:t.persistent},s)}catch(o){n(o);return}}var ro=(e,t,r,n,i)=>{let s=to.get(e);s&&nu(s[t],o=>{o(r,n,i)})},OO=(e,t,r,n)=>{let{listener:i,errHandler:s,rawEmitter:o}=n,a=to.get(t),l;if(!r.persistent)return l=wm(e,r,i,s,o),l?l.close.bind(l):void 0;if(a)Ni(a,Br,i),Ni(a,eo,s),Ni(a,Tn,o);else{if(l=wm(e,r,ro.bind(null,t,Br),s,ro.bind(null,t,Tn)),!l)return;l.on(Et.ERROR,async c=>{let u=ro.bind(null,t,eo);if(a&&(a.watcherUnusable=!0),su&&c.code==="EPERM")try{await(await(0,St.open)(e,"r")).close(),u(c)}catch{}else u(c)}),a={listeners:i,errHandlers:s,rawEmitters:o,watcher:l},to.set(t,a)}return()=>{Di(a,Br,i),Di(a,eo,s),Di(a,Tn,o),Sm(a.listeners)&&(a.watcher.close(),to.delete(t),xO.forEach(TO(a)),a.watcher=void 0,Object.freeze(a))}},ru=new Map,PO=(e,t,r,n)=>{let{listener:i,rawEmitter:s}=n,o=ru.get(t),a=o&&o.options;return a&&(a.persistent<r.persistent||a.interval>r.interval)&&((0,Wr.unwatchFile)(t),o=void 0),o?(Ni(o,Br,i),Ni(o,Tn,s)):(o={listeners:i,rawEmitters:s,options:r,watcher:(0,Wr.watchFile)(t,r,(l,c)=>{nu(o.rawEmitters,f=>{f(Et.CHANGE,t,{curr:l,prev:c})});let u=l.mtimeMs;(l.size!==c.size||u>c.mtimeMs||u===0)&&nu(o.listeners,f=>f(e,l))})},ru.set(t,o)),()=>{Di(o,Br,i),Di(o,Tn,s),Sm(o.listeners)&&(ru.delete(t),(0,Wr.unwatchFile)(t),o.options=o.watcher=void 0,Object.freeze(o))}},no=class{fsw;_boundHandleError;constructor(t){this.fsw=t,this._boundHandleError=r=>t._handleError(r)}_watchWithNodeFs(t,r){let n=this.fsw.options,i=le.dirname(t),s=le.basename(t);this.fsw._getWatchedDir(i).add(s);let a=le.resolve(t),l={persistent:n.persistent};r||(r=io);let c;if(n.usePolling){let u=n.interval!==n.binaryInterval;l.interval=u&&AO(s)?n.binaryInterval:n.interval,c=PO(t,a,l,{listener:r,rawEmitter:this.fsw._emitRaw})}else c=OO(t,a,l,{listener:r,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw});return c}_handleFile(t,r,n){if(this.fsw.closed)return;let i=le.dirname(t),s=le.basename(t),o=this.fsw._getWatchedDir(i),a=r;if(o.has(s))return;let l=async(u,f)=>{if(this.fsw._throttle(SO,t,5)){if(!f||f.mtimeMs===0)try{let h=await(0,St.stat)(t);if(this.fsw.closed)return;let p=h.atimeMs,y=h.mtimeMs;if((!p||p<=y||y!==a.mtimeMs)&&this.fsw._emit(Et.CHANGE,t,h),(_O||vO||EO)&&a.ino!==h.ino){this.fsw._closeFile(u),a=h;let w=this._watchWithNodeFs(t,l);w&&this.fsw._addPathCloser(u,w)}else a=h}catch{this.fsw._remove(i,s)}else if(o.has(s)){let h=f.atimeMs,p=f.mtimeMs;(!h||h<=p||p!==a.mtimeMs)&&this.fsw._emit(Et.CHANGE,t,f),a=f}}},c=this._watchWithNodeFs(t,l);if(!(n&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(t)){if(!this.fsw._throttle(Et.ADD,t,0))return;this.fsw._emit(Et.ADD,t,r)}return c}async _handleSymlink(t,r,n,i){if(this.fsw.closed)return;let s=t.fullPath,o=this.fsw._getWatchedDir(r);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();let a;try{a=await(0,St.realpath)(n)}catch{return this.fsw._emitReady(),!0}return this.fsw.closed?void 0:(o.has(i)?this.fsw._symlinkPaths.get(s)!==a&&(this.fsw._symlinkPaths.set(s,a),this.fsw._emit(Et.CHANGE,n,t.stats)):(o.add(i),this.fsw._symlinkPaths.set(s,a),this.fsw._emit(Et.ADD,n,t.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(s))return!0;this.fsw._symlinkPaths.set(s,!0)}_handleRead(t,r,n,i,s,o,a){t=le.join(t,"");let l=i?`${t}:${i}`:t;if(a=this.fsw._throttle("readdir",l,1e3),!a)return;let c=this.fsw._getWatchedDir(n.path),u=new Set,f=this.fsw._readdirp(t,{fileFilter:h=>n.filterPath(h),directoryFilter:h=>n.filterDir(h)});if(f)return f.on(wO,async h=>{if(this.fsw.closed){f=void 0;return}let p=h.path,y=le.join(t,p);if(u.add(p),!(h.stats.isSymbolicLink()&&await this._handleSymlink(h,t,y,p))){if(this.fsw.closed){f=void 0;return}(p===i||!i&&!c.has(p))&&(this.fsw._incrReadyCount(),y=le.join(s,le.relative(s,y)),this._addToNodeFs(y,r,n,o+1))}}).on(Et.ERROR,this._boundHandleError),new Promise((h,p)=>{if(!f)return p();f.once(iu,()=>{if(this.fsw.closed){f=void 0;return}let y=a?a.clear():!1;h(void 0),c.getChildren().filter(w=>w!==t&&!u.has(w)).forEach(w=>{this.fsw._remove(t,w)}),f=void 0,y&&this._handleRead(t,!1,n,i,s,o,a)})})}async _handleDir(t,r,n,i,s,o,a){let l=this.fsw._getWatchedDir(le.dirname(t)),c=l.has(le.basename(t));!(n&&this.fsw.options.ignoreInitial)&&!s&&!c&&this.fsw._emit(Et.ADD_DIR,t,r),l.add(le.basename(t)),this.fsw._getWatchedDir(t);let u,f,h=this.fsw.options.depth;if((h==null||i<=h)&&!this.fsw._symlinkPaths.has(a)){if(!s&&(await this._handleRead(t,n,o,s,t,i,u),this.fsw.closed))return;f=this._watchWithNodeFs(t,(p,y)=>{y&&y.mtimeMs===0||this._handleRead(p,!1,o,s,t,i,u)})}return f}async _addToNodeFs(t,r,n,i,s){let o=this.fsw._emitReady;if(this.fsw._isIgnored(t)||this.fsw.closed)return o(),!1;let a=this.fsw._getWatchHelpers(t);n&&(a.filterPath=l=>n.filterPath(l),a.filterDir=l=>n.filterDir(l));try{let l=await bO[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,l))return o(),!1;let c=this.fsw.options.followSymlinks,u;if(l.isDirectory()){let f=le.resolve(t),h=c?await(0,St.realpath)(t):t;if(this.fsw.closed||(u=await this._handleDir(a.watchPath,l,r,i,s,a,h),this.fsw.closed))return;f!==h&&h!==void 0&&this.fsw._symlinkPaths.set(f,h)}else if(l.isSymbolicLink()){let f=c?await(0,St.realpath)(t):t;if(this.fsw.closed)return;let h=le.dirname(a.watchPath);if(this.fsw._getWatchedDir(h).add(a.watchPath),this.fsw._emit(Et.ADD,a.watchPath,l),u=await this._handleDir(h,l,r,i,t,a,f),this.fsw.closed)return;f!==void 0&&this.fsw._symlinkPaths.set(le.resolve(t),f)}else u=this._handleFile(a.watchPath,l,r);return o(),u&&this.fsw._addPathCloser(t,u),!1}catch(l){if(this.fsw._handleError(l))return o(),t}}};var ou="/",NO="//",Pm=".",DO="..",RO="string",IO=/\\/g,Nm=/\/\//g,FO=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/,LO=/^\.[/\\]/;function oo(e){return Array.isArray(e)?e:[e]}var au=e=>typeof e=="object"&&e!==null&&!(e instanceof RegExp);function kO(e){return typeof e=="function"?e:typeof e=="string"?t=>e===t:e instanceof RegExp?t=>e.test(t):typeof e=="object"&&e!==null?t=>{if(e.path===t)return!0;if(e.recursive){let r=K.relative(e.path,t);return r?!r.startsWith("..")&&!K.isAbsolute(r):!1}return!1}:()=>!1}function MO(e){if(typeof e!="string")throw new Error("string expected");e=K.normalize(e),e=e.replace(/\\/g,"/");let t=!1;return e.startsWith("//")&&(t=!0),e=e.replace(Nm,"/"),t&&(e="/"+e),e}function bm(e,t,r){let n=MO(t);for(let i=0;i<e.length;i++){let s=e[i];if(s(n,r))return!0}return!1}function qO(e,t){if(e==null)throw new TypeError("anymatch: specify first argument");let n=oo(e).map(i=>kO(i));return t==null?(i,s)=>bm(n,i,s):bm(n,t)}var xm=e=>{let t=oo(e).flat();if(!t.every(r=>typeof r===RO))throw new TypeError(`Non-string provided as watch path: ${t}`);return t.map(Dm)},Cm=e=>{let t=e.replace(IO,ou),r=!1;return t.startsWith(NO)&&(r=!0),t=t.replace(Nm,ou),r&&(t=ou+t),t},Dm=e=>Cm(K.normalize(Cm(e))),Am=(e="")=>t=>typeof t=="string"?Dm(K.isAbsolute(t)?t:K.join(e,t)):t,UO=(e,t)=>K.isAbsolute(e)?e:K.join(t,e),$O=Object.freeze(new Set),lu=class{path;_removeWatcher;items;constructor(t,r){this.path=t,this._removeWatcher=r,this.items=new Set}add(t){let{items:r}=this;r&&t!==Pm&&t!==DO&&r.add(t)}async remove(t){let{items:r}=this;if(!r||(r.delete(t),r.size>0))return;let n=this.path;try{await(0,ao.readdir)(n)}catch{this._removeWatcher&&this._removeWatcher(K.dirname(n),K.basename(n))}}has(t){let{items:r}=this;if(r)return r.has(t)}getChildren(){let{items:t}=this;return t?[...t.values()]:[]}dispose(){this.items.clear(),this.path="",this._removeWatcher=io,this.items=$O,Object.freeze(this)}},BO="stat",WO="lstat",uu=class{fsw;path;watchPath;fullWatchPath;dirParts;followSymlinks;statMethod;constructor(t,r,n){this.fsw=n;let i=t;this.path=t=t.replace(LO,""),this.watchPath=i,this.fullWatchPath=K.resolve(i),this.dirParts=[],this.dirParts.forEach(s=>{s.length>1&&s.pop()}),this.followSymlinks=r,this.statMethod=r?BO:WO}entryPath(t){return K.join(this.watchPath,K.relative(this.watchPath,t.fullPath))}filterPath(t){let{stats:r}=t;if(r&&r.isSymbolicLink())return this.filterDir(t);let n=this.entryPath(t);return this.fsw._isntIgnored(n,r)&&this.fsw._hasReadPermissions(r)}filterDir(t){return this.fsw._isntIgnored(this.entryPath(t),t.stats)}},cu=class extends Tm.EventEmitter{closed;options;_closers;_ignoredPaths;_throttled;_streams;_symlinkPaths;_watched;_pendingWrites;_pendingUnlinks;_readyCount;_emitReady;_closePromise;_userIgnored;_readyEmitted;_emitRaw;_boundRemove;_nodeFsHandler;constructor(t={}){super(),this.closed=!1,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._streams=new Set,this._symlinkPaths=new Map,this._watched=new Map,this._pendingWrites=new Map,this._pendingUnlinks=new Map,this._readyCount=0,this._readyEmitted=!1;let r=t.awaitWriteFinish,n={stabilityThreshold:2e3,pollInterval:100},i={persistent:!0,ignoreInitial:!1,ignorePermissionErrors:!1,interval:100,binaryInterval:300,followSymlinks:!0,usePolling:!1,atomic:!0,...t,ignored:t.ignored?oo(t.ignored):oo([]),awaitWriteFinish:r===!0?n:typeof r=="object"?{...n,...r}:!1};Em&&(i.usePolling=!0),i.atomic===void 0&&(i.atomic=!i.usePolling);let s=process.env.CHOKIDAR_USEPOLLING;if(s!==void 0){let l=s.toLowerCase();l==="false"||l==="0"?i.usePolling=!1:l==="true"||l==="1"?i.usePolling=!0:i.usePolling=!!l}let o=process.env.CHOKIDAR_INTERVAL;o&&(i.interval=Number.parseInt(o,10));let a=0;this._emitReady=()=>{a++,a>=this._readyCount&&(this._emitReady=io,this._readyEmitted=!0,process.nextTick(()=>this.emit(pe.READY)))},this._emitRaw=(...l)=>this.emit(pe.RAW,...l),this._boundRemove=this._remove.bind(this),this.options=i,this._nodeFsHandler=new no(this),Object.freeze(i)}_addIgnoredPath(t){if(au(t)){for(let r of this._ignoredPaths)if(au(r)&&r.path===t.path&&r.recursive===t.recursive)return}this._ignoredPaths.add(t)}_removeIgnoredPath(t){if(this._ignoredPaths.delete(t),typeof t=="string")for(let r of this._ignoredPaths)au(r)&&r.path===t&&this._ignoredPaths.delete(r)}add(t,r,n){let{cwd:i}=this.options;this.closed=!1,this._closePromise=void 0;let s=xm(t);return i&&(s=s.map(o=>UO(o,i))),s.forEach(o=>{this._removeIgnoredPath(o)}),this._userIgnored=void 0,this._readyCount||(this._readyCount=0),this._readyCount+=s.length,Promise.all(s.map(async o=>{let a=await this._nodeFsHandler._addToNodeFs(o,!n,void 0,0,r);return a&&this._emitReady(),a})).then(o=>{this.closed||o.forEach(a=>{a&&this.add(K.dirname(a),K.basename(r||a))})}),this}unwatch(t){if(this.closed)return this;let r=xm(t),{cwd:n}=this.options;return r.forEach(i=>{!K.isAbsolute(i)&&!this._closers.has(i)&&(n&&(i=K.join(n,i)),i=K.resolve(i)),this._closePath(i),this._addIgnoredPath(i),this._watched.has(i)&&this._addIgnoredPath({path:i,recursive:!0}),this._userIgnored=void 0}),this}close(){if(this._closePromise)return this._closePromise;this.closed=!0,this.removeAllListeners();let t=[];return this._closers.forEach(r=>r.forEach(n=>{let i=n();i instanceof Promise&&t.push(i)})),this._streams.forEach(r=>r.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(r=>r.dispose()),this._closers.clear(),this._watched.clear(),this._streams.clear(),this._symlinkPaths.clear(),this._throttled.clear(),this._closePromise=t.length?Promise.all(t).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){let t={};return this._watched.forEach((r,n)=>{let s=(this.options.cwd?K.relative(this.options.cwd,n):n)||Pm;t[s]=r.getChildren().sort()}),t}emitWithAll(t,r){this.emit(t,...r),t!==pe.ERROR&&this.emit(pe.ALL,t,...r)}async _emit(t,r,n){if(this.closed)return;let i=this.options;su&&(r=K.normalize(r)),i.cwd&&(r=K.relative(i.cwd,r));let s=[r];n!=null&&s.push(n);let o=i.awaitWriteFinish,a;if(o&&(a=this._pendingWrites.get(r)))return a.lastChange=new Date,this;if(i.atomic){if(t===pe.UNLINK)return this._pendingUnlinks.set(r,[t,...s]),setTimeout(()=>{this._pendingUnlinks.forEach((l,c)=>{this.emit(...l),this.emit(pe.ALL,...l),this._pendingUnlinks.delete(c)})},typeof i.atomic=="number"?i.atomic:100),this;t===pe.ADD&&this._pendingUnlinks.has(r)&&(t=pe.CHANGE,this._pendingUnlinks.delete(r))}if(o&&(t===pe.ADD||t===pe.CHANGE)&&this._readyEmitted){let l=(c,u)=>{c?(t=pe.ERROR,s[0]=c,this.emitWithAll(t,s)):u&&(s.length>1?s[1]=u:s.push(u),this.emitWithAll(t,s))};return this._awaitWriteFinish(r,o.stabilityThreshold,t,l),this}if(t===pe.CHANGE&&!this._throttle(pe.CHANGE,r,50))return this;if(i.alwaysStat&&n===void 0&&(t===pe.ADD||t===pe.ADD_DIR||t===pe.CHANGE)){let l=i.cwd?K.join(i.cwd,r):r,c;try{c=await(0,ao.stat)(l)}catch{}if(!c||this.closed)return;s.push(c)}return this.emitWithAll(t,s),this}_handleError(t){let r=t&&t.code;return t&&r!=="ENOENT"&&r!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||r!=="EPERM"&&r!=="EACCES")&&this.emit(pe.ERROR,t),t||this.closed}_throttle(t,r,n){this._throttled.has(t)||this._throttled.set(t,new Map);let i=this._throttled.get(t);if(!i)throw new Error("invalid throttle");let s=i.get(r);if(s)return s.count++,!1;let o,a=()=>{let c=i.get(r),u=c?c.count:0;return i.delete(r),clearTimeout(o),c&&clearTimeout(c.timeoutObject),u};o=setTimeout(a,n);let l={timeoutObject:o,clear:a,count:0};return i.set(r,l),l}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(t,r,n,i){let s=this.options.awaitWriteFinish;if(typeof s!="object")return;let o=s.pollInterval,a,l=t;this.options.cwd&&!K.isAbsolute(t)&&(l=K.join(this.options.cwd,t));let c=new Date,u=this._pendingWrites;function f(h){(0,Om.stat)(l,(p,y)=>{if(p||!u.has(t)){p&&p.code!=="ENOENT"&&i(p);return}let w=Number(new Date);h&&y.size!==h.size&&(u.get(t).lastChange=w);let S=u.get(t);w-S.lastChange>=r?(u.delete(t),i(void 0,y)):a=setTimeout(f,o,y)})}u.has(t)||(u.set(t,{lastChange:c,cancelWait:()=>(u.delete(t),clearTimeout(a),n)}),a=setTimeout(f,o))}_isIgnored(t,r){if(this.options.atomic&&FO.test(t))return!0;if(!this._userIgnored){let{cwd:n}=this.options,s=(this.options.ignored||[]).map(Am(n)),a=[...[...this._ignoredPaths].map(Am(n)),...s];this._userIgnored=qO(a,void 0)}return this._userIgnored(t,r)}_isntIgnored(t,r){return!this._isIgnored(t,r)}_getWatchHelpers(t){return new uu(t,this.options.followSymlinks,this)}_getWatchedDir(t){let r=K.resolve(t);return this._watched.has(r)||this._watched.set(r,new lu(r,this._boundRemove)),this._watched.get(r)}_hasReadPermissions(t){return this.options.ignorePermissionErrors?!0:!!(Number(t.mode)&256)}_remove(t,r,n){let i=K.join(t,r),s=K.resolve(i);if(n=n??(this._watched.has(i)||this._watched.has(s)),!this._throttle("remove",i,100))return;!n&&this._watched.size===1&&this.add(t,r,!0),this._getWatchedDir(i).getChildren().forEach(h=>this._remove(i,h));let l=this._getWatchedDir(t),c=l.has(r);l.remove(r),this._symlinkPaths.has(s)&&this._symlinkPaths.delete(s);let u=i;if(this.options.cwd&&(u=K.relative(this.options.cwd,i)),this.options.awaitWriteFinish&&this._pendingWrites.has(u)&&this._pendingWrites.get(u).cancelWait()===pe.ADD)return;this._watched.delete(i),this._watched.delete(s);let f=n?pe.UNLINK_DIR:pe.UNLINK;c&&!this._isIgnored(i)&&this._emit(f,i),this._closePath(i)}_closePath(t){this._closeFile(t);let r=K.dirname(t);this._getWatchedDir(r).remove(K.basename(t))}_closeFile(t){let r=this._closers.get(t);r&&(r.forEach(n=>n()),this._closers.delete(t))}_addPathCloser(t,r){if(!r)return;let n=this._closers.get(t);n||(n=[],this._closers.set(t,n)),n.push(r)}_readdirp(t,r){if(this.closed)return;let n={type:pe.ALL,alwaysStat:!0,lstat:!0,...r,depth:0},i=ym(t,n);return this._streams.add(i),i.once(vm,()=>{i=void 0}),i.once(iu,()=>{i&&(this._streams.delete(i),i=void 0)}),i}};function Rm(e,t={}){let r=new cu(t);return r.add(e),r}var uo=ee(require("node:path")),fu=require("node:os");var ke=process.platform==="darwin";On();var lo=!ke&&!bt;function co(){if(!lo)return uo.default.join((0,fu.homedir)(),".csdm");let e="csdm",t=process.env.XDG_CONFIG_HOME;return typeof t=="string"&&t!==""?uo.default.join(t,e):uo.default.join((0,fu.homedir)(),".config",e)}var hu=class{logFolderPath;logFilePath;fileStream=null;watcher=null;cache=[];shouldLogToGlobalConsole=!0;isVerbose=!0;constructor(){this.logFolderPath=du.default.join(co(),"logs"),this.logFilePath=du.default.join(this.logFolderPath,"csdm.log"),this.shouldLogToGlobalConsole=process.type==="renderer",process.env.PROCESS_NAME==="cli"&&!process.argv.includes("--verbose")&&(this.isVerbose=!1)}debug=(...t)=>{this.isVerbose&&(this.logToConsole(t,"debug"),this.writeLogToFile(t,"debug"))};log=(...t)=>{this.logToConsole(t,"log"),this.writeLogToFile(t,"log")};warn=(...t)=>{this.logToConsole(t,"warn"),this.writeLogToFile(t,"warn")};error=(...t)=>{this.logToConsole(t,"error"),this.writeLogToFile(t,"error")};getLogFilePath=()=>this.logFilePath;clear=async()=>{if(await Pn.default.pathExists(this.logFilePath))try{await Pn.default.writeFile(this.logFilePath,"")}catch(r){throw this.error("Failed to clear log file",r),r}};logToConsole=(t,r)=>{this.shouldLogToGlobalConsole&&console[r](...t)};jsonStringifyReplacer=(t,r)=>{if(r instanceof Error)return r.cause?`${r.stack}
	CAUSE: ${r.cause}`:r.stack;if(!r)return r;if(typeof r.toJSON=="function")return r.toJSON();if(typeof r=="function")return"[function] "+r.toString();if(typeof r=="object"&&r!==null){if(this.cache.includes(r))return;this.cache.push(r)}return r};formatDataToWrite=(...t)=>{let r=t.map(n=>{if(n===void 0)return;let i=JSON.stringify(n,this.jsonStringifyReplacer,2);if(this.cache=[],i!==void 0)return JSON.parse(i)});return(0,Im.format)(...r)};buildLogLine=(t,r)=>`${`${new Date().toISOString()} | ${r.toUpperCase()} | ${process.env.PROCESS_NAME} |`} ${this.formatDataToWrite(...t)}
`;onFileDeleted=()=>{this.fileStream?.close(),this.fileStream=null};ensureLogFileExists=async()=>{await Pn.default.ensureFile(this.logFilePath)};clearLogsIfFileMaxSizeReached=async()=>{let{size:t}=await Pn.default.stat(this.logFilePath);t/(1024*1024)>1&&await this.clear()};watchForFileDeletion=()=>{this.watcher?.close(),this.watcher=Rm(this.logFolderPath).on("unlink",this.onFileDeleted)};writeLogToFile=async(t,r)=>{await this.ensureLogFileExists(),await this.clearLogsIfFileMaxSizeReached(),this.fileStream===null&&(this.fileStream=Pn.default.createWriteStream(this.logFilePath,{flags:"a"}),this.watchForFileDeletion());let n=this.buildLogLine(t,r);this.fileStream.write(n)}};globalThis.logger=new hu;var I4=require("electron"),fe=require("electron"),wC=ee(hr());var Bm=ee(Um(),1),Yt=class extends Error{constructor(t,r,n){super(t),this.token=r,this.type=n||"error"}},Wm=e=>e<4?"short":e===4?"long":"narrow",Ii=e=>e%2===0?"2-digit":"numeric";function YO(e,t){switch(e.char){case"y":return{year:Ii(e.width)};case"r":return{calendar:"gregory",year:"numeric"};default:return t(`${e.desc} is not supported; falling back to year:numeric`,Yt.WARNING),{year:"numeric"}}}function KO(e,t){switch(e.width){case 1:return"numeric";case 2:return"2-digit";case 3:return"short";case 4:return"long";case 5:return"narrow";default:t(`${e.desc} is not supported with width ${e.width}`);return}}function XO(e,t){let{char:r,desc:n,width:i}=e;if(r==="d")return Ii(i);t(`${n} is not supported`)}function JO(e,t){let{char:r,desc:n,width:i}=e;if((r==="c"||r==="e")&&i<3){let s=`Numeric value is not supported for ${n}; falling back to weekday:short`;t(s,Yt.WARNING)}return Wm(i)}function QO(e){let t=Ii(e.width),r;switch(e.char){case"h":r="h12";break;case"H":r="h23";break;case"k":r="h24";break;case"K":r="h11";break}return r?{hour:t,hourCycle:r}:{hour:t}}function ZO(e,t){let{char:r,desc:n,width:i}=e;switch(r){case"v":case"z":return i===4?"long":"short";case"V":if(i===4)return"long";t(`${n} is not supported with width ${i}`);return;case"X":t(`${n} is not supported`);return}return"short"}function eP(e,t){switch(e.field){case"era":return{era:Wm(e.width)};case"year":return YO(e,t);case"month":return{month:KO(e,t)};case"day":return{day:XO(e,t)};case"weekday":return{weekday:JO(e,t)};case"period":return;case"hour":return QO(e);case"min":return{minute:Ii(e.width)};case"sec":return{second:Ii(e.width)};case"tz":return{timeZoneName:ZO(e,t)};case"quarter":case"week":case"sec-frac":case"ms":t(`${e.desc} is not supported`)}}function tP(e,t,r=n=>{throw n}){let n={timeZone:t},i=[];for(let s of e){let{error:o,field:a,str:l}=s;if(o){let u=new Yt(o.message,s);u.stack=o.stack,r(u)}if(l){let u=`Ignoring string part: ${l}`;r(new Yt(u,s,Yt.WARNING))}a&&(i.indexOf(a)===-1?i.push(a):r(new Yt(`Duplicate ${a} token`,s)));let c=eP(s,(u,f)=>r(new Yt(u,s,f)));c&&Object.assign(n,c)}return n}var rP={G:{field:"era",desc:"Era"},y:{field:"year",desc:"Year"},Y:{field:"year",desc:'Year of "Week of Year"'},u:{field:"year",desc:"Extended year"},U:{field:"year",desc:"Cyclic year name"},r:{field:"year",desc:"Related Gregorian year"},Q:{field:"quarter",desc:"Quarter"},q:{field:"quarter",desc:"Stand-alone quarter"},M:{field:"month",desc:"Month in year"},L:{field:"month",desc:"Stand-alone month in year"},w:{field:"week",desc:"Week of year"},W:{field:"week",desc:"Week of month"},d:{field:"day",desc:"Day in month"},D:{field:"day",desc:"Day of year"},F:{field:"day",desc:"Day of week in month"},g:{field:"day",desc:"Modified julian day"},E:{field:"weekday",desc:"Day of week"},e:{field:"weekday",desc:"Local day of week"},c:{field:"weekday",desc:"Stand-alone local day of week"},a:{field:"period",desc:"AM/PM marker"},b:{field:"period",desc:"AM/PM/noon/midnight marker"},B:{field:"period",desc:"Flexible day period"},h:{field:"hour",desc:"Hour in AM/PM (1~12)"},H:{field:"hour",desc:"Hour in day (0~23)"},k:{field:"hour",desc:"Hour in day (1~24)"},K:{field:"hour",desc:"Hour in AM/PM (0~11)"},j:{field:"hour",desc:"Hour in preferred cycle"},J:{field:"hour",desc:"Hour in preferred cycle without marker"},C:{field:"hour",desc:"Hour in preferred cycle with flexible marker"},m:{field:"min",desc:"Minute in hour"},s:{field:"sec",desc:"Second in minute"},S:{field:"sec-frac",desc:"Fractional second"},A:{field:"ms",desc:"Milliseconds in day"},z:{field:"tz",desc:"Time Zone: specific non-location"},Z:{field:"tz",desc:"Time Zone"},O:{field:"tz",desc:"Time Zone: localized"},v:{field:"tz",desc:"Time Zone: generic non-location"},V:{field:"tz",desc:"Time Zone: ID"},X:{field:"tz",desc:"Time Zone: ISO8601 with Z"},x:{field:"tz",desc:"Time Zone: ISO8601"}},$m=e=>e>="A"&&e<="Z"||e>="a"&&e<="z";function nP(e,t){let r=e[t],n=1;for(;e[++t]===r;)++n;let i=rP[r];if(!i){let s=`The letter ${r} is not a valid field identifier`;return{char:r,error:new Error(s),width:n}}return{char:r,field:i.field,desc:i.desc,width:n}}function iP(e,t){let r=e[++t],n=2;if(r==="'")return{char:"'",str:r,width:n};for(;;){let i=e[++t];if(++n,i===void 0){let s=`Unterminated quoted literal in pattern: ${r||e}`;return{char:"'",error:new Error(s),str:r,width:n}}else if(i==="'"){if(e[++t]!=="'")return{char:"'",str:r,width:n};++n}r+=i}}function sP(e,t){let r=e[t];if(!r)return null;if($m(r))return nP(e,t);if(r==="'")return iP(e,t);let n=r,i=1;for(;;){let s=e[++t];if(!s||$m(s)||s==="'")return{char:r,str:n,width:i};n+=s,i+=1}}function oP(e){let t=[],r=0;for(;;){let n=sP(e,r);if(!n)return t;t.push(n),r+=n.width}}function Gm(e,t){return e.filter(r=>r.type!=="content").length?e.map(r=>{if(r.type==="content")return t(r.value);if(r.type==="octothorpe")return"#";if(r.type==="argument")return[r.arg];if(r.type==="function"){let s=r?.param?.[0];if(r.key==="date"&&s){let o=aP(s.value.trim(),a=>{throw new Error(`Unable to compile date expression: ${a.message}`)});return[r.arg,r.key,o]}return s?[r.arg,r.key,s.value.trim()]:[r.arg,r.key]}let n=r.pluralOffset,i={};return r.cases.forEach(({key:s,tokens:o})=>{let a=s[0]==="="?s.slice(1):s;i[a]=Gm(o,t)}),[r.arg,r.type,{offset:n,...i}]}):e.map(r=>t(r.value))}function aP(e,t){if(/^::/.test(e)){let r=oP(e.substring(2));return tP(r,void 0,t)}return e}function lP(e,t=r=>r){return Gm((0,Bm.parse)(e),t)}function jm(e,t=r=>r){try{return lP(e,t)}catch(r){return console.error(`${r.message} 

Message: ${e}`),[e]}}var pr=e=>typeof e=="string",uP=e=>typeof e=="function",Hm=new Map,zm="en";function _u(e){return[...Array.isArray(e)?e:[e],zm]}function vu(e,t,r){let n=_u(e);r||(r="default");let i;if(typeof r=="string")switch(i={day:"numeric",month:"short",year:"numeric"},r){case"full":i.weekday="long";case"long":i.month="long";break;case"short":i.month="numeric";break}else i=r;return po(()=>mo("date",n,r),()=>new Intl.DateTimeFormat(n,i)).format(pr(t)?new Date(t):t)}function cP(e,t,r){let n;if(r||(r="default"),typeof r=="string")switch(n={second:"numeric",minute:"numeric",hour:"numeric"},r){case"full":case"long":n.timeZoneName="short";break;case"short":delete n.second}else n=r;return vu(e,t,n)}function gu(e,t,r){let n=_u(e);return po(()=>mo("number",n,r),()=>new Intl.NumberFormat(n,r)).format(t)}function Vm(e,t,r,{offset:n=0,...i}){let s=_u(e),o=t?po(()=>mo("plural-ordinal",s),()=>new Intl.PluralRules(s,{type:"ordinal"})):po(()=>mo("plural-cardinal",s),()=>new Intl.PluralRules(s,{type:"cardinal"}));return i[r]??i[o.select(r-n)]??i.other}function po(e,t){let r=e(),n=Hm.get(r);return n||(n=t(),Hm.set(r,n)),n}function mo(e,t,r){let n=t.join("-");return`${e}-${n}-${JSON.stringify(r)}`}var Ym=/\\u[a-fA-F0-9]{4}|\\x[a-fA-F0-9]{2}/,Km=e=>e.replace(/\\u([a-fA-F0-9]{4})|\\x([a-fA-F0-9]{2})/g,(t,r,n)=>{if(r){let i=parseInt(r,16);return String.fromCharCode(i)}else{let i=parseInt(n,16);return String.fromCharCode(i)}}),Xm="%__lingui_octothorpe__%",fP=(e,t,r={})=>{let n=t||e,i=o=>typeof o=="object"?o:r[o],s=(o,a)=>{let l=Object.keys(r).length?i("number"):void 0,c=gu(n,o,l);return a.replace(new RegExp(Xm,"g"),c)};return{plural:(o,a)=>{let{offset:l=0}=a,c=Vm(n,!1,o,a);return s(o-l,c)},selectordinal:(o,a)=>{let{offset:l=0}=a,c=Vm(n,!0,o,a);return s(o-l,c)},select:dP,number:(o,a)=>gu(n,o,i(a)||{style:a}),date:(o,a)=>vu(n,o,i(a)||a),time:(o,a)=>cP(n,o,i(a)||a)}},dP=(e,t)=>t[e]??t.other;function hP(e,t,r){return(n={},i)=>{let s=fP(t,r,i),o=(l,c=!1)=>Array.isArray(l)?l.reduce((u,f)=>{if(f==="#"&&c)return u+Xm;if(pr(f))return u+f;let[h,p,y]=f,w={};p==="plural"||p==="selectordinal"||p==="select"?Object.entries(y).forEach(([x,C])=>{w[x]=o(C,p==="plural"||p==="selectordinal")}):w=y;let S;if(p){let x=s[p];S=x(n[h],w)}else S=n[h];return S==null?u:u+S},""):l,a=o(e);return pr(a)&&Ym.test(a)?Km(a):pr(a)?a:a?String(a):""}}var pP=Object.defineProperty,mP=(e,t,r)=>t in e?pP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gP=(e,t,r)=>(mP(e,typeof t!="symbol"?t+"":t,r),r),yu=class{constructor(){gP(this,"_events",{})}on(t,r){var n;return(n=this._events)[t]??(n[t]=[]),this._events[t].push(r),()=>this.removeListener(t,r)}removeListener(t,r){let n=this._getListeners(t);if(!n)return;let i=n.indexOf(r);~i&&n.splice(i,1)}emit(t,...r){let n=this._getListeners(t);n&&n.map(i=>i.apply(this,r))}_getListeners(t){let r=this._events[t];return Array.isArray(r)?r:!1}},yP=Object.defineProperty,wP=(e,t,r)=>t in e?yP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Gr=(e,t,r)=>(wP(e,typeof t!="symbol"?t+"":t,r),r),wu=class extends yu{constructor(t){super(),Gr(this,"_locale",""),Gr(this,"_locales"),Gr(this,"_localeData",{}),Gr(this,"_messages",{}),Gr(this,"_missing"),Gr(this,"_messageCompiler"),Gr(this,"t",this._.bind(this)),process.env.NODE_ENV!=="production"&&this.setMessagesCompiler(jm),t.missing!=null&&(this._missing=t.missing),t.messages!=null&&this.load(t.messages),t.localeData!=null&&this.loadLocaleData(t.localeData),(typeof t.locale=="string"||t.locales)&&this.activate(t.locale??zm,t.locales)}get locale(){return this._locale}get locales(){return this._locales}get messages(){return this._messages[this._locale]??{}}get localeData(){return this._localeData[this._locale]??{}}_loadLocaleData(t,r){let n=this._localeData[t];n?Object.assign(n,r):this._localeData[t]=r}setMessagesCompiler(t){return this._messageCompiler=t,this}loadLocaleData(t,r){typeof t=="string"?this._loadLocaleData(t,r):Object.keys(t).forEach(n=>this._loadLocaleData(n,t[n])),this.emit("change")}_load(t,r){let n=this._messages[t];n?Object.assign(n,r):this._messages[t]=r}load(t,r){typeof t=="string"&&typeof r=="object"?this._load(t,r):Object.entries(t).forEach(([n,i])=>this._load(n,i)),this.emit("change")}loadAndActivate({locale:t,locales:r,messages:n}){this._locale=t,this._locales=r||void 0,this._messages[this._locale]=n,this.emit("change")}activate(t,r){process.env.NODE_ENV!=="production"&&(this._messages[t]||console.warn(`Messages for locale "${t}" not loaded.`)),this._locale=t,this._locales=r,this.emit("change")}_(t,r,n){if(!this.locale)throw new Error("Lingui: Attempted to call a translation function without setting a locale.\nMake sure to call `i18n.activate(locale)` before using Lingui functions.\nThis issue may also occur due to a race condition in your initialization logic.");let i=n?.message;t||(t=""),pr(t)||(r=t.values||r,i=t.message,t=t.id);let s=this.messages[t],o=s===void 0,a=this._missing;if(a&&o)return uP(a)?a(this._locale,t):a;o&&this.emit("missing",{id:t,locale:this._locale});let l=s||i||t;return pr(l)&&(this._messageCompiler?l=this._messageCompiler(l):console.warn(`Uncompiled message detected! Message:

> ${l}

That means you use raw catalog or your catalog doesn't have a translation for the message and fallback was used.
ICU features such as interpolation and plurals will not work properly for that message. 

Please compile your catalog first. 
`)),pr(l)&&Ym.test(l)?Km(l):pr(l)?l:hP(l,this._locale,this._locales)(r,n?.formats)}date(t,r){return vu(this._locales||this._locale,t,r)}number(t,r){return gu(this._locales||this._locale,t,r)}};function _P(e={}){return new wu(e)}var N=_P();var z={GetStartupArguments:"get-startup-arguments",ClearStartupArguments:"clear-startup-arguments",GetSystemStartupBehavior:"get-system-startup-behavior",UpdateSystemStartupBehavior:"update-system-startup-behavior",LocaleChanged:"locale-changed",OpenDemFile:"open-dem-file",OpenSettings:"open-settings",ToggleSettingsVisibility:"toggle-settings-visibility",ShowAbout:"toggle-about",ShowWindow:"show-window",ReloadWindow:"reload-window",RestartApp:"restart-app",BrowseToFolder:"browse-to-folder",BrowseToFile:"browse-to-file",ShowTitleBarMenu:"show-title-bar-menu",MinimizeWindow:"minimize-window",MaximizeWindow:"maximize-window",UnMazimizeWindow:"un_maximize-window",CloseWindow:"close-window",WindowClose:"window-close",IsWindowMaximized:"is-window-maximized",WindowUnMaximized:"window-un-maximized",WindowMaximized:"window-maximized",ShowSaveDialog:"show-save-dialog",ShowOpenDialog:"show-open-dialog",CanGoBack:"can-go-back",CanGoForward:"can-go-forward",NavigateToPlayers:"navigate-to-players",NavigateToPendingDownloads:"navigate-to-pending-downloads",NavigateToBans:"navigate-to-bans",HasUpdateReadyToInstall:"has-update-ready-to-install",UpdateDownloaded:"update-downloaded",InstallUpdate:"install-update",ToggleAutoUpdate:"toggle-auto-update"};var Jm=ee(require("node:path")),Qm=require("node:child_process"),Eu=require("electron");function Zm(){let e=Jm.default.join(Eu.app.getAppPath(),"server.js"),t=(0,Qm.fork)(e,{silent:!0,env:process.env}),r=!1;t.stderr?.on("data",n=>{r||logger.error(n.toString())}),t.on("exit",(n,i)=>{logger.log(`server process exited with code ${n} and signal ${i}`)}),t.on("message",n=>{logger.log("server process received message",n),n==="pong"&&(r=!0)}),t.on("error",n=>{logger.log("server process error",n)}),t.on("close",(n,i)=>{logger.log(`server process closed with code ${n} and signal ${i}`)}),Eu.app.on("quit",()=>{t.kill()}),t.send("ping")}var go=require("electron"),MW=require("electron");function yo(e){let t=(r,{editFlags:n,isEditable:i,linkText:s,linkURL:o})=>{let a=[];o.length>0&&a.push({id:"copyLink",label:N.t({id:"contextMenu.copyLink",message:"Copy link"}),click:()=>{go.clipboard.write({bookmark:s,text:o})}}),n.canCut&&a.push({label:N.t({id:"contextMenu.cut",message:"Cut"}),role:"cut",accelerator:"CommandOrControl+X"}),n.canCopy&&a.push({label:N.t({id:"contextMenu.copy",message:"Copy"}),role:"copy",accelerator:"CommandOrControl+C"}),i&&n.canPaste&&a.push({label:N.t({id:"contextMenu.paste",message:"Paste"}),role:"paste",accelerator:"CommandOrControl+V"}),n.canDelete&&a.push({type:"separator"},{label:N.t({id:"contextMenu.delete",message:"Delete"}),role:"delete"}),a.length>0&&go.Menu.buildFromTemplate(a).popup({window:e})};e.webContents.removeAllListeners("context-menu"),e.webContents.addListener("context-menu",t)}var mg=require("electron"),gg=ee(require("node:path"));var _o=require("electron");var Su=ee(require("node:path")),xt=require("electron"),bu=ee(fg());var lt={StartPath:"start-path",DemoPath:"demo-path",AppOpenedAtLogin:"app-opened-at-login"};function dg(e,t){let r=e.find(i=>i.startsWith(`--${t}=`));return r===void 0?void 0:r.slice(r.indexOf("=")+1)}var xu=class{mainWindow=null;devWindow=null;startupArguments=[];constructor(){for(let t of Object.values(lt)){let r=dg(process.argv,t);typeof r=="string"&&this.startupArguments.push({name:t,value:r})}}getStartupArguments=()=>this.startupArguments;clearStartupArguments=()=>{this.startupArguments=[]};setStartupArgument=(t,r)=>{let n=this.startupArguments.findIndex(i=>i.name===t);n===-1?this.startupArguments.push({name:t,value:r}):this.startupArguments[n].value=r};getOrCreateMainWindow=()=>((this.mainWindow===null||this.mainWindow.isDestroyed())&&(this.mainWindow=this.createMainWindow()),this.mainWindow);getMainWindow(){return this.mainWindow}getDevWindow(){return this.devWindow}createDevWindow(){let t=(0,bu.default)({defaultWidth:1024,defaultHeight:768,file:"window-state-dev.json"}),r=new xt.BrowserWindow({x:t.x,y:t.y,width:t.width,height:t.height,webPreferences:{nodeIntegration:!0,preload:Su.default.join(xt.app.getAppPath(),"dev-preload.js"),contextIsolation:!1},backgroundColor:"#080808"});return t.manage(r),r.on("close",()=>{xt.app.exit()}),r.webContents.openDevTools(),r.loadFile("dev.html"),r}createMainWindow(){let t=(0,bu.default)({defaultWidth:1024,defaultHeight:768,file:"window-state-main.json"}),r=new xt.BrowserWindow({x:t.x,y:t.y,width:t.width,height:t.height,minWidth:500,minHeight:400,webPreferences:{preload:Su.default.join(xt.app.getAppPath(),"preload.js"),sandbox:!1,webSecurity:!0},frame:!1,titleBarStyle:"hiddenInset",show:!1,backgroundColor:"#000"});return t.manage(r),r.on("unmaximize",()=>{r.webContents.send(z.WindowUnMaximized)}),r.on("maximize",()=>{r.webContents.send(z.WindowMaximized)}),r.on("close",()=>{r.webContents.send(z.WindowClose)}),r.on("ready-to-show",()=>{r.show()}),r.on("show",()=>{xt.app.dock&&xt.app.dock.show()}),r.webContents.setWindowOpenHandler(({url:n})=>(this.isAllowedUrl(n)&&xt.shell.openExternal(n),{action:"deny"})),r.webContents.on("will-navigate",n=>{n.preventDefault()}),r.loadFile("index.html"),yo(r),r}isAllowedUrl(t){let r=["https://cs-demo-manager.com/","https://github.com/","https://steamcommunity.com/","https://ffmpeg.org/","http://www.virtualdub.org/","https://www.faceit.com/","https://support.apple.com/","https://www.advancedfx.org/","https://docs.faceit.com/","https://discord.com/","https://www.5eplay.com/","https://arena.5eplay.com/","https://renown.gg/","https://esplay.com/","https://leetify.com/"];for(let n of r)if(t.startsWith(n))return!0;return!1}},G=new xu;var Rn={Bans:"bans",Demos:"demos",Downloads:"downloads",Matches:"matches",Players:"players",Search:"search",Settings:"settings",Teams:"teams"};function vo(){return _o.Menu.buildFromTemplate([{label:N.t({id:"trayMenu.openApp",message:"Open CS:DM"}),click:()=>{G.getOrCreateMainWindow().show()}},{label:N.t({id:"trayMenu.settings",message:"Settings"}),click:()=>{let t=G.getMainWindow();t===null||t.isDestroyed()?(G.setStartupArgument(lt.StartPath,Rn.Settings),t=G.getOrCreateMainWindow()):t.webContents.send(z.OpenSettings),t.show()}},{label:N.t({id:"trayMenu.quit",message:"Quit"}),click:()=>{_o.app.quit()}}])}On();var hg=ee(require("node:path"));function pg(){return hg.default.join(__dirname,"..","static")}function yg(){let e=ke?"trayTemplate.png":bt?"tray.ico":"tray.png",t=gg.default.join(pg(),"images","tray",e),r=new mg.Tray(t);r.on("double-click",()=>{let i=G.getDevWindow();i!==null&&i.show(),G.getOrCreateMainWindow().show()});let n=vo();return r.setContextMenu(n),r.setToolTip("CS Demo Manager"),r}var vg=ee(require("node:path")),Eg=ee(hr());function wg(e){return["zh-CN","zh-TW","pt-BR"].includes(e)?e:new Intl.Locale(e).language}async function _g(e){let t=wg(e),r=vg.default.join(__dirname,"translations",t,"messages.json"),n=await Eg.default.readFile(r,"utf8"),i=JSON.parse(n);N.loadAndActivate({locale:e,messages:i})}async function Cu(e){try{await _g(e)}catch{await _g("en")}}var te=require("electron");On();var Li=ee(hr()),Pg=ee(require("node:os")),bo=require("electron");On();var Ie={Minimized:"minimized",On:"on",Off:"off"};async function Tg({path:e,name:t}){try{let{HKEY:r,enumerateValues:n}=await Promise.resolve().then(()=>ee(Au())),i=n(r.HKEY_CURRENT_USER,e).find(s=>s.name===t);return typeof i?.data!="string"?void 0:i.data}catch(r){logger.error(r);return}}async function Og({path:e,name:t,data:r}){try{let{HKEY:n,RegistryValueType:i,setValue:s}=await Promise.resolve().then(()=>ee(Au()));s(n.HKEY_CURRENT_USER,e,t,i.REG_SZ,r)}catch(n){throw logger.error(n),new Error("Registry write failed")}}function Ng(){return`${Pg.default.homedir()}/.config/autostart/cs-demo-manager.desktop`}async function Dg(){if(bt){let n=await Tg({path:"Software\\Microsoft\\Windows\\CurrentVersion\\Run",name:"com.akiver.csdm"});return n?n.includes("--minimized")?Ie.Minimized:Ie.On:Ie.Off}if(ke){let n=bo.app.getLoginItemSettings();return n.openAtLogin?n.openAsHidden?Ie.Minimized:Ie.On:Ie.Off}let e=Ng();return await Li.default.pathExists(e)?(await Li.default.readFile(e,"utf8")).includes("--minimized")?Ie.Minimized:Ie.On:Ie.Off}async function xo(e){if(!lo){let r=e===Ie.Minimized?["--login","--minimized"]:["--login"];bo.app.setLoginItemSettings({openAtLogin:e!==Ie.Off,openAsHidden:e===Ie.Minimized,args:r});let n=bo.app.getPath("exe");bt&&n.includes(" ")&&await Og({path:"Software\\Microsoft\\Windows\\CurrentVersion\\Run",name:"com.akiver.csdm",data:`"${n}" ${r.join(" ")}`});return}let t=Ng();if(e===Ie.Off)await Li.default.remove(t);else{let r=`Exec=${process.execPath} --login`;e===Ie.Minimized&&(r+=" --minimized");let n=`
[Desktop Entry]
Version=1.0
Type=Application
${r}
Name=CS Demo Manager
Comment=Counter-Strike Demo Manager
Terminal=false
`;await Li.default.writeFile(t,n)}}function Rg(e){return bt?e.replace(/\//g,"\\"):e}function Ig(){te.ipcMain.handle(z.BrowseToFile,(e,t)=>{te.shell.showItemInFolder(Rg(t))}),te.ipcMain.handle(z.BrowseToFolder,async(e,t)=>{try{await te.shell.openPath(Rg(`${t}/`))}catch(r){logger.error(`Error while opening path: ${t}`),logger.error(r)}}),te.ipcMain.handle(z.ReloadWindow,()=>{let e=G.getMainWindow();e!==null&&!e.isDestroyed()&&e.reload()}),te.ipcMain.handle(z.RestartApp,()=>{te.app.relaunch(),te.app.exit()}),te.ipcMain.handle(z.GetStartupArguments,()=>G.getStartupArguments()),te.ipcMain.handle(z.ClearStartupArguments,()=>G.clearStartupArguments()),te.ipcMain.handle(z.ShowWindow,()=>{let e=G.getMainWindow();e!==null&&!e.isDestroyed()&&e.show()}),te.ipcMain.handle(z.MinimizeWindow,()=>{let e=G.getMainWindow();e!==null&&!e.isDestroyed()&&e.minimize()}),te.ipcMain.handle(z.MaximizeWindow,()=>{let e=G.getMainWindow();e!==null&&!e.isDestroyed()&&e.maximize()}),te.ipcMain.handle(z.UnMazimizeWindow,()=>{let e=G.getMainWindow();e!==null&&!e.isDestroyed()&&e.unmaximize()}),te.ipcMain.handle(z.CloseWindow,()=>{let e=G.getMainWindow();e!==null&&!e.isDestroyed()&&e.close()}),te.ipcMain.handle(z.IsWindowMaximized,()=>{let e=G.getMainWindow();return e!==null&&!e.isDestroyed()?e.isMaximized():!1}),te.ipcMain.handle(z.ShowSaveDialog,(e,t)=>{let r=G.getOrCreateMainWindow();return te.dialog.showSaveDialog(r,t)}),te.ipcMain.handle(z.ShowOpenDialog,(e,t)=>{let r=G.getOrCreateMainWindow();return te.dialog.showOpenDialog(r,t)}),te.ipcMain.handle(z.CanGoBack,()=>{let e=G.getMainWindow();return e!==null&&!e.isDestroyed()?e.webContents.navigationHistory.canGoBack():!1}),te.ipcMain.handle(z.CanGoForward,()=>{let e=G.getMainWindow();return e!==null&&!e.isDestroyed()?e.webContents.navigationHistory.canGoForward():!1}),te.ipcMain.handle(z.GetSystemStartupBehavior,async()=>await Dg()),te.ipcMain.handle(z.UpdateSystemStartupBehavior,async(e,t)=>{await xo(t)})}var Ze=require("electron");var ve=ee(kg());var In={StartMinimizedMode:"start-minimized-mode",HasPendingAnalyses:"has-pending-analyses",StartCounterStrike:"start-counter-strike"};function Tu(e){let t=[],r={label:N.t({id:"menu.startCounterStrikeGlobalOffensive",message:"Start CS:GO"}),click:()=>{e.send({name:In.StartCounterStrike,payload:ve.Game.CSGO})}};ke?t.push({label:Ze.app.name,submenu:[{label:N.t({id:"menu.about",message:"About"}),click:()=>{G.getOrCreateMainWindow().webContents.send(z.ShowAbout)}},{type:"separator"},r,{type:"separator"},{label:N.t({id:"menu.preferences",message:"Preferences"}),click:()=>{G.getOrCreateMainWindow().webContents.send(z.ToggleSettingsVisibility)},accelerator:"CmdOrCtrl+,"},{type:"separator"},{role:"services",label:N.t({id:"menu.services",message:"Services"})},{type:"separator"},{role:"hide",label:N.t({id:"menu.hide",message:"Hide CS:DM"})},{role:"hideOthers",label:N.t({id:"menu.hideOthers",message:"Hide Others"}),accelerator:"Command+Alt+H"},{role:"unhide",label:N.t({id:"menu.showAll",message:"Show All"})},{type:"separator"},{label:N.t({id:"menu.quit",message:"Quit CS:DM"}),accelerator:"CommandOrControl+Q",click:(s,o)=>{o?.close()}}]}):t.push({id:"file",label:N.t({id:"menu.file",message:"File"}),submenu:[{label:N.t({id:"menu.startCounterStrike2",message:"Start CS2"}),click:()=>{e.send({name:In.StartCounterStrike,payload:ve.Game.CS2})}},r,{label:N.t({id:"menu.preferences",message:"Preferences"}),click:()=>{G.getOrCreateMainWindow().webContents.send(z.ToggleSettingsVisibility)},accelerator:"CmdOrCtrl+,"},{role:"quit",label:N.t({id:"menu.quit",message:"Quit CS:DM"})}]}),t.push({id:"edit",label:N.t({id:"menu.edit",message:"Edit"}),submenu:[{label:N.t({id:"menu.undo",message:"Undo"}),role:"undo",accelerator:"CmdOrCtrl+Z"},{label:N.t({id:"menu.redo",message:"Redo"}),role:"redo",accelerator:ke?"Shift+CommandOrControl+Z":"Control+Y"},{type:"separator"},{label:N.t({id:"menu.cut",message:"Cut"}),role:"cut",accelerator:"CommandOrControl+X"},{label:N.t({id:"menu.copy",message:"Copy"}),role:"copy",accelerator:"CommandOrControl+C"},{label:N.t({id:"menu.paste",message:"Paste"}),role:"paste",accelerator:"CommandOrControl+V"},{label:N.t({id:"menu.pasteAndMatchStyle",message:"Paste and Match Style"}),role:"pasteAndMatchStyle",accelerator:ke?"Cmd+Option+Shift+V":"Shift+CommandOrControl+V"},{label:N.t({id:"menu.delete",message:"Delete"}),role:"delete"},{label:N.t({id:"menu.selectAll",message:"Select All"}),role:"selectAll",accelerator:"CommandOrControl+A"}]},{label:N.t({id:"menu.view",message:"View"}),submenu:[{label:N.t({id:"menu.reload",message:"Reload"}),role:"reload",accelerator:"CmdOrCtrl+R"},{label:N.t({id:"menu.forceReload",message:"Force Reload"}),role:"forceReload",accelerator:"Shift+CmdOrCtrl+R"},{type:"separator"},{label:N.t({id:"menu.toggleFullScreen",message:"Toggle Full Screen"}),role:"togglefullscreen",accelerator:ke?"Control+Command+F":"F11"},{label:"Toggle Developer Tools",role:"toggleDevTools",accelerator:ke?"Alt+Command+I":"Ctrl+Shift+I"},{type:"separator"},{label:N.t({id:"menu.resetZoom",message:"Actual size"}),role:"resetZoom",accelerator:"CommandOrControl+0"},{label:N.t({id:"menu.zoomIn",message:"Zoom In"}),role:"zoomIn",accelerator:"CommandOrControl+Plus"},{label:N.t({id:"menu.zoomOut",message:"Zoom Out"}),role:"zoomOut",accelerator:"CommandOrControl+-"}]}),ke&&t.push({label:N.t({id:"menu.window",message:"Window"}),submenu:[{label:N.t({id:"menu.close",message:"Close"}),role:"close",accelerator:"CommandOrControl+W"},{label:N.t({id:"menu.minimize",message:"Minimize"}),role:"minimize",accelerator:"CommandOrControl+M"},{label:N.t({id:"menu.zoom",message:"Zoom"}),role:"zoom"},{label:N.t({id:"menu.tileWindowToLeftOfScreen",message:"Tile Window to Left of Screen"}),click:()=>{let s=Ze.screen.getPrimaryDisplay(),{width:o,height:a}=s.bounds;G.getOrCreateMainWindow().setBounds({x:0,y:a,width:o/2,height:a})}},{label:N.t({id:"menu.tileWindowToRightOfScreen",message:"Tile Window to Right of Screen"}),click:()=>{let s=Ze.screen.getPrimaryDisplay(),{width:o,height:a}=s.bounds;G.getOrCreateMainWindow().setBounds({x:o/2,y:a,width:o/2,height:a})}},{type:"separator"},{label:N.t({id:"menu.bringAllToFront",message:"Bring All to Front"}),role:"front"}]});let n=[{label:N.t({id:"menu.documentation",message:"Documentation"}),click:()=>{Ze.shell.openExternal("https://cs-demo-manager.com/docs")}},{label:"GitHub",click:()=>{Ze.shell.openExternal("https://github.com/akiver/cs-demo-manager")}}];ke||n.push({label:N.t({id:"menu.about",message:"About"}),click:()=>{G.getOrCreateMainWindow().webContents.send(z.ShowAbout)}}),t.push({label:N.t({id:"menu.help",message:"Help"}),role:"help",submenu:n});let i=Ze.Menu.buildFromTemplate(t);return Ze.Menu.setApplicationMenu(i),Ze.ipcMain.removeHandler(z.ShowTitleBarMenu),Ze.ipcMain.handle(z.ShowTitleBarMenu,()=>{i.popup()}),i}var Mg=require("node:os"),qg=require("node:child_process");async function jP(){return new Promise((e,t)=>{let{shell:r}=(0,Mg.userInfo)();if(!r)return t(new Error("Could not find shell"));let n=(0,qg.spawn)(r,["-ilc","env; exit"],{env:{DISABLE_AUTO_UPDATE:"true"}});n.stdout.on("data",i=>{let o=i.toString().split(`
`).find(a=>a.startsWith("PATH="));return o===void 0?t(new Error("Could not find PATH in environment")):e(o.split("=")[1])}),n.on("close",i=>{if(i!==0)return t()})})}async function Ug(){if(process.platform!=="win32")try{process.env.PATH=await jP()}catch(e){logger.error("Failed to get the PATH environment variable value."),logger.error(e)}}var Mi={DownloadValveDemoStarted:"download-valve-demo-started",DownloadFaceitDemoStarted:"download-faceit-demo-started",Download5EPlayDemoStarted:"download-5eplay-demo-started",DownloadRenownDemosStarted:"download-renown-demos-started"};var uD=ee(Fy(),1),cD=ee(qu(),1),fD=ee(Bu(),1),jy=ee(ko(),1),dD=ee(Gy(),1);var Hy=jy.default;var Vy=require("node:crypto");var Bn={Reply:"reply",ReplyError:"reply-error",NewBannedAccounts:"new-banned-accounts",NewBannedAccountsError:"new-banned-accounts-error"};var qo=class{messageQueue=[];listeners=new Map;replyHandlers=new Map;socket;isConnected=!1;constructor(){this.connect()}on(t,r){let n=this.listeners.get(t);n===void 0?this.listeners.set(t,[r]):n.push(r)}off(t,r){let n=this.listeners.get(t);n!==void 0&&this.listeners.set(t,n.filter(i=>i!==r))}removeAllEventListeners(t){this.listeners.set(t,[])}send(t){return new Promise((r,n)=>{let i=(0,Vy.randomUUID)();t.uuid=i,this.replyHandlers.set(i,{resolve:r,reject:n}),this.isConnected?this.socket.send(JSON.stringify(t)):this.messageQueue.push(t)})}connect=()=>{logger.log("WS:: connecting to server");let t=`ws://localhost:${4574}?process=main`;this.socket=new Hy(t),this.socket.addEventListener("open",this.onConnect),this.socket.addEventListener("error",this.onDisconnect)};onConnect=()=>{logger.log("WS:: connected"),this.isConnected=!0,this.socket.addEventListener("message",this.onMessage),this.socket.addEventListener("close",this.onDisconnect),this.socket.addEventListener("error",this.onError);for(let t of this.messageQueue)this.send(t);this.messageQueue=[]};onDisconnect=()=>{logger.warn("WS:: disconnected"),this.isConnected=!1,this.connect()};onError=t=>{logger.error("WS:: error",t),this.isConnected=!1};onMessage=t=>{try{let r=JSON.parse(t.data),{name:n,payload:i,uuid:s}=r;switch(n){case Bn.Reply:{if(s===void 0){logger.log(`WS:: missing uuid for message with name: "${n}", can't retrieve its reply handler`);return}let o=this.replyHandlers.get(s);o?(o.resolve(i),this.replyHandlers.delete(s)):logger.log(`WS:: no reply handler for message with name: "${n}" and uuid ${s}`)}break;case Bn.ReplyError:{if(s===void 0){logger.log(`WS:: missing uuid for message with name: "${n}", can't retrieve its reply handler`);return}let o=this.replyHandlers.get(s);o?(o.reject(i),this.replyHandlers.delete(s)):logger.log(`WS:: no reply handler for message with name: "${n}" and uuid ${s}`)}break;default:{logger.log(`WS:: message "${n}" received from server`);let o=this.listeners.get(n);if(o)for(let a of o)a(this,i);else logger.log(`WS:: no listener for message with name: "${n}"`)}}}catch(r){logger.error("WS:: Error on message:"),logger.error(r)}}};var zy=require("electron");function Yy(e){let t=new zy.Notification({title:N.t({id:"notification.bannedPlayers.title",message:"{playerCount} new banned players!",values:{playerCount:e}}),body:N.t({id:"notification.bannedPlayers.body",message:"Click to see players"})});t.on("click",()=>{G.setStartupArgument(lt.StartPath,Rn.Bans);let r=G.getOrCreateMainWindow();r.show(),r.webContents.send(z.NavigateToBans)}),t.show()}function Ky(e,t){let r=G.getMainWindow();(r===null||r!==null&&r.isDestroyed()||!r.isFocused())&&Yy(t.length)}var Xy=require("electron");var Ku={UnknownError:1,NetworkError:2,PsqlTimeout:3,RoundNotFound:403,DemoNotFound:404,MatchNotFound:405,PlayerNotFound:406,CounterStrikeExecutableNotFound:407,NoKillsFound:408,NoDeathsFound:409,FileNotFound:410,DownloadFolderNotExists:411,DownloadFolderNotDefined:412,DecodeShareCodeError:413,MatchAlreadyInDownloadQueue:414,MatchAlreadyDownloaded:415,DemoLinkExpired:416,WriteDemoInfoFileError:417,InvalidDemoHeader:418,StartCounterStrikeError:419,UnsupportedGame:420,GameError:421,NoRoundsFound:422,AccessDenied:423,TeamNotFound:424,TeamsNotFound:426,MissingPlayerSlot:427,CustomCounterStrikeExecutableNotFound:428,CounterStrikeAlreadyRunning:429,CounterStrikeNotRunning:430,CounterStrikeNotConnected:431,CounterStrikeNoResponse:432,InvalidDemoPath:505,ChecksumsMismatch:506,DuplicateTeamName:507,MapAlreadyExists:600,PsqlNotFound:700,DatabaseSchemaVersionMismatch:701,BoilerInvalidArgs:800,BoilerCommunicationFailure:801,BoilerAlreadyConnected:802,BoilerSteamRestartRequired:803,BoilerSteamNotRunningOrLoggedIn:804,BoilerUserNotConnected:805,BoilerNoMatchesFound:806,BoilerWriteFileFailure:807,BoilerMatchesFileNotFound:808,BoilerUnknownError:809,CsVoiceExtractorInvalidArgs:820,CsVoiceExtractorLoadCsgoLibError:821,CsVoiceExtractorParsingError:822,CsVoiceExtractorUnsupportedAudioCodec:823,CsVoiceExtractorNoVoiceDataFound:824,CsVoiceExtractorDecodingError:825,CsVoiceExtractorCreateAudioFileError:826,CsVoiceExtractorOpenDemoError:827,CsVoiceExtractorUnsupportedDemoFormat:828,CsVoiceExtractorMissingLibraryFiles:829,BadCpuType:830,InvalidShareCode:850,HlaeNotInstalled:900,NoSequencesFound:901,FfmpegNotInstalled:902,FfmpegError:903,VirtualDubNotInstalled:904,VirtualDubError:905,WavFileNotFound:906,RawFilesNotFound:907,HlaeError:908,InvalidFfmpegExecutable:909,InvalidHlaeExecutable:910,SteamApiForbidden:1e3,SteamApiError:1001,SteamApiTooManyRequests:1002,FaceItApiForbidden:1100,FaceItApiError:1101,FaceItApiResourceNotFound:1102,FaceItApiUnauthorized:1103,FaceItApiInvalidRequest:1104,FiveEPlayApiError:1200,FiveEPlayApiResourceNotFound:1201,FiveEPlayApiInvalidRequest:1202,RenownApiError:1300,RenownApiResourceNotFound:1301,RenownTooManyRequests:1302,RenownInvalidRequest:1303,SteamAccountAlreadyIgnored:2e3,SteamAccountNotFound:2001,InvalidSteamCommunityUrl:2002,SteamAccountNameTooLong:2003,TagNameAlreadyTaken:3e3,TagNameTooShort:3001,TagNameTooLong:3002,InvalidTagColor:3003,TagNotFound:3004,CameraAlreadyExists:3010,InvalidDemoName:3100,AnalyzeCorruptedDemo:3200,InsertMatchDuplicatedChecksum:3201,InsertRoundsError:3210,SteamNotRunning:4e3,InvalidBackupFile:4100};function Jy(e,t){let r=G.getMainWindow();if(r!==null&&!r.isDestroyed()&&r.isFocused())return;let n;switch(t){case Ku.SteamApiForbidden:n=N.t({id:"notification.steamApi.forbiddenError",message:"The Steam API returned a forbidden error"});break;case Ku.SteamApiTooManyRequests:n=N.t({id:"notification.steamApi.tooManyRequestsError",message:"Steam API returned a 429 status code"});break;default:n=N.t({id:"notification.steamApi.unknownError",message:"An error occurred while checking for new banned Steam accounts (code {errorCode})",values:{errorCode:t}})}new Xy.Notification({title:N.t({id:"notification.steamApi.title",message:"Steam API error"}),body:n}).show()}var Qy=require("electron");function wr(e){let t=G.getMainWindow();if(t&&!t.isDestroyed()&&t.isFocused())return;let r=new Qy.Notification({title:e.title,body:e.message});r.on("click",()=>{let n=G.getOrCreateMainWindow();G.setStartupArgument(lt.StartPath,Rn.Downloads),n.webContents.send(z.NavigateToPendingDownloads),n.show(),n.focus()}),r.show()}function Zy(){return wr({title:N.t({id:"notification.downloadingValveDemo.title",message:"Downloading Valve demos"}),message:N.t({id:"notification.downloadingValveDemo.message",message:"New Valve demos are being downloaded, click here to show them"})})}function ew(){return wr({title:N.t({id:"notification.downloadingFaceitDemo.title",message:"Downloading FACEIT demos"}),message:N.t({id:"notification.downloadingFaceitDemo.message",message:"New FACEIT demos are being downloaded, click here to show them"})})}function tw(){return wr({title:N.t({id:"notification.downloading5EplayDemo.title",message:"Downloading 5Eplay demos"}),message:N.t({id:"notification.downloading5EplayDemo.message",message:"New 5Eplay demos are being downloaded, click here to show them"})})}function rw(){return wr({title:N.t({id:"notification.downloadingRenownDemo.title",message:"Downloading Renown demos"}),message:N.t({id:"notification.downloadingRenownDemo.message",message:"New Renown demos are being downloaded, click here to show them"})})}function nw(){let e=new qo;return e.on(Bn.NewBannedAccounts,Ky),e.on(Bn.NewBannedAccountsError,Jy),e.on(Mi.DownloadValveDemoStarted,Zy),e.on(Mi.DownloadFaceitDemoStarted,ew),e.on(Mi.Download5EPlayDemoStarted,tw),e.on(Mi.DownloadRenownDemosStarted,rw),e}var Uw=ee(hr());Xr();var pw=ee(hr());var hw=ee(require("node:path"));function Zt(){return hw.default.resolve(co(),"settings.json")}async function zi(e){try{let t=Zt(),r=JSON.stringify(e,null,2);await pw.default.outputFile(t,r)}catch(t){throw logger.error("Error while writing settings"),logger.error(t),t}}var Yi=ee(hr());Xr();var mw=me;async function gw(){try{let e=Zt();if(!await Yi.default.pathExists(e))return await zi(me),me;let r=await Yi.default.readFile(e,"utf8"),n=JSON.parse(r);return mw=n,n}catch(e){return logger.error("Failed to parse settings file"),logger.error(e),mw}}function yw(){try{let e=Zt();if(!Yi.default.existsSync(e))return me;let r=Yi.default.readFileSync(e,"utf8");return JSON.parse(r)}catch(e){return logger.error("Failed to parse settings file synchronously"),logger.error(e),me}}async function qw(){return(await Promise.all([Promise.resolve().then(()=>(_w(),ww)),Promise.resolve().then(()=>(Ew(),vw)),Promise.resolve().then(()=>(bw(),Sw)),Promise.resolve().then(()=>(Cw(),xw)),Promise.resolve().then(()=>(Tw(),Aw)),Promise.resolve().then(()=>(Pw(),Ow)),Promise.resolve().then(()=>(Dw(),Nw)),Promise.resolve().then(()=>(Iw(),Rw)),Promise.resolve().then(()=>(Lw(),Fw)),Promise.resolve().then(()=>(Mw(),kw))])).map(r=>r.default).sort((r,n)=>r.schemaVersion-n.schemaVersion)}Xu();function FD(e,t){return e.filter(r=>r.schemaVersion>t&&r.schemaVersion<=10)}async function $w(){let e=0,t=me,r=Zt();if(await Uw.default.pathExists(r)&&(t=await gw(),e=t.schemaVersion),e>10)return await zi(me),me;if(!(e<10))return t;let o=await qw(),a=FD(o,e);for(let l of a)await l.run(t);return t.schemaVersion=10,await zi(t),t}var ml=require("electron"),Pt=ee(pC()),mC=require("electron");Pt.autoUpdater.logger={error:logger.error,info:logger.log,warn:logger.warn,debug:logger.log};Pt.autoUpdater.disableWebInstaller=!0;Pt.autoUpdater.autoDownload=!1;function gC(e){let t=null,r=!1,n=e;Pt.autoUpdater.on("update-available",s=>{if(t!==null&&t===s.version)return;if(n){r=!0,Pt.autoUpdater.downloadUpdate();return}let a=new mC.Notification({title:N.t({id:"notification.downloadAvailable.title",message:"A new update is available!"}),body:N.t({id:"notification.downloadAvailable.body",message:"Click here to download it."})});a.on("click",()=>{Pt.autoUpdater.downloadUpdate()}),a.show()}),Pt.autoUpdater.on("update-downloaded",s=>{let o=G.getMainWindow();o!==null&&!o.isDestroyed()&&o.webContents.send(z.UpdateDownloaded),t=s.version,r=!1}),ml.ipcMain.handle(z.InstallUpdate,()=>{Pt.autoUpdater.quitAndInstall()}),ml.ipcMain.handle(z.HasUpdateReadyToInstall,()=>t!==null),ml.ipcMain.handle(z.ToggleAutoUpdate,(s,o)=>{n=o});let i=1e3*60*60*12;setInterval(()=>{r||Pt.autoUpdater.checkForUpdates()},i),Pt.autoUpdater.checkForUpdates()}process.env.PROCESS_NAME="main";process.on("uncaughtException",logger.error);process.on("unhandledRejection",logger.error);var yC,Fd=!1;fe.app.setAppUserModelId("com.akiver.csdm");var gB=yw();gB.ui.enableHardwareAcceleration===!1&&fe.app.disableHardwareAcceleration();fe.app.commandLine.appendSwitch("disable-background-timer-throttling");fe.app.commandLine.appendSwitch("disable-renderer-backgrounding");fe.app.commandLine.appendSwitch("disable-features",["UseEcoQoSForBackgroundProcess","IntensiveWakeUpThrottling"].join(","));async function yB(){await fe.app.whenReady();let e=(f,h)=>{f.webContents.send(z.OpenDemFile,h),f.show()},t=f=>f.find(h=>h.endsWith(".dem"));fe.app.on("window-all-closed",()=>{fe.app.dock&&fe.app.dock.hide()}),fe.app.on("activate",()=>{G.getOrCreateMainWindow()}),fe.app.on("open-file",(f,h)=>{if(!h.endsWith(".dem"))return;G.setStartupArgument(lt.DemoPath,h);let p=G.getOrCreateMainWindow();e(p,h)}),fe.app.on("second-instance",(f,h)=>{let p=t(h);typeof p=="string"&&G.setStartupArgument(lt.DemoPath,p);let y=G.getOrCreateMainWindow();y.show(),typeof p=="string"&&e(y,p)}),await Ug(),Zm();let r=t(process.argv);typeof r=="string"&&G.setStartupArgument(lt.DemoPath,r);let n=Zt();await wC.default.pathExists(n)||xo(Ie.Minimized);let s=await $w();await Cu(s.ui.locale),yC=yg();let o=nw();Tu(o),Ig();let a=!1,l=!1;if(ke){let{wasOpenedAtLogin:f,wasOpenedAsHidden:h}=fe.app.getLoginItemSettings();a=f,l=a&&h}else a=process.argv.includes("--login"),l=process.argv.includes("--minimized");a&&G.setStartupArgument(lt.AppOpenedAtLogin,"true"),l?(fe.app.dock&&fe.app.dock.hide(),o.send({name:In.StartMinimizedMode})):G.getOrCreateMainWindow(),fe.ipcMain.handle(z.LocaleChanged,async(f,h)=>{await Cu(h),yC?.setContextMenu(vo()),Tu(o);let p=G.getOrCreateMainWindow();yo(p)});let c=()=>{fe.app.exit()},u=async f=>{if(Fd||!o.isConnected)return;if(Fd=!0,f.preventDefault(),await o.send({name:In.HasPendingAnalyses})){let p=G.getOrCreateMainWindow(),{response:y}=await fe.dialog.showMessageBox(p,{message:N.t({id:"dialog.quitApp.confirmation",message:"Demo analyses in progress, do you want to quit?"}),type:"warning",buttons:[N.t({id:"yes",message:"Yes"}),N.t({id:"no",message:"No"})]});y===0?c():Fd=!1}else c()};fe.app.on("before-quit",u),gC(s.autoDownloadUpdates)}var wB=fe.app.requestSingleInstanceLock();if(wB)yB();else{let e=G.getMainWindow();e!==null&&!e.isDestroyed()&&e.show(),fe.app.quit()}
/*! Bundled license information:

sax/lib/sax.js:
  (*! http://mths.be/fromcodepoint v0.1.0 by @mathias *)

chokidar/index.js:
  (*! chokidar - MIT License (c) 2012 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=main.js.map
